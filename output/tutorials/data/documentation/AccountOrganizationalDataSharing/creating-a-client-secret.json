{
  "abstract": [
    {
      "text": "Generate a signed token to identify your client application.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/creating-a-client-secret"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "Account & Organizational Data Sharing"
      }
    ],
    "role": "article",
    "roleHeading": "Article",
    "title": "Creating a client secret"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "Overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "JSON Web Token (JWT) is an open-standard (",
              "type": "text"
            },
            {
              "identifier": "https://www.rfc-editor.org/rfc/rfc7519",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ") that defines a way to transmit information securely. Account and",
              "type": "text"
            },
            {
              "text": " Organizational Data Sharing requires JWTs to authorize each validation request. Create the token, then sign it with the ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/help/account/share-account-data/share-account-and-organizational-data/",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " you downloaded from your developer account.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To create a signed JWT:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Create the JWT header.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Create the JWT payload.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Sign the JWT.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "orderedList"
        },
        {
          "inlineContent": [
            {
              "text": "To create a JWT, use the following fields and values in the JWT header:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The algorithm used to sign the token. For Account and Organizational Data Sharing, use ",
                        "type": "text"
                      },
                      {
                        "code": "ES256",
                        "type": "codeVoice"
                      },
                      {
                        "text": ".",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "alg",
                    "type": "codeVoice"
                  }
                ]
              }
            },
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "A 10-character key identifier generated for the Account and Organizational Data Sharing private key associated with your developer account.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "kid",
                    "type": "codeVoice"
                  }
                ]
              }
            }
          ],
          "type": "termList"
        },
        {
          "inlineContent": [
            {
              "text": "The JWT payload contains information specific to the Account and Organizational Data Sharing REST API and the client app, such as the issuer, subject, and expiration time. Use the following claims in the payload:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The ",
                        "type": "text"
                      },
                      {
                        "inlineContent": [
                          {
                            "text": "issuer",
                            "type": "text"
                          }
                        ],
                        "type": "emphasis"
                      },
                      {
                        "text": " registered claim identifies the principal that issued the client secret. Because the client secret belongs to your developer team, use the 10-character Team ID associated with your developer account.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "iss",
                    "type": "codeVoice"
                  }
                ]
              }
            },
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The ",
                        "type": "text"
                      },
                      {
                        "inlineContent": [
                          {
                            "text": "issued at",
                            "type": "text"
                          }
                        ],
                        "type": "emphasis"
                      },
                      {
                        "text": " registered claim indicates the time at which you generated the client secret, in terms of the number of seconds following the epoch (January 1 1970 00:00:00), in UTC.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "iat",
                    "type": "codeVoice"
                  }
                ]
              }
            },
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The ",
                        "type": "text"
                      },
                      {
                        "inlineContent": [
                          {
                            "text": "expiration time",
                            "type": "text"
                          }
                        ],
                        "type": "emphasis"
                      },
                      {
                        "text": " registered claim identifies the time on or after which the client secret expires. It’s an error to request an expiration time more than ",
                        "type": "text"
                      },
                      {
                        "code": "15777000",
                        "type": "codeVoice"
                      },
                      {
                        "text": " seconds (six months) in the future, as measured by the clock on Apple’s servers.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "exp",
                    "type": "codeVoice"
                  }
                ]
              }
            },
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The ",
                        "type": "text"
                      },
                      {
                        "inlineContent": [
                          {
                            "text": "audience",
                            "type": "text"
                          }
                        ],
                        "type": "emphasis"
                      },
                      {
                        "text": " registered claim identifies the intended recipient of the client secret. Because the client secret is sent to the validation server, use ",
                        "type": "text"
                      },
                      {
                        "code": "https://appleid.apple.com",
                        "type": "codeVoice"
                      },
                      {
                        "text": " as the audience.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "aud",
                    "type": "codeVoice"
                  }
                ]
              }
            },
            {
              "definition": {
                "content": [
                  {
                    "inlineContent": [
                      {
                        "text": "The ",
                        "type": "text"
                      },
                      {
                        "inlineContent": [
                          {
                            "text": "subject",
                            "type": "text"
                          }
                        ],
                        "type": "emphasis"
                      },
                      {
                        "text": " registered claim identifies the principal that is the subject of the client secret. Because this client secret is meant for your app, use the same App ID or Services ID that you use as the ",
                        "type": "text"
                      },
                      {
                        "code": "client_id",
                        "type": "codeVoice"
                      },
                      {
                        "text": " to generate and refresh tokens. The value is case-sensitive.",
                        "type": "text"
                      }
                    ],
                    "type": "paragraph"
                  }
                ]
              },
              "term": {
                "inlineContent": [
                  {
                    "code": "sub",
                    "type": "codeVoice"
                  }
                ]
              }
            }
          ],
          "type": "termList"
        },
        {
          "inlineContent": [
            {
              "text": "After creating the JWT, sign it using the Elliptic Curve Digital Signature Algorithm (ECDSA) with the P-256 curve and the SHA-256 hash algorithm. A decoded ",
              "type": "text"
            },
            {
              "code": "client_secret",
              "type": "codeVoice"
            },
            {
              "text": " JWT token has the following format:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "{",
            "    \"alg\": \"ES256\",",
            "    \"kid\": \"ABC123DEFG\"",
            "}",
            "{",
            "    \"iss\": \"DEF123GHIJ\",",
            "    \"iat\": 1437179036,",
            "    \"exp\": 1493298100,",
            "    \"aud\": \"https://appleid.apple.com\",",
            "    \"sub\": \"com.mytest.app\"",
            "}"
          ],
          "syntax": "js",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "Regardless of the programming language you’re using with the Account and Organizational Data Sharing REST API, there are a variety of open source libraries available online for creating and signing JWT tokens. For more information, see ",
              "type": "text"
            },
            {
              "identifier": "https://jwt.io",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing": {
      "abstract": [
        {
          "text": "Provide people with the ability to authorize your apps and websites that access information about them on Apple REST services, like Roster API.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing",
      "kind": "symbol",
      "role": "collection",
      "title": "Account & Organizational Data Sharing",
      "type": "topic",
      "url": "/documentation/accountorganizationaldatasharing"
    },
    "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Fetch-Apple's-public-key-for-verifying-token-signature": {
      "abstract": [
        {
          "text": "Retrieve the public key associated with the cryptographic identity Apple uses to sign the token.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Fetch-Apple's-public-key-for-verifying-token-signature",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "Fetch Apple's public key for verifying token signature"
        }
      ],
      "role": "symbol",
      "title": "Fetch Apple's public key for verifying token signature",
      "type": "topic",
      "url": "/documentation/accountorganizationaldatasharing/fetch-apple's-public-key-for-verifying-token-signature"
    },
    "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Generate-and-validate-tokens": {
      "abstract": [
        {
          "text": "Validate an authorization grant code delivered to your app to obtain tokens, or validate an existing refresh token.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Generate-and-validate-tokens",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "Generate and validate tokens"
        }
      ],
      "role": "symbol",
      "title": "Generate and validate tokens",
      "type": "topic",
      "url": "/documentation/accountorganizationaldatasharing/generate-and-validate-tokens"
    },
    "https://developer.apple.com/help/account/share-account-data/share-account-and-organizational-data/": {
      "identifier": "https://developer.apple.com/help/account/share-account-data/share-account-and-organizational-data/",
      "title": "private key",
      "titleInlineContent": [
        {
          "text": "private key",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/share-account-data/share-account-and-organizational-data/"
    },
    "https://jwt.io": {
      "identifier": "https://jwt.io",
      "title": "JWT.io",
      "titleInlineContent": [
        {
          "text": "JWT.io",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://jwt.io"
    },
    "https://www.rfc-editor.org/rfc/rfc7519": {
      "identifier": "https://www.rfc-editor.org/rfc/rfc7519",
      "title": "RFC 7519",
      "titleInlineContent": [
        {
          "text": "RFC 7519",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://www.rfc-editor.org/rfc/rfc7519"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Generating-tokens",
      "generated": true,
      "identifiers": [
        "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Fetch-Apple's-public-key-for-verifying-token-signature",
        "doc://org.swift.docc.AccountOrganizationalDataSharing/documentation/AccountOrganizationalDataSharing/Generate-and-validate-tokens"
      ],
      "title": "Generating tokens"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/accountorganizationaldatasharing/creating-a-client-secret"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
