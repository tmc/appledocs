{
  "abstract": [
    {
      "text": "A service that provides a custom communication channel between your app and a File Provider extension.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/file_system",
        "doc://com.apple.documentation/documentation/foundation/filemanager"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud",
        "doc://com.apple.documentation/documentation/foundation/filemanager"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "swift",
    "url": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice"
  },
  "kind": "symbol",
  "legacy_identifier": 2915261,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:objc(cs)NSFileProviderService",
    "fragments": [
      {
        "kind": "text",
        "text": "class "
      },
      {
        "kind": "identifier",
        "text": "NSFileProviderService"
      }
    ],
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "current": "18.4",
        "introducedAt": "11.0",
        "name": "iOS"
      },
      {
        "current": "18.4",
        "introducedAt": "11.0",
        "name": "iPadOS"
      },
      {
        "current": "18.4",
        "introducedAt": "13.1",
        "name": "Mac Catalyst"
      },
      {
        "current": "15.4",
        "introducedAt": "10.13",
        "name": "macOS"
      },
      {
        "current": "2.4",
        "introducedAt": "1.0",
        "name": "visionOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Class",
    "symbolKind": "cl",
    "title": "NSFileProviderService"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "macOS",
            "visionOS"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "class"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSFileProviderService"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "text": "NSObject"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "To communicate, both your app and the File Provider extension must implement their part of the service:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Your app requests the proxy object, and calls its methods.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The File Provider extension declares the supported services and vends a proxy object that implements the protocol for each service.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "The app and File Provider extension communicate using an XPC service. This service performs actions only on items managed by the File Provider extension. For more information, see ",
              "type": "text"
            },
            {
              "identifier": "devLink-1696401",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "2934440",
          "level": 3,
          "text": "Defining the Service’s Protocol",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Services let you define custom actions that are not provided by Apple’s APIs. Both the app and the File Provider extension must agree upon the service’s name and protocol.  Communicate the name and protocol through an outside source (for example, posting a header file that defines both the name and protocol, or publishing a library that includes them both).",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The service can be defined by either the app or the File Provider extension:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Apps can define a service for features they would like to use. File providers can then choose to support those features by implementing the service.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "File Provider extensions can provide a service for the features they support. Apps can then choose to use the specified service.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "When defining a service’s protocol, the parameters for each method must adhere to the following rules:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The parameter’s class must conform to ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nssecurecoding",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The parameter’s class must be defined in both the app and the File Provider extension (for example, standard system types or classes defined in a library imported by both sides).",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "If a collection parameter contains types other than property list types (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "devLink-1737758",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": "), declare the valid types using the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " class’s ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classes",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " method.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "devLink-1696401": {
      "identifier": "devLink-1696401",
      "title": "Creating XPC Services",
      "type": "link",
      "url": "https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingXPCServices.html#//apple_ref/doc/uid/10000172i-SW6"
    },
    "devLink-1737758": {
      "identifier": "devLink-1737758",
      "title": "Property List Types and Objects",
      "type": "link",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/PropertyList.html#//apple_ref/doc/uid/TP40008195-CH44-SW2"
    },
    "doc://com.apple.documentation/documentation/foundation": {
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "kind": "symbol",
      "role": "collection",
      "title": "Foundation",
      "type": "topic",
      "url": "/documentation/foundation"
    },
    "doc://com.apple.documentation/documentation/foundation/file_system": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/file_system",
      "kind": "article",
      "role": "collectionGroup",
      "title": "File System",
      "type": "topic",
      "url": "/documentation/foundation/file_system"
    },
    "doc://com.apple.documentation/documentation/foundation/filemanager": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/filemanager",
      "kind": "symbol",
      "role": "symbol",
      "title": "FileManager",
      "type": "topic",
      "url": "/documentation/foundation/filemanager"
    },
    "doc://com.apple.documentation/documentation/foundation/filemanager/2915262-getfileproviderservicesforitem": {
      "abstract": [
        {
          "text": "Returns the services provided by the File Provider extension that manages the item at the given URL.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "getFileProviderServicesForItem"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "identifier",
          "text": "at"
        },
        {
          "kind": "text",
          "text": ": URL, "
        },
        {
          "kind": "identifier",
          "text": "completionHandler"
        },
        {
          "kind": "text",
          "text": ": ([NSFileProviderServiceName : NSFileProviderService]?, (any Error)?) -> Void)"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/filemanager/2915262-getfileproviderservicesforitem",
      "kind": "symbol",
      "role": "symbol",
      "title": "getFileProviderServicesForItem(at:completionHandler:)",
      "type": "topic",
      "url": "/documentation/foundation/filemanager/2915262-getfileproviderservicesforitem"
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "kind": "article",
      "role": "collectionGroup",
      "title": "iCloud",
      "type": "topic",
      "url": "/documentation/foundation/icloud"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice": {
      "abstract": [
        {
          "text": "A service that provides a custom communication channel between your app and a File Provider extension.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "NSFileProviderService"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileProviderService",
      "type": "topic",
      "url": "/documentation/foundation/nsfileproviderservice"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnection": {
      "abstract": [
        {
          "text": "Asynchronously returns the service’s connection object.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "getFileProviderConnection"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "identifier",
          "text": "completionHandler"
        },
        {
          "kind": "text",
          "text": ": (NSXPCConnection?, (any Error)?) -> Void)"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnection",
      "kind": "symbol",
      "role": "symbol",
      "title": "getFileProviderConnection(completionHandler:)",
      "type": "topic",
      "url": "/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnection"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name": {
      "abstract": [
        {
          "text": "The File Provider service’s name.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "name"
        },
        {
          "kind": "text",
          "text": ": NSFileProviderServiceName"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name",
      "kind": "symbol",
      "role": "symbol",
      "title": "name",
      "type": "topic",
      "url": "/documentation/foundation/nsfileproviderservice/2915258-name"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename": {
      "abstract": [
        {
          "text": "The name used to identify a File Provider service.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "struct "
        },
        {
          "kind": "identifier",
          "text": "NSFileProviderServiceName"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileProviderServiceName",
      "type": "topic",
      "url": "/documentation/foundation/nsfileproviderservicename"
    },
    "doc://com.apple.documentation/documentation/foundation/nssecurecoding": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nssecurecoding",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSSecureCoding",
      "type": "topic",
      "url": "/documentation/foundation/nssecurecoding"
    },
    "doc://com.apple.documentation/documentation/foundation/nsxpcinterface": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSXPCInterface",
      "type": "topic",
      "url": "/documentation/foundation/nsxpcinterface"
    },
    "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classes": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classes",
      "kind": "symbol",
      "role": "symbol",
      "title": "classes(for:argumentIndex:ofReply:)",
      "type": "topic",
      "url": "/documentation/foundation/nsxpcinterface/1418323-classes"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSObject",
      "type": "topic",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "relationshipsSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ],
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom"
    }
  ],
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/filemanager/2915262-getfileproviderservicesforitem",
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename"
      ],
      "title": "Accessing File Provider Services"
    }
  ],
  "topicSections": [
    {
      "anchor": "2934441",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name",
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnection"
      ],
      "kind": "taskGroup",
      "title": "Accessing the Service"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/foundation/nsfileproviderservice"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    },
    {
      "paths": [
        "documentation/foundation/nsfileproviderservice"
      ],
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ]
    }
  ]
}
