{
  "abstract": [
    {
      "text": "Replaces the contents of the item at the specified URL in a manner that ensures no data loss occurs.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/file_system",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1412432-replaceitematurl"
  },
  "kind": "symbol",
  "legacy_identifier": 1412432,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:objc(cs)NSFileManager(im)replaceItemAtURL:withItemAtURL:backupItemName:options:resultingItemURL:error:",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "parent": {
      "title": "NSFileManager"
    },
    "platforms": [
      {
        "current": "18.4",
        "introducedAt": "4.0",
        "name": "iOS"
      },
      {
        "current": "18.4",
        "introducedAt": "4.0",
        "name": "iPadOS"
      },
      {
        "current": "18.4",
        "introducedAt": "13.1",
        "name": "Mac Catalyst"
      },
      {
        "current": "15.4",
        "introducedAt": "10.6",
        "name": "macOS"
      },
      {
        "current": "18.4",
        "introducedAt": "9.0",
        "name": "tvOS"
      },
      {
        "current": "2.4",
        "introducedAt": "1.0",
        "name": "visionOS"
      },
      {
        "current": "11.4",
        "introducedAt": "2.0",
        "name": "watchOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Instance Method",
    "symbolKind": "instm",
    "title": "replaceItemAtURL:withItemAtURL:backupItemName:options:resultingItemURL:error:"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "macOS",
            "tvOS",
            "visionOS",
            "watchOS"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "BOOL"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "replaceItemAtURL:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSURL",
              "text": "NSURL"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "originalItemURL"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "withItemAtURL:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSURL",
              "text": "NSURL"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "newItemURL"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "backupItemName:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsstring",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSString",
              "text": "NSString"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "backupItemName"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "options:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSFileManagerItemReplacementOptions",
              "text": "NSFileManagerItemReplacementOptions"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "options"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "resultingItemURL:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSURL",
              "text": "NSURL"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "keyword",
              "text": "_Nullable"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "resultingURL"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "error:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSError",
              "text": "NSError"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "keyword",
              "text": "_Nullable"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "error"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The item containing the content you want to replace.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "originalItemURL"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The item containing the new content for ",
                  "type": "text"
                },
                {
                  "code": "originalItemURL",
                  "type": "codeVoice"
                },
                {
                  "text": ". It is recommended that you put this item in a temporary directory as provided by the OS. If a temporary directory is not available, put this item in a uniquely named directory that is in the same directory as the original item.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "newItemURL"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If provided, the name used to create a backup of the original item.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "The backup is automatically placed in the same directory as the original item. If an error occurs during the creation of the backup item, the operation fails. If there is already an item with the same name as the backup item, that item will be removed.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "The backup item will be removed in the event of success unless the ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementwithoutdeletingbackupitem",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " option is provided in ",
                  "type": "text"
                },
                {
                  "code": "options",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "backupItemName"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The options to use during the replacement. Typically, you pass ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementusingnewmetadataonly",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " for this parameter, which uses only the metadata from the new item. You can also combine the options described in ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " using the C-bitwise OR operator.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "options"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "On input, a pointer for a URL object. When the item is replaced, this pointer is set to the URL of the new item. If no new file system object is required, the URL object in this parameter may be the same passed to the ",
                  "type": "text"
                },
                {
                  "code": "originalItemURL",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter. However, if a new file system object is required, the URL object may be different. For example, replacing an RTF document with an RTFD document requires the creation of a new file.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "resultingURL"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "On input, a pointer to an error object. If an error occurs, this pointer is set to an error object containing the error information. You may specify ",
                  "type": "text"
                },
                {
                  "code": "nil",
                  "type": "codeVoice"
                },
                {
                  "text": " for this parameter if you do not want the error information.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "error"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes",
              "isActive": false,
              "type": "reference"
            },
            {
              "text": " if the replacement was successful or ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/objectivec/no",
              "isActive": false,
              "type": "reference"
            },
            {
              "text": " if an error occurred.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "By default, the creation date, permissions, Finder label and color, and Spotlight comments of the original item are preserved on the new item. You can configure which metadata is preserved using the ",
              "type": "text"
            },
            {
              "code": "options",
              "type": "codeVoice"
            },
            {
              "text": " parameter.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "This method works only when the ",
              "type": "text"
            },
            {
              "code": "originalItemURL",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "newItemURL",
              "type": "codeVoice"
            },
            {
              "text": " parameters are located on the same volume. Attempting to call this method by passing ",
              "type": "text"
            },
            {
              "code": "originalItemURL",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "newItemURL",
              "type": "codeVoice"
            },
            {
              "text": " parameters that have locations on different volumes results in an error. Instead, you can call the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1407693-urlfordirectory",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " method, passing ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nssearchpathdirectory/nsitemreplacementdirectory",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " as the search path directory, to get a temporary URL on the destination's volume that is suitable for use with this method.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If an error occurs and the original item is not in the original location or a temporary location, the resulting error object contains a user info dictionary with the key ",
              "type": "text"
            },
            {
              "code": "\"NSFileOriginalItemLocationKey\"",
              "type": "codeVoice"
            },
            {
              "text": ". The value assigned to that key is an ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " object with the location of the item. The error code is one of the file-related errors described in ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/1448136-nserror_codes",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "kind": "symbol",
      "role": "collection",
      "title": "Foundation",
      "type": "topic",
      "url": "/documentation/foundation"
    },
    "doc://com.apple.documentation/documentation/foundation/1448136-nserror_codes": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/1448136-nserror_codes",
      "kind": "symbol",
      "role": "containerSymbol",
      "title": "NSError Codes",
      "type": "topic",
      "url": "/documentation/foundation/1448136-nserror_codes"
    },
    "doc://com.apple.documentation/documentation/foundation/file_system": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/file_system",
      "kind": "article",
      "role": "collectionGroup",
      "title": "File System",
      "type": "topic",
      "url": "/documentation/foundation/file_system"
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "kind": "article",
      "role": "collectionGroup",
      "title": "iCloud",
      "type": "topic",
      "url": "/documentation/foundation/icloud"
    },
    "doc://com.apple.documentation/documentation/foundation/nserror": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSError",
      "type": "topic",
      "url": "/documentation/foundation/nserror"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager": {
      "abstract": [
        {
          "text": "A convenient interface to the contents of the file system, and the primary means of interacting with it.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileManager",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanager"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1407693-urlfordirectory": {
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "URLForDirectory:inDomain:appropriateForURL:create:error:"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1407693-urlfordirectory",
      "kind": "symbol",
      "role": "symbol",
      "title": "URLForDirectory:inDomain:appropriateForURL:create:error:",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanager/1407693-urlfordirectory"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1412432-replaceitematurl": {
      "abstract": [
        {
          "text": "Replaces the contents of the item at the specified URL in a manner that ensures no data loss occurs.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "replaceItemAtURL:withItemAtURL:backupItemName:options:resultingItemURL:error:"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager/1412432-replaceitematurl",
      "kind": "symbol",
      "role": "symbol",
      "title": "replaceItemAtURL:withItemAtURL:backupItemName:options:resultingItemURL:error:",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanager/1412432-replaceitematurl"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions": {
      "abstract": [
        {
          "text": "Options for specifying the behavior of file replacement operations.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileManagerItemReplacementOptions",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanageritemreplacementoptions"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementusingnewmetadataonly": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementusingnewmetadataonly",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileManagerItemReplacementUsingNewMetadataOnly",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementusingnewmetadataonly"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementwithoutdeletingbackupitem": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementwithoutdeletingbackupitem",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileManagerItemReplacementWithoutDeletingBackupItem",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanageritemreplacementoptions/nsfilemanageritemreplacementwithoutdeletingbackupitem"
    },
    "doc://com.apple.documentation/documentation/foundation/nssearchpathdirectory/nsitemreplacementdirectory": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nssearchpathdirectory/nsitemreplacementdirectory",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSItemReplacementDirectory",
      "type": "topic",
      "url": "/documentation/foundation/nssearchpathdirectory/nsitemreplacementdirectory"
    },
    "doc://com.apple.documentation/documentation/foundation/nsstring": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsstring",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSString",
      "type": "topic",
      "url": "/documentation/foundation/nsstring"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurl": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURL",
      "type": "topic",
      "url": "/documentation/foundation/nsurl"
    },
    "doc://com.apple.documentation/documentation/objectivec/no": {
      "identifier": "doc://com.apple.documentation/documentation/objectivec/no",
      "kind": "symbol",
      "role": "symbol",
      "title": "NO",
      "type": "topic",
      "url": "/documentation/objectivec/no"
    },
    "doc://com.apple.documentation/documentation/objectivec/yes": {
      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes",
      "kind": "symbol",
      "role": "symbol",
      "title": "YES",
      "type": "topic",
      "url": "/documentation/objectivec/yes"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsfilemanageritemreplacementoptions"
      ],
      "title": "Replacing Items"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/foundation/nsfilemanager/1412432-replaceitematurl"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    },
    {
      "paths": [
        "documentation/foundation/filemanager/1412432-replaceitem"
      ],
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ]
    }
  ]
}
