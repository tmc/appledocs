{
  "abstract": [
    {
      "text": "An option that instructs the system to store the file in an encrypted format on-disk after it closes.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/file_system",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/numbers_data_and_basic_values",
        "doc://com.apple.documentation/documentation/foundation/nsurl",
        "doc://com.apple.documentation/documentation/foundation/nsurlresourcekey",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteunlessopen"
  },
  "kind": "symbol",
  "legacy_identifier": 1616775,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@NSURLFileProtectionCompleteUnlessOpen",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "current": "18.4",
        "introducedAt": "9.0",
        "name": "iOS"
      },
      {
        "current": "18.4",
        "introducedAt": "9.0",
        "name": "iPadOS"
      },
      {
        "current": "18.4",
        "introducedAt": "13.1",
        "name": "Mac Catalyst"
      },
      {
        "current": "15.4",
        "introducedAt": "11.0",
        "name": "macOS"
      },
      {
        "current": "18.4",
        "introducedAt": "9.0",
        "name": "tvOS"
      },
      {
        "current": "2.4",
        "introducedAt": "1.0",
        "name": "visionOS"
      },
      {
        "current": "11.4",
        "introducedAt": "2.0",
        "name": "watchOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Global Variable",
    "symbolKind": "data",
    "title": "NSURLFileProtectionCompleteUnlessOpen"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "macOS",
            "tvOS",
            "visionOS",
            "watchOS"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSURLFileProtectionType",
              "text": "NSURLFileProtectionType"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSURLFileProtectionCompleteUnlessOpen"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Files with this type of protection can be created while the device is locked, but once closed, cannot be opened again until the device is unlocked. If the file is opened when unlocked, you may continue to access the file normally, even if the user locks the device. There is a small performance penalty when the file is created and opened, though not when being written to or read from. This can be mitigated by changing the file protection to ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncomplete",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " when the device is unlocked.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "kind": "symbol",
      "role": "collection",
      "title": "Foundation",
      "type": "topic",
      "url": "/documentation/foundation"
    },
    "doc://com.apple.documentation/documentation/foundation/file_system": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/file_system",
      "kind": "article",
      "role": "collectionGroup",
      "title": "File System",
      "type": "topic",
      "url": "/documentation/foundation/file_system"
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "kind": "article",
      "role": "collectionGroup",
      "title": "iCloud",
      "type": "topic",
      "url": "/documentation/foundation/icloud"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSFileManager",
      "type": "topic",
      "url": "/documentation/foundation/nsfilemanager"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurl": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURL",
      "type": "topic",
      "url": "/documentation/foundation/nsurl"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncomplete": {
      "abstract": [
        {
          "text": "An option that instructs the system to store the file in an encrypted format on-disk that your app can’t access for reading or writing to while the device is locked or booting.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncomplete",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionComplete",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectioncomplete"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteunlessopen": {
      "abstract": [
        {
          "text": "An option that instructs the system to store the file in an encrypted format on-disk after it closes.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteunlessopen",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionCompleteUnlessOpen",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectioncompleteunlessopen"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteuntilfirstuserauthentication": {
      "abstract": [
        {
          "text": "An option that instructs the system to store the file in an encrypted format on-disk that your app can’t access until after the device boots.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteuntilfirstuserauthentication",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionCompleteUntilFirstUserAuthentication",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectioncompleteuntilfirstuserauthentication"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompletewhenuserinactive": {
      "abstract": [
        {
          "text": "An option that instructs the system to store the file in an encrypted format on-disk that your app can access only after device unlock and before expiration.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompletewhenuserinactive",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionCompleteWhenUserInactive",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectioncompletewhenuserinactive"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectionnone": {
      "abstract": [
        {
          "text": "An option that indicates the file has no special protections associated with it.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectionnone",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionNone",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectionnone"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectiontype",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLFileProtectionType",
      "type": "topic",
      "url": "/documentation/foundation/nsurlfileprotectiontype"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlresourcekey": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlresourcekey",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLResourceKey",
      "type": "topic",
      "url": "/documentation/foundation/nsurlresourcekey"
    },
    "doc://com.apple.documentation/documentation/foundation/numbers_data_and_basic_values": {
      "identifier": "doc://com.apple.documentation/documentation/foundation/numbers_data_and_basic_values",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Numbers, Data, and Basic Values",
      "type": "topic",
      "url": "/documentation/foundation/numbers_data_and_basic_values"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncomplete",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompleteuntilfirstuserauthentication",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectioncompletewhenuserinactive",
        "doc://com.apple.documentation/documentation/foundation/nsurlfileprotectionnone"
      ],
      "title": "Protection levels"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/foundation/nsurlfileprotectioncompleteunlessopen"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    },
    {
      "paths": [
        "documentation/foundation/urlfileprotection/1616775-completeunlessopen"
      ],
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ]
    }
  ]
}
