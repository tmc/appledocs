{
  "abstract": [
    {
      "text": "Send a receipt to the App Store for verification.",
      "type": "text"
    }
  ],
  "deprecationSummary": [
    {
      "inlineContent": [
        {
          "text": "The ",
          "type": "text"
        },
        {
          "code": "verifyReceipt",
          "type": "codeVoice"
        },
        {
          "text": " endpoint is deprecated. To validate receipts on your server, follow the steps in ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/validating_receipts_on_the_device",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " on your server. To validate in-app purchases on your server without using receipts, call the ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " to get Apple-signed transaction and subscription information for your customers, or verify the ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.storekit/documentation/StoreKit/AppTransaction",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " and ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.storekit/documentation/StoreKit/Transaction",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " signed data that your app obtains. You can also get the same signed transaction and subscription information from the ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " endpoint.",
          "type": "text"
        }
      ],
      "type": "paragraph"
    }
  ],
  "diffAvailability": {
    "major": {
      "change": "deprecated",
      "platform": "App Store Receipts",
      "versions": [
        "1.0",
        "1.7"
      ]
    },
    "minor": {
      "change": "deprecated",
      "platform": "App Store Receipts",
      "versions": [
        "1.6",
        "1.7"
      ]
    }
  },
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appstorereceipts"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://com.apple.documentation/documentation/appstorereceipts/verifyreceipt"
  },
  "kind": "symbol",
  "legacy_identifier": 3149291,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "rest:store_receipts:post:verifyReceipt",
    "modules": [
      {
        "name": "App Store Receipts"
      }
    ],
    "platforms": [
      {
        "current": "1.7",
        "deprecated": true,
        "deprecatedAt": "1.7",
        "introducedAt": "1.0",
        "name": "App Store Receipts"
      }
    ],
    "role": "restRequestSymbol",
    "roleHeading": "Web Service Endpoint",
    "symbolKind": "httpPost",
    "title": "verifyReceipt"
  },
  "primaryContentSections": [
    {
      "kind": "restEndpoint",
      "title": "URL",
      "tokens": [
        {
          "kind": "method",
          "text": "POST"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "baseURL",
          "text": "https://buy.itunes.apple.com"
        },
        {
          "kind": "path",
          "text": "/verifyReceipt"
        }
      ]
    },
    {
      "kind": "restEndpoint",
      "title": "Sandbox URL",
      "tokens": [
        {
          "kind": "method",
          "text": "POST"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "baseURL",
          "text": "https://sandbox.itunes.apple.com"
        },
        {
          "kind": "path",
          "text": "/verifyReceipt"
        }
      ]
    },
    {
      "bodyContentType": [
        {
          "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/requestbody",
          "kind": "typeIdentifier",
          "preciseIdentifier": "data:store_receipts:requestBody",
          "text": "requestBody"
        }
      ],
      "content": [
        {
          "inlineContent": [
            {
              "text": "The JSON contents you submit with the request.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "restBody",
      "mimeType": "application/json",
      "title": "HTTP Body"
    },
    {
      "items": [
        {
          "mimetype": "application/json",
          "reason": "OK",
          "status": 200,
          "type": [
            {
              "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/responsebody",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:store_receipts:responseBody",
              "text": "responseBody"
            }
          ]
        }
      ],
      "kind": "restResponses",
      "title": "Response Codes"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Validating with the App Store requires a secure connection between your app and your server, as well as code on your server to validate the receipt with the App Store. Submit an HTTP POST request with the contents detailed in ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/requestbody",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " using the ",
              "type": "text"
            },
            {
              "code": "verifyReceipt",
              "type": "codeVoice"
            },
            {
              "text": " endpoint to verify receipts with the App Store. Use the receipt fields in the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/responsebody",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to validate app and in-app purchases.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Your server must support the Transport Layer Security (TLS) protocol 1.2 or later to call this endpoint.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more information about server-side receipt validation, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.storekit/documentation/StoreKit/validating-receipts-with-the-app-store",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "3179518",
          "level": 3,
          "text": "Use the sandbox URL for sandbox testing",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The sandbox URL for verifying receipts is:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "POST https://sandbox.itunes.apple.com/verifyReceipt"
          ],
          "metadata": {
            "anchor": "3235314",
            "title": "Listing 1"
          },
          "syntax": "other",
          "type": "codeListing"
        },
        {
          "inlineContent": [],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "As a best practice, always call the production URL ",
                  "type": "text"
                },
                {
                  "code": "https://buy.itunes.apple.com/verifyReceipt",
                  "type": "codeVoice"
                },
                {
                  "text": " first and proceed to verify with the sandbox URL if you receive a ",
                  "type": "text"
                },
                {
                  "code": "21007",
                  "type": "codeVoice"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/status",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " code. Following this approach ensures that you don’t have to switch between URLs while your app is in testing, in review by App Review, or live in the App Store.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "style": "important",
          "type": "aside"
        },
        {
          "anchor": "4209023",
          "level": 3,
          "text": "Find deprecation date in the HTTP header",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "code": "verifyReceipt",
              "type": "codeVoice"
            },
            {
              "text": " endpoint is deprecated. The HTTP header includes the deprecation date, according to ",
              "type": "text"
            },
            {
              "identifier": "link-4209022",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI": {
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI",
      "kind": "article",
      "role": "collection",
      "title": "App Store Server API",
      "type": "topic",
      "url": "/documentation/appstoreserverapi"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2": {
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
      "kind": "symbol",
      "role": "restRequestSymbol",
      "title": "App Store Server Notifications V2",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/app-store-server-notifications-v2"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts": {
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts",
      "kind": "symbol",
      "role": "collection",
      "title": "App Store Receipts",
      "type": "topic",
      "url": "/documentation/appstorereceipts"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/error": {
      "abstract": [
        {
          "text": "Error information that returns in the response body when a request isn’t successful.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "error"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/error",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "title": "error",
      "type": "topic",
      "url": "/documentation/appstorereceipts/error"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/requestbody": {
      "abstract": [
        {
          "text": "The JSON contents you submit with the request to the App Store.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "requestBody"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/requestbody",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "title": "requestBody",
      "type": "topic",
      "url": "/documentation/appstorereceipts/requestbody"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/responsebody": {
      "abstract": [
        {
          "text": "The JSON data that returns in the response from the App Store.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "responseBody"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/responsebody",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "title": "responseBody",
      "type": "topic",
      "url": "/documentation/appstorereceipts/responsebody"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/status": {
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/status",
      "kind": "symbol",
      "role": "symbol",
      "title": "status",
      "type": "topic",
      "url": "/documentation/appstorereceipts/status"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/validating_receipts_on_the_device": {
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/validating_receipts_on_the_device",
      "kind": "article",
      "role": "article",
      "title": "Validating receipts on the device",
      "type": "topic",
      "url": "/documentation/appstorereceipts/validating_receipts_on_the_device"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/verifyreceipt": {
      "abstract": [
        {
          "text": "Send a receipt to the App Store for verification.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/verifyreceipt",
      "kind": "symbol",
      "role": "restRequestSymbol",
      "title": "verifyReceipt",
      "type": "topic",
      "url": "/documentation/appstorereceipts/verifyreceipt"
    },
    "doc://com.apple.documentation/documentation/appstorereceipts/verifyreceipt#3235314": {
      "identifier": "doc://com.apple.documentation/documentation/appstorereceipts/verifyreceipt#3235314",
      "kind": "article",
      "role": "codeListing",
      "title": "Listing 1",
      "type": "section",
      "url": "/documentation/appstorereceipts/verifyreceipt#3235314"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.storekit/documentation/StoreKit/AppTransaction": {
      "identifier": "doc://com.apple.storekit/documentation/StoreKit/AppTransaction",
      "kind": "symbol",
      "role": "symbol",
      "title": "AppTransaction",
      "type": "topic",
      "url": "/documentation/storekit/apptransaction"
    },
    "doc://com.apple.storekit/documentation/StoreKit/Transaction": {
      "identifier": "doc://com.apple.storekit/documentation/StoreKit/Transaction",
      "kind": "symbol",
      "role": "symbol",
      "title": "Transaction",
      "type": "topic",
      "url": "/documentation/storekit/transaction"
    },
    "doc://com.apple.storekit/documentation/StoreKit/validating-receipts-with-the-app-store": {
      "identifier": "doc://com.apple.storekit/documentation/StoreKit/validating-receipts-with-the-app-store",
      "kind": "article",
      "role": "article",
      "title": "Validating receipts with the App Store",
      "type": "topic",
      "url": "/documentation/storekit/validating-receipts-with-the-app-store"
    },
    "link-4209022": {
      "identifier": "link-4209022",
      "kind": "article",
      "role": "link",
      "title": "RFC 8594",
      "type": "topic",
      "url": "https://www.rfc-editor.org/rfc/rfc8594.html"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/appstorereceipts/requestbody",
        "doc://com.apple.documentation/documentation/appstorereceipts/responsebody",
        "doc://com.apple.documentation/documentation/appstorereceipts/error"
      ],
      "title": "Deprecated"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/appstorereceipts/verifyreceipt"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
