{"seeAlsoSections":[{"generated":true,"identifiers":["doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/JointCollection","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/ConstraintsCollection"],"anchor":"Inverse-kinematics-rigs","title":"Inverse kinematics rigs"}],"metadata":{"externalID":"s:17RealityFoundation5IKRigV","navigatorTitle":[{"text":"IKRig","kind":"identifier"}],"symbolKind":"struct","modules":[{"name":"RealityKit"}],"platforms":[{"name":"iOS","beta":false,"unavailable":false,"introducedAt":"18.0","deprecated":false},{"unavailable":false,"name":"iPadOS","deprecated":false,"beta":false,"introducedAt":"18.0"},{"unavailable":false,"name":"Mac Catalyst","deprecated":false,"beta":false,"introducedAt":"18.0"},{"unavailable":false,"name":"macOS","deprecated":false,"beta":false,"introducedAt":"15.0"},{"unavailable":false,"name":"visionOS","deprecated":false,"beta":false,"introducedAt":"2.0"}],"roleHeading":"Structure","title":"IKRig","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"IKRig","kind":"identifier"}]},"identifier":{"interfaceLanguage":"swift","url":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig"},"topicSections":[{"generated":true,"identifiers":["doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/ConstraintsCollection","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/JointCollection"],"anchor":"Structures","title":"Structures"},{"generated":true,"identifiers":["doc://com.apple.RealityKit/documentation/RealityKit/IKRig/init(for:)"],"anchor":"Initializers","title":"Initializers"},{"generated":true,"identifiers":["doc://com.apple.RealityKit/documentation/RealityKit/IKRig/constraints","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalFkWeight","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalLimitsWeight","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/joints","doc://com.apple.RealityKit/documentation/RealityKit/IKRig/maxIterations"],"anchor":"Instance-Properties","title":"Instance Properties"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["/documentation/realitykit/ikrig"]}],"kind":"symbol","hierarchy":{"paths":[["doc://com.apple.documentation/documentation/technologies","doc://com.apple.RealityKit/documentation/RealityKit"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["iOS","iPadOS","Mac Catalyst","macOS","visionOS"],"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"IKRig"}]}],"kind":"declarations"},{"content":[{"text":"Overview","type":"heading","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Describes the skeleton, its tuning, and the active constraints for the solver instance."}]},{"text":"Balance of demands’ weights in a full body solver","type":"heading","level":3,"anchor":"Balance-of-demands-weights-in-a-full-body-solver"},{"type":"paragraph","inlineContent":[{"text":"The full body solver calculates the final pose by balancing the various demands based on their assigned weights.","type":"text"},{"text":" ","type":"text"},{"text":"This process ensures that each demand, ranging from forward kinematics (FK) demands to constraints on joint","type":"text"},{"text":" ","type":"text"},{"text":"movement, affects the pose proportionally to its importance.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The solver reads the FK demands from the ","type":"text"},{"isActive":true,"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/SkeletalPosesComponent","type":"reference"},{"text":". As such these demands are either","type":"text"},{"text":" ","type":"text"},{"text":"a playing animation for the model, or just a static pose.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"All demands have an element specific weight, and some have a global rig weight. The rig weights influence"},{"type":"text","text":" "},{"type":"text","text":"the overall rig, while element weights adjust individual aspects of the model."}]},{"type":"paragraph","inlineContent":[{"text":"The table below provides detailed mappings of these weights to their respective demand types.","type":"text"}]},{"type":"table","rows":[[[{"inlineContent":[{"type":"text","text":"Demand type"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Rig weight","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Element weight"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"FK demands","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalFkWeight","type":"reference"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/fkWeightPerAxis"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Joint rotation limits","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalLimitsWeight","type":"reference"}],"type":"paragraph"}],[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/LimitsDefinition/weight"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"Constraint position","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Not applicable"}],"type":"paragraph"}],[{"inlineContent":[{"isActive":true,"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKPositionDemand/weight","type":"reference"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Constraint orientation"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Not applicable","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKOrientationDemand/weight","type":"reference","isActive":true}],"type":"paragraph"}]]],"header":"row"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"While constraints do not have rig weight, they have blending weight between automatic and custom"},{"type":"text","text":" "},{"type":"text","text":"targets. See "},{"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKComponent/Constraint/animationOverrideWeight","isActive":true,"type":"reference"},{"type":"text","text":" for more information."}]}],"type":"aside","name":"Note"}],"kind":"content"}],"abstract":[{"text":"A full body inverse kinematics rig definition for a single skeleton.","type":"text"}],"references":{"doc://com.apple.RealityKit/documentation/RealityKit/SkeletalPosesComponent":{"type":"topic","abstract":[{"text":"A component that exposes the collection of named animation skeletal poses.","type":"text"}],"title":"SkeletalPosesComponent","navigatorTitle":[{"kind":"identifier","text":"SkeletalPosesComponent"}],"url":"/documentation/realitykit/skeletalposescomponent","kind":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/SkeletalPosesComponent","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SkeletalPosesComponent"}],"role":"symbol"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/init(for:)":{"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/init(for:)","abstract":[{"text":"Creates an inverse kinematics rig definition for the provided skeleton.","type":"text"}],"url":"/documentation/realitykit/ikrig/init(for:)","kind":"symbol","title":"init(for:)","type":"topic","role":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"for","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation12MeshResourceC","text":"MeshResource","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation12MeshResourceCAAE8SkeletonV","text":"Skeleton","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"}]},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKOrientationDemand/weight":{"abstract":[{"type":"text","text":"The per-axis weight this demand has on the pose."}],"url":"/documentation/realitykit/ikrig/constraint/ikorientationdemand/weight","kind":"symbol","role":"symbol","type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"weight","kind":"identifier"},{"text":": ","kind":"text"},{"text":"SIMD3","kind":"typeIdentifier","preciseIdentifier":"s:s5SIMD3V"},{"text":"<","kind":"text"},{"text":"Float","kind":"typeIdentifier","preciseIdentifier":"s:Sf"},{"text":">","kind":"text"}],"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKOrientationDemand/weight","title":"weight"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/joints":{"abstract":[{"text":"A collection of all of the rig’s joint settings.","type":"text"}],"title":"joints","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"joints","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation5IKRigV","text":"IKRig","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation5IKRigV15JointCollectionV","text":"JointCollection","kind":"typeIdentifier"}],"kind":"symbol","role":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/joints","type":"topic","url":"/documentation/realitykit/ikrig/joints"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/ConstraintsCollection":{"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/ConstraintsCollection","url":"/documentation/realitykit/ikrig/constraintscollection","role":"symbol","kind":"symbol","navigatorTitle":[{"text":"ConstraintsCollection","kind":"identifier"}],"abstract":[{"text":"Ordered dictionary-like container.","type":"text"}],"title":"IKRig.ConstraintsCollection","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"ConstraintsCollection","kind":"identifier"}],"type":"topic"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint":{"abstract":[{"type":"text","text":"A definition of a rig constraint."}],"type":"topic","url":"/documentation/realitykit/ikrig/constraint","title":"IKRig.Constraint","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Constraint"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Constraint"}],"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint","kind":"symbol"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalFkWeight":{"url":"/documentation/realitykit/ikrig/globalfkweight","title":"globalFkWeight","role":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalFkWeight","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"globalFkWeight"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sf","text":"Float","kind":"typeIdentifier"}],"kind":"symbol","type":"topic","abstract":[{"type":"text","text":"The solver global weight for the forward kinematics demands."}]},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint":{"role":"symbol","navigatorTitle":[{"text":"Joint","kind":"identifier"}],"type":"topic","title":"IKRig.Joint","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Joint","kind":"identifier"}],"abstract":[{"text":"A definition of a rig joint and its IK solver settings.","type":"text"}],"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint","url":"/documentation/realitykit/ikrig/joint"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/maxIterations":{"url":"/documentation/realitykit/ikrig/maxiterations","title":"maxIterations","abstract":[{"type":"text","text":"The maximum number of iterations the solver is allowed to do per frame."}],"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/maxIterations","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"maxIterations"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"}],"type":"topic","role":"symbol","kind":"symbol"},"doc://com.apple.RealityKit/documentation/RealityKit":{"url":"/documentation/realitykit","abstract":[{"text":"Simulate and render 3D content for use in your augmented reality apps.","type":"text"}],"kind":"symbol","type":"topic","role":"collection","title":"RealityKit","identifier":"doc://com.apple.RealityKit/documentation/RealityKit"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/fkWeightPerAxis":{"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/fkWeightPerAxis","abstract":[{"text":"The per-axis weight of the FK demand on the joint.","type":"text"}],"url":"/documentation/realitykit/ikrig/joint/fkweightperaxis","kind":"symbol","title":"fkWeightPerAxis","type":"topic","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"fkWeightPerAxis","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:s5SIMD3V","text":"SIMD3","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:Sf","text":"Float","kind":"typeIdentifier"},{"text":">","kind":"text"}]},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKPositionDemand/weight":{"title":"weight","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"weight","kind":"identifier"},{"text":": ","kind":"text"},{"text":"SIMD3","preciseIdentifier":"s:s5SIMD3V","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"Float","preciseIdentifier":"s:Sf","kind":"typeIdentifier"},{"text":">","kind":"text"}],"role":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Constraint/IKPositionDemand/weight","url":"/documentation/realitykit/ikrig/constraint/ikpositiondemand/weight","type":"topic","abstract":[{"text":"The per-axis weight this demand has on the pose.","type":"text"}]},"doc://com.apple.documentation/documentation/technologies":{"url":"/documentation/technologies","abstract":[{"text":"","type":"text"}],"kind":"technologies","type":"topic","role":"overview","title":"Technologies","identifier":"doc://com.apple.documentation/documentation/technologies"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalLimitsWeight":{"url":"/documentation/realitykit/ikrig/globallimitsweight","title":"globalLimitsWeight","role":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/globalLimitsWeight","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"globalLimitsWeight","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sf","text":"Float","kind":"typeIdentifier"}],"kind":"symbol","type":"topic","abstract":[{"text":"The solver global weight for the joint rotation limits.","type":"text"}]},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/LimitsDefinition/weight":{"abstract":[{"type":"text","text":"The weight of the joint rotation limit demand."}],"role":"symbol","url":"/documentation/realitykit/ikrig/joint/limitsdefinition/weight","kind":"symbol","title":"weight","fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"weight"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"}],"type":"topic","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/Joint/LimitsDefinition/weight"},"doc://com.apple.RealityKit/documentation/RealityKit/IKComponent/Constraint/animationOverrideWeight":{"role":"symbol","url":"/documentation/realitykit/ikcomponent/constraint/animationoverrideweight","abstract":[{"type":"text","text":"The blending weights between the FK demand and the your target per demand type."}],"title":"animationOverrideWeight","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKComponent/Constraint/animationOverrideWeight","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"animationOverrideWeight"},{"kind":"text","text":": (position"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sf","text":"Float"},{"kind":"text","text":", rotation"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sf","text":"Float"},{"kind":"text","text":")"}],"type":"topic"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/constraints":{"abstract":[{"text":"A collection of all of the rig’s constraint settings.","type":"text"}],"title":"constraints","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"constraints","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation5IKRigV","text":"IKRig","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:17RealityFoundation5IKRigV21ConstraintsCollectionV","text":"ConstraintsCollection","kind":"typeIdentifier"}],"kind":"symbol","role":"symbol","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/constraints","type":"topic","url":"/documentation/realitykit/ikrig/constraints"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/JointCollection":{"abstract":[{"type":"text","text":"Ordered dictionary-like container with a fixed size."}],"navigatorTitle":[{"kind":"identifier","text":"JointCollection"}],"role":"symbol","url":"/documentation/realitykit/ikrig/jointcollection","kind":"symbol","title":"IKRig.JointCollection","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"JointCollection"}],"type":"topic","identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig/JointCollection"},"doc://com.apple.RealityKit/documentation/RealityKit/IKRig":{"abstract":[{"type":"text","text":"A full body inverse kinematics rig definition for a single skeleton."}],"type":"topic","url":"/documentation/realitykit/ikrig","title":"IKRig","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"IKRig"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"IKRig"}],"identifier":"doc://com.apple.RealityKit/documentation/RealityKit/IKRig","kind":"symbol"}},"legalNotices":{"copyright":"Copyright &copy; 2025 Apple Inc. All rights reserved.","termsOfUse":"https://www.apple.com/legal/internet-services/terms/site.html","privacyPolicy":"https://www.apple.com/privacy/privacy-policy"}}