{
  "abstract": [
    {
      "text": "Uses locale-specific collation information to generate a collation key for a Unicode string.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core/unicode_utilities"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "swift",
    "url": "doc://com.apple.documentation/documentation/coreservices/1390468-ucgetcollationkey"
  },
  "kind": "symbol",
  "legacy_identifier": 1390468,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@F@UCGetCollationKey",
    "fragments": [
      {
        "kind": "text",
        "text": "func "
      },
      {
        "kind": "identifier",
        "text": "UCGetCollationKey"
      },
      {
        "kind": "text",
        "text": "(CollatorRef!, UnsafePointer<UniChar>!, Int, Int, UnsafeMutablePointer<Int>!, UnsafeMutablePointer<UCCollationValue>!) -> OSStatus"
      }
    ],
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "current": "15.4",
        "introducedAt": "10.0",
        "name": "macOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Function",
    "symbolKind": "func",
    "title": "UCGetCollationKey(_:_:_:_:_:_:)"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "platforms": [
            "macOS"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "func"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "UCGetCollationKey"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "collatorRef"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/collatorref",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CollatorRef",
              "text": "CollatorRef"
            },
            {
              "kind": "text",
              "text": "!"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "textPtr"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/UnsafePointer",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:SP",
              "text": "UnsafePointer"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@UniChar",
              "text": "UniChar"
            },
            {
              "kind": "text",
              "text": ">!"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "textLength"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/Int",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Si",
              "text": "Int"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "maxKeySize"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/Int",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Si",
              "text": "Int"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "actualKeySize"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/UnsafeMutablePointer",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Sp",
              "text": "UnsafeMutablePointer"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/Int",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Si",
              "text": "Int"
            },
            {
              "kind": "text",
              "text": ">!"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "collationKey"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.Swift/documentation/Swift/UnsafeMutablePointer",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Sp",
              "text": "UnsafeMutablePointer"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/uccollationvalue",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@UCCollationValue",
              "text": "UCCollationValue"
            },
            {
              "kind": "text",
              "text": ">!"
            },
            {
              "kind": "text",
              "text": ") -> "
            },
            {
              "identifier": "symbol-1480124",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "text": "OSStatus"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "swift"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A valid reference to a collator object; ",
                  "type": "text"
                },
                {
                  "code": "NULL",
                  "type": "codeVoice"
                },
                {
                  "text": " is not allowed. You can use the function ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/coreservices/1390403-uccreatecollator",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " to obtain a collator reference. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "collatorRef"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to the Unicode string (a ",
                  "type": "text"
                },
                {
                  "code": "UniChar",
                  "type": "codeVoice"
                },
                {
                  "text": " array) for which to generate a collation key. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "textPtr"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The total count of Unicode characters in the string referenced by the ",
                  "type": "text"
                },
                {
                  "code": "textPtr",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "textLength"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An ",
                  "type": "text"
                },
                {
                  "code": "ItemCount",
                  "type": "codeVoice"
                },
                {
                  "text": " value specifying the length of the ",
                  "type": "text"
                },
                {
                  "code": "UCCollationValue",
                  "type": "codeVoice"
                },
                {
                  "text": " array passed in the ",
                  "type": "text"
                },
                {
                  "code": "collationKey",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter. This dimension should typically be at least ",
                  "type": "text"
                },
                {
                  "code": "5*textLength",
                  "type": "codeVoice"
                },
                {
                  "text": ", as the byte length of a collation key is typically more than 16 times the number of Unicode characters in the string. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "maxKeySize"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "On return, the actual length of the ",
                  "type": "text"
                },
                {
                  "code": "UCCollationValue",
                  "type": "codeVoice"
                },
                {
                  "text": " array returned in the ",
                  "type": "text"
                },
                {
                  "code": "collationKey",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "actualKeySize"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An array of ",
                  "type": "text"
                },
                {
                  "code": "UCCollationValue",
                  "type": "codeVoice"
                },
                {
                  "text": " values. On return, the array contains the new collation key. The collation key consists of a sequence of primary weights for all of the collation text elements in the string, followed by a separator and a sequence of secondary weights for all of the text elements in the string, and so on for several levels of significance. The separator is usually 0; however, 1 is used as the separator at the boundary between levels that are significant and levels that are insignificant for the options you supply in the collator object. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "collationKey"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A result code.  The function can return ",
              "type": "text"
            },
            {
              "code": "paramErr",
              "type": "codeVoice"
            },
            {
              "text": ", for example, if the parameters ",
              "type": "text"
            },
            {
              "code": "collatorRef",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "textPtr",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "actualKeySize",
              "type": "codeVoice"
            },
            {
              "text": ", or ",
              "type": "text"
            },
            {
              "code": "collationKey",
              "type": "codeVoice"
            },
            {
              "text": " are ",
              "type": "text"
            },
            {
              "code": "NULL",
              "type": "codeVoice"
            },
            {
              "text": ". It can also return memory errors. If ",
              "type": "text"
            },
            {
              "code": "maxKeySize",
              "type": "codeVoice"
            },
            {
              "text": " is too small for the collation key, the function returns ",
              "type": "text"
            },
            {
              "code": "kUCOutputBufferTooSmall",
              "type": "codeVoice"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "If you want to compare the same strings several times, as when sorting a list of strings, it may be most efficient for you to derive a collation key for each string and then compare the collation keys. A collation key is a transformation of the string that depends on the collator object (that is, it depends on the locale, the collation variant if any, and the collation options).",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Collation keys that are generated using the same collator object—but for different strings—can quickly be compared with each other, without further reference to the collator object or collation tables. The disadvantage is that the collation keys may be rather large. After you use the ",
              "type": "text"
            },
            {
              "code": "UCGetCollationKey",
              "type": "codeVoice"
            },
            {
              "text": " function to create a collation key from a given string and collator object, you can call the function  ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1390378-uccomparecollationkeys",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": "  to compare two collation keys that were generated with the same collator object.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you are comparing different strings, it may be more efficient for you to call the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1390642-uccomparetext",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " multiple times using the same collator object. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Note that collation keys should be used only in a runtime context. They should not be stored in a persistent state (such as to disk) because the format of a collation key could change in the future.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "1770074",
          "level": 3,
          "text": "Special Considerations",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "This function can move memory.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.Swift/documentation/Swift/Int": {
      "identifier": "doc://com.apple.Swift/documentation/Swift/Int",
      "kind": "symbol",
      "role": "symbol",
      "title": "Int",
      "type": "topic",
      "url": "/documentation/swift/int"
    },
    "doc://com.apple.Swift/documentation/Swift/UnsafeMutablePointer": {
      "identifier": "doc://com.apple.Swift/documentation/Swift/UnsafeMutablePointer",
      "kind": "symbol",
      "role": "symbol",
      "title": "UnsafeMutablePointer",
      "type": "topic",
      "url": "/documentation/swift/unsafemutablepointer"
    },
    "doc://com.apple.Swift/documentation/Swift/UnsafePointer": {
      "identifier": "doc://com.apple.Swift/documentation/Swift/UnsafePointer",
      "kind": "symbol",
      "role": "symbol",
      "title": "UnsafePointer",
      "type": "topic",
      "url": "/documentation/swift/unsafepointer"
    },
    "doc://com.apple.documentation/documentation/coreservices": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "kind": "symbol",
      "role": "collection",
      "title": "Core Services",
      "type": "topic",
      "url": "/documentation/coreservices"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390378-uccomparecollationkeys": {
      "abstract": [
        {
          "text": "Uses collation keys to compare Unicode strings.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCCompareCollationKeys"
        },
        {
          "kind": "text",
          "text": "(UnsafePointer<UCCollationValue>!, Int, UnsafePointer<UCCollationValue>!, Int, UnsafeMutablePointer<DarwinBoolean>!, UnsafeMutablePointer<Int32>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390378-uccomparecollationkeys",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCompareCollationKeys(_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390378-uccomparecollationkeys"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390403-uccreatecollator": {
      "abstract": [
        {
          "text": "Creates an object encapsulating locale and collation information, for the purpose of performing Unicode string comparison.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCCreateCollator"
        },
        {
          "kind": "text",
          "text": "(LocaleRef!, LocaleOperationVariant, UCCollateOptions, UnsafeMutablePointer<CollatorRef?>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390403-uccreatecollator",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCreateCollator(_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390403-uccreatecollator"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390435-ucdisposecollator": {
      "abstract": [
        {
          "text": "Disposes a collator object.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCDisposeCollator"
        },
        {
          "kind": "text",
          "text": "(UnsafeMutablePointer<CollatorRef?>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390435-ucdisposecollator",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCDisposeCollator(_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390435-ucdisposecollator"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390468-ucgetcollationkey": {
      "abstract": [
        {
          "text": "Uses locale-specific collation information to generate a collation key for a Unicode string.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCGetCollationKey"
        },
        {
          "kind": "text",
          "text": "(CollatorRef!, UnsafePointer<UniChar>!, Int, Int, UnsafeMutablePointer<Int>!, UnsafeMutablePointer<UCCollationValue>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390468-ucgetcollationkey",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCGetCollationKey(_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390468-ucgetcollationkey"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390472-uccomparetextdefault": {
      "abstract": [
        {
          "text": "Uses the default system locale to compare Unicode strings.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCCompareTextDefault"
        },
        {
          "kind": "text",
          "text": "(UCCollateOptions, UnsafePointer<UniChar>!, Int, UnsafePointer<UniChar>!, Int, UnsafeMutablePointer<DarwinBoolean>!, UnsafeMutablePointer<Int32>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390472-uccomparetextdefault",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCompareTextDefault(_:_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390472-uccomparetextdefault"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390513-uccomparetextnolocale": {
      "abstract": [
        {
          "text": "Uses a fixed, locale-insensitive order to compare Unicode strings.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCCompareTextNoLocale"
        },
        {
          "kind": "text",
          "text": "(UCCollateOptions, UnsafePointer<UniChar>!, Int, UnsafePointer<UniChar>!, Int, UnsafeMutablePointer<DarwinBoolean>!, UnsafeMutablePointer<Int32>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390513-uccomparetextnolocale",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCompareTextNoLocale(_:_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390513-uccomparetextnolocale"
    },
    "doc://com.apple.documentation/documentation/coreservices/1390642-uccomparetext": {
      "abstract": [
        {
          "text": "Uses locale-specific collation information to compare Unicode strings.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "UCCompareText"
        },
        {
          "kind": "text",
          "text": "(CollatorRef!, UnsafePointer<UniChar>!, Int, UnsafePointer<UniChar>!, Int, UnsafeMutablePointer<DarwinBoolean>!, UnsafeMutablePointer<Int32>!) -> OSStatus"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1390642-uccomparetext",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCompareText(_:_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/coreservices/1390642-uccomparetext"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Carbon Core",
      "type": "topic",
      "url": "/documentation/coreservices/carbon_core"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/unicode_utilities": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/unicode_utilities",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Unicode Utilities",
      "type": "topic",
      "url": "/documentation/coreservices/carbon_core/unicode_utilities"
    },
    "doc://com.apple.documentation/documentation/coreservices/collatorref": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/collatorref",
      "kind": "symbol",
      "role": "symbol",
      "title": "CollatorRef",
      "type": "topic",
      "url": "/documentation/coreservices/collatorref"
    },
    "doc://com.apple.documentation/documentation/coreservices/uccollationvalue": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/uccollationvalue",
      "kind": "symbol",
      "role": "symbol",
      "title": "UCCollationValue",
      "type": "topic",
      "url": "/documentation/coreservices/uccollationvalue"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/1390403-uccreatecollator",
        "doc://com.apple.documentation/documentation/coreservices/1390642-uccomparetext",
        "doc://com.apple.documentation/documentation/coreservices/1390378-uccomparecollationkeys",
        "doc://com.apple.documentation/documentation/coreservices/1390435-ucdisposecollator",
        "doc://com.apple.documentation/documentation/coreservices/1390472-uccomparetextdefault",
        "doc://com.apple.documentation/documentation/coreservices/1390513-uccomparetextnolocale"
      ],
      "title": "Comparing Unicode Strings"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/coreservices/1390468-ucgetcollationkey"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    },
    {
      "paths": [
        "documentation/coreservices/1390468-ucgetcollationkey"
      ],
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ]
    }
  ]
}
