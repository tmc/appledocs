{
  "abstract": [
    {
      "text": "Identifies where your application can safely break a multibytestring to be converted to Unicode so that the string is not brokenin the middle of a multibyte character. ",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/coreservices/1433518-truncatefortexttounicode"
  },
  "kind": "symbol",
  "legacy_identifier": 1433518,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@F@TruncateForTextToUnicode",
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "current": "15.4",
        "introducedAt": "10.0",
        "name": "macOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Function",
    "symbolKind": "func",
    "title": "TruncateForTextToUnicode"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "macOS"
          ],
          "tokens": [
            {
              "identifier": "symbol-1586802",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "TruncateForTextToUnicode"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/consttexttounicodeinfo",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ConstTextToUnicodeInfo",
              "text": "ConstTextToUnicodeInfo"
            },
            {
              "kind": "text",
              "text": " iTextToUnicodeInfo, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/kernel/bytecount",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " iSourceLen, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ConstLogicalAddress",
              "text": "ConstLogicalAddress"
            },
            {
              "kind": "text",
              "text": " iSourceStr, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/kernel/bytecount",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " iMaxLen, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/kernel/bytecount",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " *oTruncatedLen);"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The Unicode converter object of type ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/coreservices/texttounicodeinfo",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " for the text string to be divided up with each segment properly truncated. The ",
                  "type": "text"
                },
                {
                  "code": "TruncateForTextToUnicode",
                  "type": "codeVoice"
                },
                {
                  "text": " function does not modify the objectâ€™s contents. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "iTextToUnicodeInfo"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The length in bytes of the multibyte string to be divided up. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "iSourceLen"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The address of the multibyte string to be divided up. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "iSourceStr"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The maximum allowable length of the string to be truncated. This must be less than or equal to ",
                  "type": "text"
                },
                {
                  "code": "iSourceLen",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "iMaxLen"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to a value of type ",
                  "type": "text"
                },
                {
                  "code": "ByteCount",
                  "type": "codeVoice"
                },
                {
                  "text": ". On return, this value contains the length of the longest portion of the multibyte string, pointed to by ",
                  "type": "text"
                },
                {
                  "code": "iSourceStr",
                  "type": "codeVoice"
                },
                {
                  "text": ", that is less than or equal to the length specified by ",
                  "type": "text"
                },
                {
                  "code": "iMaxLen",
                  "type": "codeVoice"
                },
                {
                  "text": ". This identifies the byte after which you can break the string.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "oTruncatedLen"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A resultcode. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Your application can use this function to break a string properlybefore you call the function  ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433517-convertfromtexttounicode",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " so that the string you pass it is terminated with complete characters.You can call this function repeatedly to properly divide up a text segment,each time identifying the new beginning of the string, until thelast portion of the text is less than or equal to the maximum allowablelength. Each time you use the function, you get a properly terminatedstring within the allowable length range. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Because the ",
              "type": "text"
            },
            {
              "code": "TruncateForTextToUnicode",
              "type": "codeVoice"
            },
            {
              "text": " functiondoes not modify the contents of the Unicode converter object, youcan call this function safely between calls to the function  ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433517-convertfromtexttounicode",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreservices": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "kind": "symbol",
      "role": "collection",
      "title": "Core Services",
      "type": "topic",
      "url": "/documentation/coreservices"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433517-convertfromtexttounicode": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433517-convertfromtexttounicode",
      "kind": "symbol",
      "role": "symbol",
      "title": "ConvertFromTextToUnicode",
      "type": "topic",
      "url": "/documentation/coreservices/1433517-convertfromtexttounicode"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433518-truncatefortexttounicode": {
      "abstract": [
        {
          "text": "Identifies where your application can safely break a multibytestring to be converted to Unicode so that the string is not brokenin the middle of a multibyte character. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433518-truncatefortexttounicode",
      "kind": "symbol",
      "role": "symbol",
      "title": "TruncateForTextToUnicode",
      "type": "topic",
      "url": "/documentation/coreservices/1433518-truncatefortexttounicode"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433649-truncateforunicodetotext": {
      "abstract": [
        {
          "text": "Identifies where your application can safely break a Unicodestring to be converted to any encoding so that the string is brokenin a way that preserves the text element integrity. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433649-truncateforunicodetotext",
      "kind": "symbol",
      "role": "symbol",
      "title": "TruncateForUnicodeToText",
      "type": "topic",
      "url": "/documentation/coreservices/1433649-truncateforunicodetotext"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Carbon Core",
      "type": "topic",
      "url": "/documentation/coreservices/carbon_core"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Text Encoding Conversion Manager",
      "type": "topic",
      "url": "/documentation/coreservices/carbon_core/text_encoding_conversion_manager"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324",
      "kind": "article",
      "role": "task",
      "title": "Result Codes",
      "type": "section",
      "url": "/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324"
    },
    "doc://com.apple.documentation/documentation/coreservices/consttexttounicodeinfo": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/consttexttounicodeinfo",
      "kind": "symbol",
      "role": "symbol",
      "title": "ConstTextToUnicodeInfo",
      "type": "topic",
      "url": "/documentation/coreservices/consttexttounicodeinfo"
    },
    "doc://com.apple.documentation/documentation/coreservices/texttounicodeinfo": {
      "identifier": "doc://com.apple.documentation/documentation/coreservices/texttounicodeinfo",
      "kind": "symbol",
      "role": "symbol",
      "title": "TextToUnicodeInfo",
      "type": "topic",
      "url": "/documentation/coreservices/texttounicodeinfo"
    },
    "doc://com.apple.documentation/documentation/kernel/bytecount": {
      "identifier": "doc://com.apple.documentation/documentation/kernel/bytecount",
      "kind": "symbol",
      "role": "symbol",
      "title": "ByteCount",
      "type": "topic",
      "url": "/documentation/kernel/bytecount"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/1433649-truncateforunicodetotext"
      ],
      "title": "Truncating Strings Before Converting Them "
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/coreservices/1433518-truncatefortexttounicode"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
