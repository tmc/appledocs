{"seeAlsoSections":[{"identifiers":["doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismiss","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissSearch","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissWindow","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openImmersiveSpace","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissImmersiveSpace","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/newDocument","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openDocument","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openURL","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openWindow","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/pushWindow","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/refresh","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/rename","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/resetFocus","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openSettings"],"title":"Actions","anchor":"Actions","generated":true}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"platforms":["iOS","iPadOS","Mac Catalyst","macOS","tvOS","visionOS","watchOS"],"tokens":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":": "},{"identifier":"doc://com.externally.resolved.symbol/s:17_StoreKit_SwiftUI14PurchaseActionV","kind":"typeIdentifier","text":"PurchaseAction","preciseIdentifier":"s:17_StoreKit_SwiftUI14PurchaseActionV"},{"kind":"text","text":" { "},{"kind":"keyword","text":"get"},{"kind":"text","text":" }"}]}]},{"kind":"content","content":[{"text":"Discussion","anchor":"discussion","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Read this environment value to get an "},{"type":"codeVoice","code":"PurchaseAction"},{"type":"text","text":" "},{"type":"text","text":"instance for a given "},{"type":"reference","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/Environment","isActive":true},{"type":"text","text":". Call the"},{"type":"text","text":" "},{"type":"text","text":"instance to start an in-app purchase. You call the instance directly because it"},{"type":"text","text":" "},{"text":"defines a ","type":"text"},{"code":"PurchaseAction/callAsFunction(_:options:)","type":"codeVoice"},{"text":" method that Swift","type":"text"},{"text":" ","type":"text"},{"text":"calls when you call the instance.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For example, you can start an in-app purchase when the user taps a button:"}]},{"syntax":"swift","code":["struct PurchaseExample: View {","    @Environment(\\.purchase) private var purchase","    let product: Product","    let purchaseOptions: [Product.PurchaseOption]","","    var body: some View {","        Button {","            Task {","                let purchaseResult = try? await purchase(product, options: purchaseOptions)","                // Process purchase result.","            }","        } label: {","            Text(product.displayName)","        }","    }","}"],"type":"codeListing"}]}],"kind":"symbol","identifier":{"url":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/purchase","interfaceLanguage":"swift"},"sections":[],"hierarchy":{"paths":[["doc://com.apple.documentation/documentation/technologies","doc://com.apple.SwiftUI/documentation/SwiftUI","doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues"]]},"variants":[{"paths":["/documentation/swiftui/environmentvalues/purchase"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"An action that starts an in-app purchase.","type":"text"}],"metadata":{"title":"purchase","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"purchase"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseAction","preciseIdentifier":"s:17_StoreKit_SwiftUI14PurchaseActionV"}],"platforms":[{"beta":false,"unavailable":false,"deprecated":false,"introducedAt":"17.0","name":"iOS"},{"introducedAt":"17.0","beta":false,"name":"iPadOS","unavailable":false,"deprecated":false},{"introducedAt":"17.0","beta":false,"name":"Mac Catalyst","unavailable":false,"deprecated":false},{"introducedAt":"14.0","beta":false,"name":"macOS","unavailable":false,"deprecated":false},{"introducedAt":"17.0","beta":false,"name":"tvOS","unavailable":false,"deprecated":false},{"introducedAt":"1.0","beta":false,"name":"visionOS","unavailable":false,"deprecated":false},{"introducedAt":"10.0","beta":false,"name":"watchOS","unavailable":false,"deprecated":false}],"symbolKind":"property","modules":[{"name":"StoreKit","relatedModules":["SwiftUI"]}],"extendedModule":"SwiftUI","externalID":"s:7SwiftUI17EnvironmentValuesV010_StoreKit_aB0E8purchaseAD14PurchaseActionVvp","role":"symbol","roleHeading":"Instance Property"},"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/resetFocus":{"role":"symbol","title":"resetFocus","kind":"symbol","type":"topic","url":"/documentation/swiftui/environmentvalues/resetfocus","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/resetFocus","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"resetFocus","kind":"identifier"},{"text":": ","kind":"text"},{"text":"ResetFocusAction","preciseIdentifier":"s:7SwiftUI16ResetFocusActionV","kind":"typeIdentifier"}],"abstract":[{"text":"An action that requests the focus system to reevaluate default focus.","type":"text"}]},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/newDocument":{"abstract":[{"text":"An action in the environment that presents a new document.","type":"text"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/newDocument","role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"newDocument"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7SwiftUI17NewDocumentActionV","kind":"typeIdentifier","text":"NewDocumentAction"}],"type":"topic","title":"newDocument","url":"/documentation/swiftui/environmentvalues/newdocument"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/rename":{"role":"symbol","title":"rename","kind":"symbol","type":"topic","url":"/documentation/swiftui/environmentvalues/rename","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/rename","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"rename","kind":"identifier"},{"text":": ","kind":"text"},{"text":"RenameAction","preciseIdentifier":"s:7SwiftUI12RenameActionV","kind":"typeIdentifier"},{"kind":"text","text":"?"}],"abstract":[{"text":"An action that activates the standard rename interaction.","type":"text"}]},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openImmersiveSpace":{"title":"openImmersiveSpace","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"openImmersiveSpace","kind":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI24OpenImmersiveSpaceActionV","text":"OpenImmersiveSpaceAction"}],"kind":"symbol","abstract":[{"type":"text","text":"An action that presents an immersive space."}],"url":"/documentation/swiftui/environmentvalues/openimmersivespace","role":"symbol","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openImmersiveSpace","type":"topic"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openDocument":{"kind":"symbol","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"openDocument"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI18OpenDocumentActionV","text":"OpenDocumentAction"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openDocument","title":"openDocument","url":"/documentation/swiftui/environmentvalues/opendocument","abstract":[{"type":"text","text":"An action in the environment that presents an existing document."}]},"SwiftUI-PageImage-card.png":{"alt":"A black Swift logo on a swirly blue and purple background.","identifier":"SwiftUI-PageImage-card.png","variants":[{"url":"https://docs-assets.developer.apple.com/published/b1de0de086f81a5d0eac3839a0af6e6f/SwiftUI-PageImage-card@2x.png","traits":["2x","light"]},{"url":"https://docs-assets.developer.apple.com/published/1450d0b30a6b024e10c148e3f31dafe9/SwiftUI-PageImage-card~dark@2x.png","traits":["2x","dark"]}],"type":"image"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissWindow":{"url":"/documentation/swiftui/environmentvalues/dismisswindow","title":"dismissWindow","abstract":[{"text":"A window dismissal action stored in a view’s environment.","type":"text"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissWindow","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"dismissWindow"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"DismissWindowAction","preciseIdentifier":"s:7SwiftUI19DismissWindowActionV"}],"type":"topic","kind":"symbol"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues":{"abstract":[{"text":"A collection of environment values propagated through a view hierarchy.","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EnvironmentValues","kind":"identifier"}],"title":"EnvironmentValues","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues","kind":"symbol","type":"topic","navigatorTitle":[{"text":"EnvironmentValues","kind":"identifier"}],"role":"symbol","url":"/documentation/swiftui/environmentvalues"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/pushWindow":{"abstract":[{"text":"A window presentation action stored in a view’s environment.","type":"text"}],"fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"pushWindow"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7SwiftUI16PushWindowActionV","kind":"typeIdentifier","text":"PushWindowAction"}],"title":"pushWindow","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/pushWindow","kind":"symbol","type":"topic","role":"symbol","url":"/documentation/swiftui/environmentvalues/pushwindow"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismiss":{"url":"/documentation/swiftui/environmentvalues/dismiss","abstract":[{"type":"text","text":"An action that dismisses the current presentation."}],"type":"topic","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"dismiss"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7SwiftUI13DismissActionV","text":"DismissAction"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismiss","title":"dismiss"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/purchase":{"role":"symbol","title":"purchase","kind":"symbol","type":"topic","url":"/documentation/swiftui/environmentvalues/purchase","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/purchase","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"purchase","kind":"identifier"},{"text":": ","kind":"text"},{"text":"PurchaseAction","preciseIdentifier":"s:17_StoreKit_SwiftUI14PurchaseActionV","kind":"typeIdentifier"}],"abstract":[{"text":"An action that starts an in-app purchase.","type":"text"}]},"doc://com.externally.resolved.symbol/s:17_StoreKit_SwiftUI14PurchaseActionV":{"url":"/documentation/StoreKit/PurchaseAction","role":"symbol","kind":"symbol","identifier":"doc://com.externally.resolved.symbol/s:17_StoreKit_SwiftUI14PurchaseActionV","abstract":[{"type":"text","text":"An action that starts an In-App Purchase."}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseAction"}],"type":"topic","title":"PurchaseAction"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openSettings":{"abstract":[{"text":"A Settings presentation action stored in a view’s environment.","type":"text"}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"openSettings","kind":"identifier"},{"text":": ","kind":"text"},{"text":"OpenSettingsAction","preciseIdentifier":"s:7SwiftUI18OpenSettingsActionV","kind":"typeIdentifier"}],"type":"topic","role":"symbol","kind":"symbol","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openSettings","url":"/documentation/swiftui/environmentvalues/opensettings","title":"openSettings"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissSearch":{"abstract":[{"text":"An action that ends the current search interaction.","type":"text"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissSearch","kind":"symbol","type":"topic","url":"/documentation/swiftui/environmentvalues/dismisssearch","title":"dismissSearch","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"dismissSearch"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7SwiftUI19DismissSearchActionV","kind":"typeIdentifier","text":"DismissSearchAction"}],"role":"symbol"},"doc://com.apple.SwiftUI/documentation/SwiftUI":{"title":"SwiftUI","role":"collection","abstract":[{"text":"Declare the user interface and behavior for your app on every platform.","type":"text"}],"kind":"symbol","type":"topic","url":"/documentation/swiftui","images":[{"identifier":"SwiftUI-PageImage-card.png","type":"card"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openURL":{"abstract":[{"type":"text","text":"An action that opens a URL."}],"role":"symbol","type":"topic","identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openURL","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"openURL"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7SwiftUI13OpenURLActionV","kind":"typeIdentifier","text":"OpenURLAction"}],"url":"/documentation/swiftui/environmentvalues/openurl","kind":"symbol","title":"openURL"},"doc://com.apple.documentation/documentation/technologies":{"title":"Technologies","role":"overview","abstract":[{"text":"","type":"text"}],"kind":"technologies","type":"topic","url":"/documentation/technologies","identifier":"doc://com.apple.documentation/documentation/technologies"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/refresh":{"type":"topic","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"refresh","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7SwiftUI13RefreshActionV","text":"RefreshAction","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/refresh","abstract":[{"text":"A refresh action stored in a view’s environment.","type":"text"}],"title":"refresh","url":"/documentation/swiftui/environmentvalues/refresh","role":"symbol"},"doc://com.apple.SwiftUI/documentation/SwiftUI/Environment":{"abstract":[{"type":"text","text":"A property wrapper that reads a value from a view’s environment."}],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Environment"}],"role":"symbol","kind":"symbol","url":"/documentation/swiftui/environment","navigatorTitle":[{"kind":"identifier","text":"Environment"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/Environment","title":"Environment"},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openWindow":{"kind":"symbol","url":"/documentation/swiftui/environmentvalues/openwindow","type":"topic","title":"openWindow","abstract":[{"type":"text","text":"A window presentation action stored in a view’s environment."}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/openWindow","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"openWindow"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7SwiftUI16OpenWindowActionV","kind":"typeIdentifier","text":"OpenWindowAction"}]},"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissImmersiveSpace":{"title":"dismissImmersiveSpace","kind":"symbol","abstract":[{"text":"An immersive space dismissal action stored in a view’s environment.","type":"text"}],"type":"topic","url":"/documentation/swiftui/environmentvalues/dismissimmersivespace","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"dismissImmersiveSpace","kind":"identifier"},{"text":": ","kind":"text"},{"text":"DismissImmersiveSpaceAction","preciseIdentifier":"s:7SwiftUI27DismissImmersiveSpaceActionV","kind":"typeIdentifier"}],"identifier":"doc://com.apple.SwiftUI/documentation/SwiftUI/EnvironmentValues/dismissImmersiveSpace"}},"legalNotices":{"copyright":"Copyright &copy; 2025 Apple Inc. All rights reserved.","termsOfUse":"https://www.apple.com/legal/internet-services/terms/site.html","privacyPolicy":"https://www.apple.com/privacy/privacy-policy"}}