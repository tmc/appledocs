{
  "abstract": [
    {
      "text": "Retrieves the trust policy handle.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/certificate-key-and-trust-services",
        "doc://com.apple.documentation/documentation/security/trust"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle"
  },
  "kind": "symbol",
  "legacy_identifier": 1524309,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@F@SecTrustGetTPHandle",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "current": "15.4",
        "deprecated": true,
        "deprecatedAt": "10.7",
        "introducedAt": "10.2",
        "name": "macOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Function",
    "symbolKind": "func",
    "title": "SecTrustGetTPHandle"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "macOS"
          ],
          "tokens": [
            {
              "identifier": "symbol-1586802",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecTrustGetTPHandle"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.security/documentation/Security/SecTrust",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecTrustRef",
              "text": "SecTrustRef"
            },
            {
              "kind": "text",
              "text": " trust, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CSSM_TP_HANDLE",
              "text": "CSSM_TP_HANDLE"
            },
            {
              "kind": "text",
              "text": " *handle);"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The trust management object from which to obtain the trust policy handle. A trust management object includes one or more certificates plus the policy or policies to be used in evaluating trust. Use the ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.security/documentation/Security/SecTrustCreateWithCertificates(_:_:_:)",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " function to create a trust management object.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "trust"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "On return, points to a CSSM trust policy handle. This handle remains valid until the trust management object is released or until the next call to the function ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.security/documentation/Security/SecTrustEvaluate(_:_:)",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " that uses this trust management object. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "handle"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A result code. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The trust policy handle is the CSSM identifier of the trust policy module that is managing the certificate. The trust policy handle is used as an input to a number of CSSM functions. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "It is safe to call this function concurrently on two or more threads as long as it is not used to get values from a trust management object that is simultaneously being changed by another function. For example, you can call this function on two threads at the same time, but not if you are simultaneously calling the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.security/documentation/Security/SecTrustSetVerifyDate(_:_:)",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " function for the same trust management object on another thread. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "identifier": "doc://com.apple.documentation/documentation/security",
      "kind": "symbol",
      "role": "collection",
      "title": "Security",
      "type": "topic",
      "url": "/documentation/security"
    },
    "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle": {
      "abstract": [
        {
          "text": "Retrieves the trust policy handle.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustGetTPHandle",
      "type": "topic",
      "url": "/documentation/security/1524309-sectrustgettphandle"
    },
    "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult": {
      "abstract": [
        {
          "text": "Retrieves the CSSM trust result.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustGetCssmResult",
      "type": "topic",
      "url": "/documentation/security/1524311-sectrustgetcssmresult"
    },
    "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters": {
      "abstract": [
        {
          "text": "Sets the action and action data for a trust management object. ",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustSetParameters",
      "type": "topic",
      "url": "/documentation/security/1524326-sectrustsetparameters"
    },
    "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode": {
      "abstract": [
        {
          "text": "Retrieves the CSSM result code from the most recent trust evaluation for a trust management object.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustGetCssmResultCode",
      "type": "topic",
      "url": "/documentation/security/1524327-sectrustgetcssmresultcode"
    },
    "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult": {
      "abstract": [
        {
          "text": "Retrieves details on the outcome of a call to the function ",
          "type": "text"
        },
        {
          "code": "SecTrustEvaluate",
          "type": "codeVoice"
        },
        {
          "text": ".",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustGetResult",
      "type": "topic",
      "url": "/documentation/security/1524331-sectrustgetresult"
    },
    "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes": {
      "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes",
      "kind": "symbol",
      "role": "containerSymbol",
      "title": "Security Framework Result Codes",
      "type": "topic",
      "url": "/documentation/security/1542001-security_framework_result_codes"
    },
    "doc://com.apple.documentation/documentation/security/certificate-key-and-trust-services": {
      "identifier": "doc://com.apple.documentation/documentation/security/certificate-key-and-trust-services",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Certificate, Key, and Trust Services",
      "type": "topic",
      "url": "/documentation/security/certificate-key-and-trust-services"
    },
    "doc://com.apple.documentation/documentation/security/sectrustcallback": {
      "abstract": [
        {
          "text": "A block called with the results of an asynchronous trust evaluation.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustcallback",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustCallback",
      "type": "topic",
      "url": "/documentation/security/sectrustcallback"
    },
    "doc://com.apple.documentation/documentation/security/sectrustevaluate(_:_:)": {
      "abstract": [
        {
          "text": "Evaluates trust for the specified certificate and policies.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustevaluate(_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustEvaluate(_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustevaluate(_:_:)"
    },
    "doc://com.apple.documentation/documentation/security/sectrustevaluateasync(_:_:_:)": {
      "abstract": [
        {
          "text": "Evaluates a trust object asynchronously on the specified dispatch queue.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustevaluateasync(_:_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustEvaluateAsync(_:_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustevaluateasync(_:_:_:)"
    },
    "doc://com.apple.documentation/documentation/security/sectrustsetkeychains(_:_:)": {
      "abstract": [
        {
          "text": "Sets the keychains searched for intermediate certificates when evaluating a trust management object.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustsetkeychains(_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustSetKeychains(_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustsetkeychains(_:_:)"
    },
    "doc://com.apple.documentation/documentation/security/sectrustusersetting": {
      "abstract": [
        {
          "text": "Represents user-specified trust settings.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustusersetting",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustUserSetting",
      "type": "topic",
      "url": "/documentation/security/sectrustusersetting"
    },
    "doc://com.apple.documentation/documentation/security/trust": {
      "identifier": "doc://com.apple.documentation/documentation/security/trust",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Trust",
      "type": "topic",
      "url": "/documentation/security/trust"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.security/documentation/Security/SecTrust": {
      "identifier": "doc://com.apple.security/documentation/Security/SecTrust",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrust",
      "type": "topic",
      "url": "/documentation/security/sectrust"
    },
    "doc://com.apple.security/documentation/Security/SecTrustCreateWithCertificates(_:_:_:)": {
      "identifier": "doc://com.apple.security/documentation/Security/SecTrustCreateWithCertificates(_:_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustCreateWithCertificates(_:_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustcreatewithcertificates(_:_:_:)"
    },
    "doc://com.apple.security/documentation/Security/SecTrustEvaluate(_:_:)": {
      "identifier": "doc://com.apple.security/documentation/Security/SecTrustEvaluate(_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustEvaluate(_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustevaluate(_:_:)"
    },
    "doc://com.apple.security/documentation/Security/SecTrustSetVerifyDate(_:_:)": {
      "identifier": "doc://com.apple.security/documentation/Security/SecTrustSetVerifyDate(_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SecTrustSetVerifyDate(_:_:)",
      "type": "topic",
      "url": "/documentation/security/sectrustsetverifydate(_:_:)"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/sectrustevaluate(_:_:)",
        "doc://com.apple.documentation/documentation/security/sectrustevaluateasync(_:_:_:)",
        "doc://com.apple.documentation/documentation/security/sectrustcallback",
        "doc://com.apple.documentation/documentation/security/sectrustsetkeychains(_:_:)",
        "doc://com.apple.documentation/documentation/security/sectrustusersetting",
        "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters",
        "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult",
        "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode",
        "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult"
      ],
      "title": "Legacy Symbols"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/security/1524309-sectrustgettphandle"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
