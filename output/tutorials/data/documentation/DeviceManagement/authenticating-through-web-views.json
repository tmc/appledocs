{
  "abstract": [
    {
      "text": "Use your own custom web interfaces to authenticate users.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.devicemanagement/documentation/DeviceManagement",
        "doc://com.apple.devicemanagement/documentation/DeviceManagement/device-assignment"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://com.apple.devicemanagement/documentation/DeviceManagement/authenticating-through-web-views"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "Device Management"
      }
    ],
    "role": "article",
    "roleHeading": "Article",
    "title": "Authenticating Through Web Views"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Beginning with iOS 13 and macOS 10.15, enterprises can use their own custom web interface to authenticate with the Device Enrollment Program (DEP). The ",
              "type": "text"
            },
            {
              "code": "configuration_web_url",
              "type": "codeVoice"
            },
            {
              "text": " key in the DEP ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement/Profile",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " defines the value of the custom URL to present to the user in a web view. Use this key to define your own UI for authentication, with your preferred authentication method. After the user is authenticated, the MDM enrollment profile is downloaded.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "On the initial page load of the ",
              "type": "text"
            },
            {
              "code": "configuration_web_url:",
              "type": "codeVoice"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The URL must have an ",
                      "type": "text"
                    },
                    {
                      "code": "https",
                      "type": "codeVoice"
                    },
                    {
                      "text": " scheme and is a ",
                      "type": "text"
                    },
                    {
                      "code": "GET",
                      "type": "codeVoice"
                    },
                    {
                      "text": " request.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Use the certificates in the ",
                      "type": "text"
                    },
                    {
                      "code": "AnchorCerts",
                      "type": "codeVoice"
                    },
                    {
                      "text": " property of the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement/Profile",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " to pin the host to the certificates.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "A custom header ",
                      "type": "text"
                    },
                    {
                      "code": "x-apple-aspen-deviceinfo",
                      "type": "codeVoice"
                    },
                    {
                      "text": " is appended to the request. It contains a base64 encoding of a CMS (Cryptographic Message Syntax) envelope that contains a plist with device attributes. This is the same information, in the same format, as provided in the initial ",
                      "type": "text"
                    },
                    {
                      "code": "POST",
                      "type": "codeVoice"
                    },
                    {
                      "text": " request with token-based DEP enrollments.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "On subsequent page loads:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "If navigation requires trust evaluation using certs not normally trusted by the system, they must be included in ",
                      "type": "text"
                    },
                    {
                      "code": "AnchorCerts",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The user interacts with the web view until the server provides a ",
                      "type": "text"
                    },
                    {
                      "code": ".mobileconfig",
                      "type": "codeVoice"
                    },
                    {
                      "text": " file to the client. The ",
                      "type": "text"
                    },
                    {
                      "code": ".mobileconfig",
                      "type": "codeVoice"
                    },
                    {
                      "text": " file must have a MIME type of ",
                      "type": "text"
                    },
                    {
                      "code": "application/x-apple-aspen-config",
                      "type": "codeVoice"
                    },
                    {
                      "text": ". Then web view closes and the OS attempts to install the profile, which must be an MDM enrollment profile.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Although the web view allows the user to navigate to arbitrary pages at arbitrary sites, the enrollment profile must originate from a host where the last two components of the domain name match the last two components of the ",
                      "type": "text"
                    },
                    {
                      "code": "configuration_web_url",
                      "type": "codeVoice"
                    },
                    {
                      "text": " domain name.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "For iOS, this flow is supported during initial setup of an erased device. For macOS, this flow is supported both within Setup Assistant and also via the Profiles pref pane, if DEP enrollment was skipped during Setup Assistant.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.devicemanagement/documentation/DeviceManagement": {
      "abstract": [
        {
          "text": "Manage your organization’s devices remotely.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement",
      "kind": "symbol",
      "role": "collection",
      "title": "Device Management",
      "type": "topic",
      "url": "/documentation/devicemanagement"
    },
    "doc://com.apple.devicemanagement/documentation/DeviceManagement/Profile": {
      "abstract": [
        {
          "text": "A profile’s properties and their values.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "Profile"
        }
      ],
      "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement/Profile",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "Profile"
        }
      ],
      "role": "symbol",
      "title": "Profile",
      "type": "topic",
      "url": "/documentation/devicemanagement/profile"
    },
    "doc://com.apple.devicemanagement/documentation/DeviceManagement/authenticating-with-a-device-enrollment-program-dep-server": {
      "abstract": [
        {
          "text": "Communicate securely with a DEP web service, using a server token.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement/authenticating-with-a-device-enrollment-program-dep-server",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Authenticating with a Device Enrollment Program (DEP) Server",
      "type": "topic",
      "url": "/documentation/devicemanagement/authenticating-with-a-device-enrollment-program-dep-server"
    },
    "doc://com.apple.devicemanagement/documentation/DeviceManagement/device-assignment": {
      "abstract": [
        {
          "text": "Manage devices for your students and employees.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.devicemanagement/documentation/DeviceManagement/device-assignment",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Device Assignment",
      "type": "topic",
      "url": "/documentation/devicemanagement/device-assignment"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Authentication",
      "generated": true,
      "identifiers": [
        "doc://com.apple.devicemanagement/documentation/DeviceManagement/authenticating-with-a-device-enrollment-program-dep-server"
      ],
      "title": "Authentication"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/devicemanagement/authenticating-through-web-views"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
