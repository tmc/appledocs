{
  "abstract": [
    {
      "text": "Checks the colors of a pixel map using the profiles of a specified color world to determine whether the colors are in the gamut of the destination device. ",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/applicationservices",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805214-cwcheckpixmap"
  },
  "kind": "symbol",
  "legacy_identifier": 1805214,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "Application Services"
      }
    ],
    "role": "pseudoSymbol",
    "symbolKind": "func",
    "title": "CWCheckPixMap"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [],
          "tokens": [
            {
              "kind": "text",
              "text": "CMError CWCheckPixMap ("
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   CMWorldRef cw,"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   PixMap *myPixMap,"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   CMBitmapCallBackUPP progressProc,"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   void *refCon,"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   BitMap *resultBitMap"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": ");"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A reference to the color world of type ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmworldref",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " in which color checking is to occur.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "The functions ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805079-ncwnewcolorworld",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " and ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805087-cwconcatcolorworld",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " both return color world references of type ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmworldref",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "See the QuickDraw Reference for a description of the PixMap data type.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "cw"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to the pixel map to check colors for. A pixel map is a QuickDraw structure describing pixel data. The pixel map must be nonrelocatable; to ensure this, you should lock the handle to the pixel map. See the QuickDraw Reference for a description of the PixMap data type.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "myPixMap"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A calling programâ€“supplied callback function that allows your application to monitor progress or abort the operation as the pixel map colors are checked against the gamut of the destination device. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "The default CMM calls your function approximately every half-second unless color checking occurs in less time; this happens when there is a small amount of data to be checked. If the function returns a result of ",
                  "type": "text"
                },
                {
                  "code": "true",
                  "type": "codeVoice"
                },
                {
                  "text": ", the operation is aborted. Specify ",
                  "type": "text"
                },
                {
                  "code": "NULL",
                  "type": "codeVoice"
                },
                {
                  "text": " for this parameter if your application will not monitor the pixel map color checking. For information on the callback function and its type definition, see the function ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmbitmapcallbackprocptr",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "See the QuickDraw Reference for a description of the PixMap data type.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "progressProc"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to a reference constant for application data passed as a parameter to calls to your ",
                  "type": "text"
                },
                {
                  "code": "CMBitmapCallBack",
                  "type": "codeVoice"
                },
                {
                  "text": " function pointed to by ",
                  "type": "text"
                },
                {
                  "code": "progressProc",
                  "type": "codeVoice"
                },
                {
                  "text": ". ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "refCon"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to a QuickDraw bitmap. On return, bits are set to 1 if the corresponding pixel of the pixel map indicated by ",
                  "type": "text"
                },
                {
                  "code": "myPixMap",
                  "type": "codeVoice"
                },
                {
                  "text": " is out of gamut. Boundaries of the bitmap indicated by ",
                  "type": "text"
                },
                {
                  "code": "resultBitMap",
                  "type": "codeVoice"
                },
                {
                  "text": " must equal the parameter of the pixel map indicated by the ",
                  "type": "text"
                },
                {
                  "code": "myPixMap",
                  "type": "codeVoice"
                },
                {
                  "text": ". See the QuickDraw Reference for a description of the PixMap data type.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "resultBitMap"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A ",
              "type": "text"
            },
            {
              "code": "CMError",
              "type": "codeVoice"
            },
            {
              "text": " value. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "code": "CWCheckPixMap",
              "type": "codeVoice"
            },
            {
              "text": " function performs a gamut test of the pixel data of the ",
              "type": "text"
            },
            {
              "code": "myPixMap",
              "type": "codeVoice"
            },
            {
              "text": " pixel map to determine if its colors are within the gamut of the destination device as specified by the destination profile. The gamut test provides a preview of color matching using the specified color world.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The preferred CMM, as determined by the ColorSync Manager based on the profiles of the color world configuration, is called to perform the color matching.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If the preferred CMM is not available, then the ColorSync Manager calls the default CMM to perform the matching. If the preferred CMM is available but does not implement the ",
              "type": "text"
            },
            {
              "code": "CMCheckPixmap",
              "type": "codeVoice"
            },
            {
              "text": " function, then the ColorSync Manager unpacks the colors in the pixel map to create a color list and calls the preferred CMMâ€™s ",
              "type": "text"
            },
            {
              "code": "CMCheckColors",
              "type": "codeVoice"
            },
            {
              "text": " function, passing to this function the list of colors to match. Every CMM must support the ",
              "type": "text"
            },
            {
              "code": "CMCheckColors",
              "type": "codeVoice"
            },
            {
              "text": " function.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For this function to execute successfully, the source and destination profilesâ€™ data color spaces ( ",
              "type": "text"
            },
            {
              "code": "dataColorSpace",
              "type": "codeVoice"
            },
            {
              "text": " field) must be RGB to match the data color space of the pixel map, which is implicitly RGB.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you specify a pointer to a callback function in the ",
              "type": "text"
            },
            {
              "code": "progressProc",
              "type": "codeVoice"
            },
            {
              "text": " parameter, the CMM performing the color checking calls your function to monitor progress of the session. Each time the CMM calls your function, it passes the function any data you specified in the ",
              "type": "text"
            },
            {
              "code": "CWCheckPixMap",
              "type": "codeVoice"
            },
            {
              "text": " functionâ€™s ",
              "type": "text"
            },
            {
              "code": "refCon",
              "type": "codeVoice"
            },
            {
              "text": " parameter.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "You can use the reference constant to pass in any kind of data your callback function requires. For example, if your application uses a dialog box with a progress bar to inform the user of the color-checking sessionâ€™s progress, you can use the reference constant to pass the dialog boxâ€™s window reference to the callback routine. For information about the callback function, see the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmbitmapcallbackprocptr",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "You should ensure that the buffer pointed to by the ",
              "type": "text"
            },
            {
              "code": "baseAddr",
              "type": "codeVoice"
            },
            {
              "text": " field of the bitmap passed in the ",
              "type": "text"
            },
            {
              "code": "resultBitMap",
              "type": "codeVoice"
            },
            {
              "text": " parameter is zeroed out.  ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/applicationservices": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices",
      "kind": "symbol",
      "role": "collection",
      "title": "Application Services",
      "type": "topic",
      "url": "/documentation/applicationservices"
    },
    "doc://com.apple.documentation/documentation/applicationservices/cmbitmapcallbackprocptr": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmbitmapcallbackprocptr",
      "kind": "symbol",
      "role": "symbol",
      "title": "CMBitmapCallBackProcPtr",
      "type": "topic",
      "url": "/documentation/applicationservices/cmbitmapcallbackprocptr"
    },
    "doc://com.apple.documentation/documentation/applicationservices/cmworldref": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmworldref",
      "kind": "symbol",
      "role": "symbol",
      "title": "CMWorldRef",
      "type": "topic",
      "url": "/documentation/applicationservices/cmworldref"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager",
      "kind": "article",
      "role": "collectionGroup",
      "title": "ColorSync Manager",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295",
      "kind": "article",
      "role": "task",
      "title": "Result Codes",
      "type": "section",
      "url": "/documentation/applicationservices/colorsync_manager#1670295"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805079-ncwnewcolorworld": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805079-ncwnewcolorworld",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "NCWNewColorWorld",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805079-ncwnewcolorworld"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805087-cwconcatcolorworld": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805087-cwconcatcolorworld",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CWConcatColorWorld",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805087-cwconcatcolorworld"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805211-cwmatchpixmap": {
      "abstract": [
        {
          "text": "Matches a pixel map in place based on a specified color world. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805211-cwmatchpixmap",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CWMatchPixMap",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805211-cwmatchpixmap"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805214-cwcheckpixmap": {
      "abstract": [
        {
          "text": "Checks the colors of a pixel map using the profiles of a specified color world to determine whether the colors are in the gamut of the destination device. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805214-cwcheckpixmap",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CWCheckPixMap",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805214-cwcheckpixmap"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805216-ncmbeginmatching": {
      "abstract": [
        {
          "text": "Sets up a QuickDraw-specific ColorSync matching session, using the specified source and destination profiles. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805216-ncmbeginmatching",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "NCMBeginMatching",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805216-ncmbeginmatching"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805220-cmendmatching": {
      "abstract": [
        {
          "text": "Concludes a QuickDraw-specific ColorSync matching session initiated by a previous call to the ",
          "type": "text"
        },
        {
          "code": "NCMBeginMatching",
          "type": "codeVoice"
        },
        {
          "text": " function. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805220-cmendmatching",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMEndMatching",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805220-cmendmatching"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805223-ncmdrawmatchedpicture": {
      "abstract": [
        {
          "text": "Matches a pictureâ€™s colors to a destination deviceâ€™s color gamut, as the picture is drawn, using the specified destination profile.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805223-ncmdrawmatchedpicture",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "NCMDrawMatchedPicture",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805223-ncmdrawmatchedpicture"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805227-cmenablematchingcomment": {
      "abstract": [
        {
          "text": "Inserts a comment into the currently open picture to turn matching on or off. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805227-cmenablematchingcomment",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMEnableMatchingComment",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805227-cmenablematchingcomment"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805229-ncmuseprofilecomment": {
      "abstract": [
        {
          "text": "Automatically embeds a profile or a profile identifier into an open picture.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805229-ncmuseprofilecomment",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "NCMUseProfileComment",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1805229-ncmuseprofilecomment"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805211-cwmatchpixmap",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805216-ncmbeginmatching",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805220-cmendmatching",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805223-ncmdrawmatchedpicture",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805227-cmenablematchingcomment",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1805229-ncmuseprofilecomment"
      ],
      "title": "Working With QuickDraw"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/applicationservices/colorsync_manager/1805214-cwcheckpixmap"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
