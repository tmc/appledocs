{
  "abstract": [
    {
      "text": "Creates a new profile and associated backing copy.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/applicationservices",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804911-cmnewprofile"
  },
  "kind": "symbol",
  "legacy_identifier": 1804911,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "Application Services"
      }
    ],
    "role": "pseudoSymbol",
    "symbolKind": "func",
    "title": "CMNewProfile"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [],
          "tokens": [
            {
              "kind": "text",
              "text": "CMError CMNewProfile ("
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   CMProfileRef *prof,"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "   const CMProfileLocation *theProfile"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": ");"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to a profile reference of type ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmprofileref",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ". On return, a reference to the new profile. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "prof"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer of type ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmprofilelocation",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " to the profile location where the new profile should be created. A profile is commonly disk-file basedâ€”the disk file type for a profile is ",
                  "type": "text"
                },
                {
                  "code": "'prof'",
                  "type": "codeVoice"
                },
                {
                  "text": ". However, to accommodate special requirements, you can create a handle- or pointer-based profile, you can create a temporary profile that is not saved after you call the ",
                  "type": "text"
                },
                {
                  "code": "CMCloseProfile",
                  "type": "codeVoice"
                },
                {
                  "text": " function, or you can create a profile that is accessed through a procedure provided by your application. To create a temporary profile, you either specify ",
                  "type": "text"
                },
                {
                  "code": "cmNoProfileBase",
                  "type": "codeVoice"
                },
                {
                  "text": " as the kind of profile in the profile location structure or specify ",
                  "type": "text"
                },
                {
                  "code": "NULL",
                  "type": "codeVoice"
                },
                {
                  "text": " for this parameter. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "theProfile"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A ",
              "type": "text"
            },
            {
              "code": "CMError",
              "type": "codeVoice"
            },
            {
              "text": " value. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "code": "CMNewProfile",
              "type": "codeVoice"
            },
            {
              "text": " function creates a new profile and backing copy in the location you specify. After you create the profile, you must fill in the profile header fields and populate the profile with tags and their element data, and then call the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804864-cmupdateprofile",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to save the element data to the profile file. The default ColorSync profile contents include a profile header of type ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/cm2header",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and an element table.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To set profile elements outside the header, you use the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804977-cmsetprofileelement",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804980-cmsetprofileelementsize",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", and the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804989-cmsetpartialprofileelement",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". You set these elements individually, identifying them by their tag names.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "When you create a new profile, all fields of the ",
              "type": "text"
            },
            {
              "code": "CM2Header",
              "type": "codeVoice"
            },
            {
              "text": " profile header are set to 0 except the ",
              "type": "text"
            },
            {
              "code": "size",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "profileVersion",
              "type": "codeVoice"
            },
            {
              "text": " fields. To set the header elements, you call the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804879-cmgetprofileheader",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to get a copy of the header, assign values to the header fields, then call the function ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804882-cmsetprofileheader",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to write the new header to the profile.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For each profile class, such as a device profile, there is a specific set of elements and associated tags, defined by the ICC, that a profile must contain to meet the baseline requirements. The ICC also defines optional tags that a particular CMM might use to optimize or improve its processing. You can also define private tags, whose tag signatures you register with the ICC, to provide a CMM with greater capability to refine its processing.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "After you fill in the profile with tags and their element data, you must call the ",
              "type": "text"
            },
            {
              "code": "CMUpdateProfile",
              "type": "codeVoice"
            },
            {
              "text": " function to write the new profile elements to the profile file.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "This function is most commonly used by profile developers who create profiles for device manufacturers and by calibration applications. In most cases, application developers use existing profiles. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/applicationservices": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices",
      "kind": "symbol",
      "role": "collection",
      "title": "Application Services",
      "type": "topic",
      "url": "/documentation/applicationservices"
    },
    "doc://com.apple.documentation/documentation/applicationservices/cm2header": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/cm2header",
      "kind": "symbol",
      "role": "symbol",
      "title": "CM2Header",
      "type": "topic",
      "url": "/documentation/applicationservices/cm2header"
    },
    "doc://com.apple.documentation/documentation/applicationservices/cmprofilelocation": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmprofilelocation",
      "kind": "symbol",
      "role": "symbol",
      "title": "CMProfileLocation",
      "type": "topic",
      "url": "/documentation/applicationservices/cmprofilelocation"
    },
    "doc://com.apple.documentation/documentation/applicationservices/cmprofileref": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/cmprofileref",
      "kind": "symbol",
      "role": "symbol",
      "title": "CMProfileRef",
      "type": "topic",
      "url": "/documentation/applicationservices/cmprofileref"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager",
      "kind": "article",
      "role": "collectionGroup",
      "title": "ColorSync Manager",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager#1670295",
      "kind": "article",
      "role": "task",
      "title": "Result Codes",
      "type": "section",
      "url": "/documentation/applicationservices/colorsync_manager#1670295"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804864-cmupdateprofile": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804864-cmupdateprofile",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMUpdateProfile",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804864-cmupdateprofile"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804879-cmgetprofileheader": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804879-cmgetprofileheader",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMGetProfileHeader",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804879-cmgetprofileheader"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804882-cmsetprofileheader": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804882-cmsetprofileheader",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMSetProfileHeader",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804882-cmsetprofileheader"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804911-cmnewprofile": {
      "abstract": [
        {
          "text": "Creates a new profile and associated backing copy.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804911-cmnewprofile",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMNewProfile",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804911-cmnewprofile"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804915-cwnewlinkprofile": {
      "abstract": [
        {
          "text": "Creates a device link profile based on the specified set of profiles.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804915-cwnewlinkprofile",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CWNewLinkProfile",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804915-cwnewlinkprofile"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804918-ncwnewlinkprofile": {
      "abstract": [
        {
          "text": "Obtains a profile reference for the specified by the profile location.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804918-ncwnewlinkprofile",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "NCWNewLinkProfile",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804918-ncwnewlinkprofile"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804920-cmmakeprofile": {
      "abstract": [
        {
          "text": "Makes a display or abstract profile by modifying an existing one.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804920-cmmakeprofile",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMMakeProfile",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804920-cmmakeprofile"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804977-cmsetprofileelement": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804977-cmsetprofileelement",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMSetProfileElement",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804977-cmsetprofileelement"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804980-cmsetprofileelementsize": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804980-cmsetprofileelementsize",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMSetProfileElementSize",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804980-cmsetprofileelementsize"
    },
    "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804989-cmsetpartialprofileelement": {
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804989-cmsetpartialprofileelement",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "title": "CMSetPartialProfileElement",
      "type": "topic",
      "url": "/documentation/applicationservices/colorsync_manager/1804989-cmsetpartialprofileelement"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804915-cwnewlinkprofile",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804918-ncwnewlinkprofile",
        "doc://com.apple.documentation/documentation/applicationservices/colorsync_manager/1804920-cmmakeprofile"
      ],
      "title": "Creating Profiles"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/applicationservices/colorsync_manager/1804911-cmnewprofile"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
