{
  "abstract": [
    {
      "text": "Ends a signposted interval and attaches the specified message.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.os/documentation/os",
        "doc://com.apple.os/documentation/os/OSSignposter"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "swift",
    "url": "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:_:)"
  },
  "kind": "symbol",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "s:2os12OSSignposterV11endIntervalyys12StaticStringV_AA010OSSignpostD5StateCAA12OSLogMessageVtF",
    "fragments": [
      {
        "kind": "keyword",
        "text": "func"
      },
      {
        "kind": "text",
        "text": " "
      },
      {
        "kind": "identifier",
        "text": "endInterval"
      },
      {
        "kind": "text",
        "text": "("
      },
      {
        "kind": "typeIdentifier",
        "preciseIdentifier": "s:s12StaticStringV",
        "text": "StaticString"
      },
      {
        "kind": "text",
        "text": ", "
      },
      {
        "kind": "typeIdentifier",
        "preciseIdentifier": "s:2os23OSSignpostIntervalStateC",
        "text": "OSSignpostIntervalState"
      },
      {
        "kind": "text",
        "text": ", "
      },
      {
        "kind": "typeIdentifier",
        "preciseIdentifier": "s:2os16SignpostMetadataa",
        "text": "SignpostMetadata"
      },
      {
        "kind": "text",
        "text": ")"
      }
    ],
    "modules": [
      {
        "name": "os"
      }
    ],
    "platforms": [
      {
        "beta": false,
        "deprecated": false,
        "introducedAt": "15.0",
        "name": "iOS",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "introducedAt": "15.0",
        "name": "iPadOS",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "name": "Mac Catalyst",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "introducedAt": "12.0",
        "name": "macOS",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "introducedAt": "15.0",
        "name": "tvOS",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "name": "visionOS",
        "unavailable": false
      },
      {
        "beta": false,
        "deprecated": false,
        "introducedAt": "8.0",
        "name": "watchOS",
        "unavailable": false
      }
    ],
    "role": "symbol",
    "roleHeading": "Instance Method",
    "symbolKind": "method",
    "title": "endInterval(_:_:_:)"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "macOS",
            "tvOS",
            "visionOS",
            "watchOS"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "func"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "endInterval"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "name"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/s:s12StaticStringV",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:s12StaticStringV",
              "text": "StaticString"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "state"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:2os23OSSignpostIntervalStateC",
              "text": "OSSignpostIntervalState"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "_"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "message"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "identifier": "doc://com.apple.os/documentation/os/SignpostMetadata",
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:2os16SignpostMetadataa",
              "text": "SignpostMetadata"
            },
            {
              "kind": "text",
              "text": ")"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The signpost’s name.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "name"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The returned interval state from the matching begin call.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "state"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The interpolated string that the signposter attaches to the signpost. Each of the message’s interpolations can specify individual formatting and privacy options. For more information, see ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.os/documentation/os/message-argument-formatters",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "message"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "Discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "Don’t create an instance of ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.os/documentation/os/SignpostMetadata",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ". Instead, provide an interpolated string as the ",
                  "type": "text"
                },
                {
                  "code": "message",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter and the system converts it automatically.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "The signposter uses interval state to enforce the following runtime assertions:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Multiple end calls don’t consume the same interval state.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The begin call and end call use the same name.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The begin call and end call emit signposts to the same underlying log.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "You don’t use the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.os/documentation/os/OSSignpostID/exclusive",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " signpost ID for intervals that cross process boundaries.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "In debug builds, any assertion failures result in a crash. In production builds, your app continues to run and, instead, the signposter attaches an error message to the interval’s closing signpost.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you don’t have access to the returned interval state from the corresponding begin call, or the cost you incur when serializing the state to pass between processes is unacceptable, recreate the interval state by passing the interval’s signpost ID to ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState/beginState(id:)",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". For more information about serializing interval state, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "Recreating interval state using the ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState/beginState(id:)",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " method bypasses runtime assertions that check for consistency between the beginning and the end of a signposted interval.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "The following example shows how to recreate interval state in a scope other than the one that includes the begin call, and also demonstrates the use of message interpolation:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "// A closure that represents a process in the context of this example.",
            "let processA: (String) -> OSSignpostID = { account in",
            "    // Create a signposter that uses the default subsystem.",
            "    let signposter = OSSignposter()",
            "                    ",
            "    // Generate a signpost ID to associate with the signposted interval.",
            "    let signpostID = signposter.makeSignpostID()",
            "                    ",
            "    // Begin a signposted interval and attach a message that securely",
            "    // interpolates sensitive data.",
            "    let _ = signposter.beginInterval(\"Fetch Purchases\", id: signpostID,",
            "        \"Account: \\(account, privacy: .sensitive(mask: .hash))\")",
            "            ",
            "    // Return the signpost ID to the caller.",
            "    return signpostID",
            "}",
            "                ",
            "// Another closure representing a different process.",
            "let processB: (OSSignpostID, Int) -> Void = { signpostID, count in",
            "    // Create a signposter that uses the same subsystem as",
            "    // the original, which, in this case, is the default.",
            "    let signposter = OSSignposter()",
            "                    ",
            "    // Recreate the interval state using the provided signpost ID.",
            "    let state = OSSignpostIntervalState.beginState(id: signpostID)",
            "                    ",
            "    // End the signposted interval using the recreated state and ",
            "    // attach a message that interpolates a value using custom ",
            "    // alignment.",
            "    signposter.endInterval(\"Fetch Purchases\", state,",
            "        \"Fetched \\(count, align: .right(columns: 6)) purchases.\")",
            "}",
            "                ",
            "// Execute the two closures.",
            "let signpostID = processA(\"123456768\")",
            "processB(signpostID, 49)"
          ],
          "syntax": "swift",
          "type": "codeListing"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.os/documentation/os": {
      "abstract": [
        {
          "text": "Coordinate the scheduling and synchronization of your app’s tasks, and log information to the console to diagnose issues.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os",
      "kind": "symbol",
      "role": "collection",
      "title": "os",
      "type": "topic",
      "url": "/documentation/os"
    },
    "doc://com.apple.os/documentation/os/OSSignpostID/exclusive": {
      "abstract": [
        {
          "text": "A signpost identifier that indicates no overlap among different signpost time intervals.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "static"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "let"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "exclusive"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os12OSSignpostIDV",
          "text": "OSSignpostID"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignpostID/exclusive",
      "kind": "symbol",
      "role": "symbol",
      "title": "exclusive",
      "type": "topic",
      "url": "/documentation/os/ossignpostid/exclusive"
    },
    "doc://com.apple.os/documentation/os/OSSignpostIntervalState": {
      "abstract": [
        {
          "text": "An object that tracks the state of a signposted interval.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "class"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "OSSignpostIntervalState"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "OSSignpostIntervalState"
        }
      ],
      "role": "symbol",
      "title": "OSSignpostIntervalState",
      "type": "topic",
      "url": "/documentation/os/ossignpostintervalstate"
    },
    "doc://com.apple.os/documentation/os/OSSignpostIntervalState/beginState(id:)": {
      "abstract": [
        {
          "text": "Recreates interval state from the specified signpost ID.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "static"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "beginState"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "externalParam",
          "text": "id"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os12OSSignpostIDV",
          "text": "OSSignpostID"
        },
        {
          "kind": "text",
          "text": ") -> "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os23OSSignpostIntervalStateC",
          "text": "OSSignpostIntervalState"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignpostIntervalState/beginState(id:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "beginState(id:)",
      "type": "topic",
      "url": "/documentation/os/ossignpostintervalstate/beginstate(id:)"
    },
    "doc://com.apple.os/documentation/os/OSSignposter": {
      "abstract": [
        {
          "text": "An object for measuring task performance using the unified logging system.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "struct"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "OSSignposter"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignposter",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "OSSignposter"
        }
      ],
      "role": "symbol",
      "title": "OSSignposter",
      "type": "topic",
      "url": "/documentation/os/ossignposter"
    },
    "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:)": {
      "abstract": [
        {
          "text": "Ends the signposted interval that corresponds to the specified name and state.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "endInterval"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:s12StaticStringV",
          "text": "StaticString"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os23OSSignpostIntervalStateC",
          "text": "OSSignpostIntervalState"
        },
        {
          "kind": "text",
          "text": ")"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "endInterval(_:_:)",
      "type": "topic",
      "url": "/documentation/os/ossignposter/endinterval(_:_:)"
    },
    "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:_:)": {
      "abstract": [
        {
          "text": "Ends a signposted interval and attaches the specified message.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "endInterval"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:s12StaticStringV",
          "text": "StaticString"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os23OSSignpostIntervalStateC",
          "text": "OSSignpostIntervalState"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:2os16SignpostMetadataa",
          "text": "SignpostMetadata"
        },
        {
          "kind": "text",
          "text": ")"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "endInterval(_:_:_:)",
      "type": "topic",
      "url": "/documentation/os/ossignposter/endinterval(_:_:_:)"
    },
    "doc://com.apple.os/documentation/os/SignpostMetadata": {
      "abstract": [
        {
          "text": "The type that represents a message you attach to a signpost.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "typealias"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "SignpostMetadata"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/SignpostMetadata",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "SignpostMetadata"
        }
      ],
      "role": "symbol",
      "title": "SignpostMetadata",
      "type": "topic",
      "url": "/documentation/os/signpostmetadata"
    },
    "doc://com.apple.os/documentation/os/message-argument-formatters": {
      "abstract": [
        {
          "text": "Manage the privacy and presentation of the message’s interpolated values using type-aware formatters.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.os/documentation/os/message-argument-formatters",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Message Argument Formatters",
      "type": "topic",
      "url": "/documentation/os/message-argument-formatters"
    },
    "doc://com.externally.resolved.symbol/s:s12StaticStringV": {
      "abstract": [
        {
          "text": "A string type designed to represent text that is known at compile time.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "attribute",
          "text": "@frozen"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "struct"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "StaticString"
        }
      ],
      "identifier": "doc://com.externally.resolved.symbol/s:s12StaticStringV",
      "kind": "symbol",
      "role": "symbol",
      "title": "StaticString",
      "type": "topic",
      "url": "/documentation/Swift/StaticString"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Stopping-a-Signposted-Interval",
      "generated": true,
      "identifiers": [
        "doc://com.apple.os/documentation/os/OSSignposter/endInterval(_:_:)"
      ],
      "title": "Stopping a Signposted Interval"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/os/ossignposter/endinterval(_:_:_:)"
      ],
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ]
    }
  ]
}
