{
  "abstract": [
    {
      "text": "Implement server-side code to receive and parse notification posts.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/receiving-app-store-server-notifications"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "App Store Server Notifications"
      }
    ],
    "role": "article",
    "roleHeading": "Article",
    "title": "Receiving App Store Server Notifications"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The App Store delivers JSON objects using an HTTP POST to your server for notable in-app purchase events and unreported external purchase tokens. Your server is responsible for parsing, interpreting, and responding to all server-to-server notification posts. For more information about responding, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responding-to-app-store-server-notifications",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The body of the POST contains the data elements described in the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV2",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " for version 2 notifications, and ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV1",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " for version 1. Parse them using the following information:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The version 2 response body, ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV2",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ", contains a ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/signedPayload",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " that’s cryptographically signed by the App Store in JSON Web Signature (JWS) format. The JWS format increases security and enables you to decode and validate the signature on your server.  Some notifications include a ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/data",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " object, which has transaction and subscription renewal information that the App Store signs in JWS. The ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " and the StoreKit ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/StoreKit/in-app-purchase",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " API use the same JWS-signed format for transaction and subscription status information. For more information about JWS, see the ",
                      "type": "text"
                    },
                    {
                      "identifier": "https://datatracker.ietf.org/doc/html/rfc7515",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " specification.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The version 1 response body, ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV1",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ", is a JSON object. It includes the receipt that contains the most recent in-app purchase transaction for the app. For more information, see the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/unified_receipt",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " object.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "The ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V1",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " endpoint and version 1 notifications, ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/notification_type",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ", are deprecated. Instead, implement the ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " endpoint on your server to receive version 2 notifications.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "Use the notification type along with the transaction and subscription renewal information to update a user’s service or present promotional offers according to your business logic. For information on handling notifications that contain an external purchase token, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/externalPurchaseToken",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications": {
      "abstract": [
        {
          "text": "Monitor In-App Purchase events in real time and learn of unreported external purchase tokens, with server notifications from the App Store.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications",
      "kind": "symbol",
      "role": "collection",
      "title": "App Store Server Notifications",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V1": {
      "abstract": [
        {
          "text": "Specify your secure server’s URL in App Store Connect to receive version 1 notifications.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V1",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "App Store Server Notifications V1"
        }
      ],
      "role": "symbol",
      "title": "App Store Server Notifications V1",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/app-store-server-notifications-v1"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2": {
      "abstract": [
        {
          "text": "Specify your secure server’s URL in App Store Connect to receive version 2 notifications.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "App Store Server Notifications V2"
        }
      ],
      "role": "symbol",
      "title": "App Store Server Notifications V2",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/app-store-server-notifications-v2"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/app-store-server-notifications-changelog": {
      "abstract": [
        {
          "text": "Learn about changes to the App Store Server Notifications service.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/app-store-server-notifications-changelog",
      "kind": "article",
      "role": "article",
      "title": "App Store Server Notifications changelog",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/app-store-server-notifications-changelog"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/data": {
      "abstract": [
        {
          "text": "The payload data that contains app metadata and the signed renewal and transaction information.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "data"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/data",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "data"
        }
      ],
      "role": "symbol",
      "title": "data",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/data"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications": {
      "abstract": [
        {
          "text": "Configure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications",
      "kind": "article",
      "role": "article",
      "title": "Enabling App Store Server Notifications",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/enabling-app-store-server-notifications"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/externalPurchaseToken": {
      "abstract": [
        {
          "text": "The payload data that contains an external purchase token.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "externalPurchaseToken"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/externalPurchaseToken",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "externalPurchaseToken"
        }
      ],
      "role": "symbol",
      "title": "externalPurchaseToken",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/externalpurchasetoken"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/notification_type": {
      "abstract": [
        {
          "text": "The type that describes the in-app purchase event for which the App Store sends the version 1 notification.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "notification_type"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/notification_type",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "notification_type"
        }
      ],
      "role": "symbol",
      "title": "notification_type",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/notification_type"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responding-to-app-store-server-notifications": {
      "abstract": [
        {
          "text": "Send HTTP status codes to indicate the success of a notification post.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responding-to-app-store-server-notifications",
      "kind": "article",
      "role": "article",
      "title": "Responding to App Store Server Notifications",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/responding-to-app-store-server-notifications"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV1": {
      "abstract": [
        {
          "text": "The response body containing JSON data that the App Store sends in a version 1 server notification.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "responseBodyV1"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV1",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "responseBodyV1"
        }
      ],
      "role": "symbol",
      "title": "responseBodyV1",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/responsebodyv1"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV2": {
      "abstract": [
        {
          "text": "The response body the App Store sends in a version 2 server notification.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "responseBodyV2"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responseBodyV2",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "responseBodyV2"
        }
      ],
      "role": "symbol",
      "title": "responseBodyV2",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/responsebodyv2"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/signedPayload": {
      "abstract": [
        {
          "text": "A cryptographically signed payload, in JSON Web Signature (JWS) format, that contains the response body for a version 2 notification.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "signedPayload"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/signedPayload",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "signedPayload"
        }
      ],
      "role": "symbol",
      "title": "signedPayload",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/signedpayload"
    },
    "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/unified_receipt": {
      "abstract": [
        {
          "text": "An object that contains information about the most recent in-app purchase transactions for the app.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "unified_receipt"
        }
      ],
      "identifier": "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/unified_receipt",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "unified_receipt"
        }
      ],
      "role": "symbol",
      "title": "unified_receipt",
      "type": "topic",
      "url": "/documentation/appstoreservernotifications/unified_receipt"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerAPI": {
      "abstract": [
        {
          "text": "Manage your customers’ App Store transactions from your server.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI",
      "kind": "symbol",
      "role": "collection",
      "title": "App Store Server API",
      "type": "topic",
      "url": "/documentation/AppStoreServerAPI"
    },
    "doc://com.apple.documentation/documentation/StoreKit/in-app-purchase": {
      "abstract": [
        {
          "text": "Offer content and services in your app across Apple platforms using a Swift-based interface.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/StoreKit/in-app-purchase",
      "kind": "article",
      "role": "article",
      "title": "In-App Purchase",
      "type": "topic",
      "url": "/documentation/StoreKit/in-app-purchase"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "https://datatracker.ietf.org/doc/html/rfc7515": {
      "identifier": "https://datatracker.ietf.org/doc/html/rfc7515",
      "title": "IETF RFC 7515",
      "titleInlineContent": [
        {
          "text": "IETF RFC 7515",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://datatracker.ietf.org/doc/html/rfc7515"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Essentials",
      "generated": true,
      "identifiers": [
        "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications",
        "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/responding-to-app-store-server-notifications",
        "doc://com.apple.appstoreservernotifications/documentation/AppStoreServerNotifications/app-store-server-notifications-changelog"
      ],
      "title": "Essentials"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/appstoreservernotifications/receiving-app-store-server-notifications"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
