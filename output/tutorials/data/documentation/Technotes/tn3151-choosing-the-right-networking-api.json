{
  "abstract": [
    {
      "text": "Learn which networking API is best for you.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.technotes/documentation/Technotes"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "swift",
    "url": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "role": "article",
    "roleHeading": "Article",
    "title": "TN3151: Choosing the right networking API"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "Overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple platforms have a wide range of networking APIs, spanning many different frameworks:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation",
                      "isActive": true,
                      "overridingTitle": "Foundation",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Foundation",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network",
                      "isActive": true,
                      "overridingTitle": "Network",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Network",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "BSD Sockets in the System framework",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "And more",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "With all that choice, it’s hard to know where to start.  This technote aims to clarify that.  It makes specific recommendations as to which API to use for a given network protocol.  It then discusses ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Alternative-APIs",
              "isActive": true,
              "overridingTitle": "Alternative APIs",
              "overridingTitleInlineContent": [
                {
                  "text": "Alternative APIs",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " and some ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Best-practices",
              "isActive": true,
              "overridingTitle": "Best practices",
              "overridingTitleInlineContent": [
                {
                  "text": "Best practices",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If you’re working on watchOS, read ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/Technotes/tn3135-low-level-networking-on-watchOS",
                  "isActive": true,
                  "overridingTitle": "TN3135: Low-level networking on watchOS",
                  "overridingTitleInlineContent": [
                    {
                      "text": "TN3135: Low-level networking on watchOS",
                      "type": "text"
                    }
                  ],
                  "type": "reference"
                },
                {
                  "text": " to understand its unique constraints.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "The focus here is on APIs that allow you to ",
              "type": "text"
            },
            {
              "inlineContent": [
                {
                  "text": "use",
                  "type": "text"
                }
              ],
              "type": "emphasis"
            },
            {
              "text": " the networking stack.  If you want to ",
              "type": "text"
            },
            {
              "inlineContent": [
                {
                  "text": "extend",
                  "type": "text"
                }
              ],
              "type": "emphasis"
            },
            {
              "text": " the networking stack—for example, to add support for a custom VPN protocol—implement a Network Extension provider.  For the details, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/NetworkExtension",
              "isActive": true,
              "overridingTitle": "Network Extension",
              "overridingTitleInlineContent": [
                {
                  "text": "Network Extension",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Recommendations-by-protocol",
          "level": 2,
          "text": "Recommendations by protocol",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "This section lists API recommendations for common network protocols.  Follow the advice for the protocol you’re using:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "Application Layer:",
                          "type": "text"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "text": " ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP",
                      "isActive": true,
                      "overridingTitle": "HTTP",
                      "overridingTitleInlineContent": [
                        {
                          "text": "HTTP",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket",
                      "isActive": true,
                      "overridingTitle": "WebSocket",
                      "overridingTitleInlineContent": [
                        {
                          "text": "WebSocket",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP",
                      "isActive": true,
                      "overridingTitle": "FTP",
                      "overridingTitleInlineContent": [
                        {
                          "text": "FTP",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "Transport Layer:",
                          "type": "text"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "text": " ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#QUIC",
                      "isActive": true,
                      "overridingTitle": "QUIC",
                      "overridingTitleInlineContent": [
                        {
                          "text": "QUIC",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP",
                      "isActive": true,
                      "overridingTitle": "TCP",
                      "overridingTitleInlineContent": [
                        {
                          "text": "TCP",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP",
                      "isActive": true,
                      "overridingTitle": "UDP",
                      "overridingTitleInlineContent": [
                        {
                          "text": "UDP",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "Other:",
                          "type": "text"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "text": " ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-service-discovery",
                      "isActive": true,
                      "overridingTitle": "Bonjour service discovery",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Bonjour service discovery",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS",
                      "isActive": true,
                      "overridingTitle": "DNS",
                      "overridingTitleInlineContent": [
                        {
                          "text": "DNS",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-networking",
                      "isActive": true,
                      "overridingTitle": "Peer-to-peer networking",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Peer-to-peer networking",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Wi-Fi",
                      "isActive": true,
                      "overridingTitle": "Wi-Fi",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Wi-Fi",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "anchor": "HTTP",
          "level": 3,
          "text": "HTTP",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For HTTP, including HTTPS, there is one really good choice: Foundation’s ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/url_loading_system",
              "isActive": true,
              "overridingTitle": "URL Loading System",
              "overridingTitleInlineContent": [
                {
                  "text": "URL Loading System",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ", commonly known as ",
              "type": "text"
            },
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": ".  It supports all the latest features, including Swift concurrency and the HTTP/2 and HTTP/3 protocols.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP-alternatives",
              "isActive": true,
              "overridingTitle": "HTTP alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "HTTP alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": " background sessions allow your app to run an HTTP transfer that continues even if the app stops running.  This is most important on iOS, tvOS, and watchOS, where the system suspends your app shortly after the user moves it to the background.  To learn more about this feature, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/url_loading_system/downloading_files_in_the_background",
              "isActive": true,
              "overridingTitle": "Downloading Files in the Background",
              "overridingTitleInlineContent": [
                {
                  "text": "Downloading Files in the Background",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  Alternative HTTP APIs don’t support this feature.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "WebSocket",
          "level": 3,
          "text": "WebSocket",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For WebSocket you have two choices:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": " using ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/urlsessionwebsockettask",
                      "isActive": true,
                      "overridingTitle": "URLSessionWebSocketTask",
                      "overridingTitleInlineContent": [
                        {
                          "code": "URLSessionWebSocketTask",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network",
                      "isActive": true,
                      "overridingTitle": "Network",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Network",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " framework using ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/NWConnection",
                      "isActive": true,
                      "overridingTitle": "NWConnection",
                      "overridingTitleInlineContent": [
                        {
                          "code": "NWConnection",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (Swift) or ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/nw_connection_t",
                      "isActive": true,
                      "overridingTitle": "nw_connection_t",
                      "overridingTitleInlineContent": [
                        {
                          "code": "nw_connection_t",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (C-based languages)",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Unless you have a specific reason to use ",
              "type": "text"
            },
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": ", use Network framework for new WebSocket code.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket-alternatives",
              "isActive": true,
              "overridingTitle": "WebSocket alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "WebSocket alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "FTP",
          "level": 3,
          "text": "FTP",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "FTP is a very old and dilapidated protocol.  FTP is inappropriate to use on the modern internet because it provides ",
              "type": "text"
            },
            {
              "inlineContent": [
                {
                  "text": "no",
                  "type": "text"
                }
              ],
              "type": "emphasis"
            },
            {
              "text": " security.  Because of this, Apple has no supported FTP APIs.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Your best option here is to switch to a newer protocol, like HTTP.  It may require some coordination with your server folks, but that will pay off in the long term.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For other options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP-alternatives",
              "isActive": true,
              "overridingTitle": "FTP alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "FTP alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "QUIC",
          "level": 3,
          "text": "QUIC",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework introduced QUIC support in 2021 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ").  It supports both QUIC client and QUIC server development.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The QUIC protocol has significant advantages over TCP.  If you’re building a custom network protocol, consider using QUIC instead of TCP.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "QUIC is a key component of HTTP/3.  If your ultimate goal is to support HTTP/3, use ",
                  "type": "text"
                },
                {
                  "code": "URLSession",
                  "type": "codeVoice"
                },
                {
                  "text": ".  It has direct support for HTTP/3.  Network framework’s QUIC support allows you to create custom network protocols running over QUIC.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "anchor": "TCP",
          "level": 3,
          "text": "TCP",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For TCP you have two reasonable options:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network",
                      "isActive": true,
                      "overridingTitle": "Network",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Network",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " framework using ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/NWConnection",
                      "isActive": true,
                      "overridingTitle": "NWConnection",
                      "overridingTitleInlineContent": [
                        {
                          "code": "NWConnection",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (Swift) or ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/nw_connection_t",
                      "isActive": true,
                      "overridingTitle": "nw_connection_t",
                      "overridingTitleInlineContent": [
                        {
                          "code": "nw_connection_t",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (C-based languages)",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "BSD Sockets",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Network framework is by far the best choice.  BSD Sockets is an acceptable choice if you have compatibility constraints, for example:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "When writing cross-platform code",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "When using an existing library that’s based on BSD Sockets",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP-alternatives",
              "isActive": true,
              "overridingTitle": "TCP alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "TCP alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  If you decide to use BSD Sockets, read ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices",
              "isActive": true,
              "overridingTitle": "BSD Sockets best practices",
              "overridingTitleInlineContent": [
                {
                  "text": "BSD Sockets best practices",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "UDP",
          "level": 3,
          "text": "UDP",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For UDP you have two reasonable options:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network",
                      "isActive": true,
                      "overridingTitle": "Network",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Network",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " framework using ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/NWConnection",
                      "isActive": true,
                      "overridingTitle": "NWConnection",
                      "overridingTitleInlineContent": [
                        {
                          "code": "NWConnection",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (Swift) or ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/Network/nw_connection_t",
                      "isActive": true,
                      "overridingTitle": "nw_connection_t",
                      "overridingTitleInlineContent": [
                        {
                          "code": "nw_connection_t",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " (C-based languages)",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "BSD Sockets",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "For UDP flows—where you have a stream of unicast datagrams flowing between two peers—Network framework is the best choice.  If you use BSD Sockets for this case, you’ll have to do a bunch of extra work.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "However, not all UDP communication is that straightforward.  UDP also supports multicast, broadcast, and other asymmetric designs.  Network framework supports UDP multicast using the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network/NWConnectionGroup",
              "isActive": true,
              "overridingTitle": "NWConnectionGroup",
              "overridingTitleInlineContent": [
                {
                  "code": "NWConnectionGroup",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " class, but that support has limits and, specifically, it does not support UDP broadcast.  If you need something that’s not supported by Network framework, use BSD Sockets.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If you’re using UDP to implement a service discovery protocol, consider adopting Bonjour instead.  For more details, see ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-service-discovery",
                  "isActive": true,
                  "overridingTitle": "Bonjour service discovery",
                  "overridingTitleInlineContent": [
                    {
                      "text": "Bonjour service discovery",
                      "type": "text"
                    }
                  ],
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Note",
          "style": "note",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "Regardless of the API you use, if you work with multicast or broadcast UDP on iOS, you must have the multicast networking entitlement.  For the details, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/BundleResources/Entitlements/com.apple.developer.networking.multicast",
              "isActive": true,
              "overridingTitle": "com.apple.developer.networking.multicast",
              "overridingTitleInlineContent": [
                {
                  "code": "com.apple.developer.networking.multicast",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP-alternatives",
              "isActive": true,
              "overridingTitle": "UDP alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "UDP alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  If you decide to use BSD Sockets, read ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices",
              "isActive": true,
              "overridingTitle": "BSD Sockets best practices",
              "overridingTitleInlineContent": [
                {
                  "text": "BSD Sockets best practices",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Bonjour-service-discovery",
          "level": 3,
          "text": "Bonjour service discovery",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Bonjour is an Apple term for three industry standard technologies: link-local addresses (",
              "type": "text"
            },
            {
              "identifier": "http://www.ietf.org/rfc/rfc3927.txt",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": "), multicast DNS (",
              "type": "text"
            },
            {
              "identifier": "http://www.ietf.org/rfc/rfc6762.txt",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": "), and DNS-based service discovery (",
              "type": "text"
            },
            {
              "identifier": "http://www.ietf.org/rfc/rfc6763.txt",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ").  Use Bonjour to create network features that work well even if there’s no network infrastructure.  For example, when you browse for network servers using Finder > Go > Connect to Server, you’re using Bonjour.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Bonjour enables three fundamental operations:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Advertise, to publish a service on the network so that clients can find it by browsing",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Browse, to browse for services on a network so that the user can choose a service",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Connect, to connect to a service chosen by the user",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework is your best option for all three of these operations.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you have specialist needs that aren’t covered by Network framework—for example, you want to resolve a service without connecting to it—use the low-level ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/dnssd",
              "isActive": true,
              "overridingTitle": "dnssd",
              "overridingTitleInlineContent": [
                {
                  "text": "dnssd",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " API.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "On iOS, regardless of what Bonjour API you use, declare your service types in the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/BundleResources/Information-Property-List/NSBonjourServices",
              "isActive": true,
              "overridingTitle": "NSBonjourServices",
              "overridingTitleInlineContent": [
                {
                  "code": "NSBonjourServices",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " property.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-alternatives",
              "isActive": true,
              "overridingTitle": "Bonjour alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "Bonjour alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Peer-to-peer-networking",
          "level": 3,
          "text": "Peer-to-peer networking",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Peer-to-peer Wi-Fi allows you to communicate with a service on another local device even if that device is not on the same network.  ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework supports peer-to-peer Wi-Fi, but you must opt in to it.  To do that, set the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network/NWParameters/includePeerToPeer",
              "isActive": true,
              "overridingTitle": "includePeerToPeer",
              "overridingTitleInlineContent": [
                {
                  "code": "includePeerToPeer",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " property (",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/network/3019340-nw_parameters_set_include_peer_t",
              "isActive": true,
              "overridingTitle": "nw_parameters_set_include_peer_to_peer",
              "overridingTitleInlineContent": [
                {
                  "code": "nw_parameters_set_include_peer_to_peer",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " in C) of the parameters object you use to create your connection and listener objects.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The on-the-wire protocol used by peer-to-peer Wi-Fi is not documented for third-party use, so this technique only works between Apple devices.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Note",
          "style": "note",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "To communicate between a watchOS app and its companion iOS app, use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/WatchConnectivity",
              "isActive": true,
              "overridingTitle": "Watch Connectivity",
              "overridingTitleInlineContent": [
                {
                  "text": "Watch Connectivity",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  In many cases, however, it might be better to have your watchOS app operate independently, using ",
              "type": "text"
            },
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": " to communicate directly with your server.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To connect a tvOS app to a mobile device on the local network, use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/DeviceDiscoveryUI",
              "isActive": true,
              "overridingTitle": "DeviceDiscoveryUI",
              "overridingTitleInlineContent": [
                {
                  "text": "DeviceDiscoveryUI",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you’re developing a network-based accessory, consider using Thread.  For more background on this, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/ThreadNetwork",
              "isActive": true,
              "overridingTitle": "ThreadNetwork",
              "overridingTitleInlineContent": [
                {
                  "text": "ThreadNetwork",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-alternatives",
              "isActive": true,
              "overridingTitle": "Peer-to-peer alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "Peer-to-peer alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "DNS",
          "level": 3,
          "text": "DNS",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "In most cases you don’t need to resolve a DNS address manually.  Rather, use an API with connect-by-name semantics.  For more details, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Connect-by-name",
              "isActive": true,
              "overridingTitle": "Connect by name",
              "overridingTitleInlineContent": [
                {
                  "text": "Connect by name",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To perform advanced DNS operations using the system resolver, use the low-level ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/dnssd",
              "isActive": true,
              "overridingTitle": "dnssd",
              "overridingTitleInlineContent": [
                {
                  "text": "dnssd",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " API.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To perform DNS queries without using the system resolver—for example, if you’re building a DNS debugging tool—use the ",
              "type": "text"
            },
            {
              "code": "<dns.h>",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "<dns_util.h>",
              "type": "codeVoice"
            },
            {
              "text": " APIs.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more options, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-alternatives",
              "isActive": true,
              "overridingTitle": "DNS alternatives",
              "overridingTitleInlineContent": [
                {
                  "text": "DNS alternatives",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Wi-Fi",
          "level": 3,
          "text": "Wi-Fi",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "iOS supports a number of special-purpose Wi-Fi APIs.  For a summary, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Technotes/tn3111-ios-wifi-api-overview",
              "isActive": true,
              "overridingTitle": "TN3111: iOS Wi-Fi API overview",
              "overridingTitleInlineContent": [
                {
                  "text": "TN3111: iOS Wi-Fi API overview",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "To scan for and configure Wi-Fi networks on macOS, use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/CoreWLAN",
              "isActive": true,
              "overridingTitle": "Core WLAN",
              "overridingTitleInlineContent": [
                {
                  "text": "Core WLAN",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Alternative-APIs",
          "level": 2,
          "text": "Alternative APIs",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Many protocols have alternative APIs, ones that are either deprecated or limited to some specific task.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "HTTP-alternatives",
          "level": 3,
          "text": "HTTP alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple has two alternative HTTP APIs:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlconnection",
                      "isActive": true,
                      "overridingTitle": "NSURLConnection",
                      "overridingTitleInlineContent": [
                        {
                          "code": "NSURLConnection",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " is the predecessor to ",
                      "type": "text"
                    },
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".  It’s been redundant since the introduction of ",
                      "type": "text"
                    },
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": " in 2013 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ").  It was formally deprecated in 2015 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ").  Don’t use it for new code.  If you have existing ",
                      "type": "text"
                    },
                    {
                      "code": "NSURLConnection",
                      "type": "codeVoice"
                    },
                    {
                      "text": " code, make a plan to migrate to ",
                      "type": "text"
                    },
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "code": "CFHTTPStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", part of the CFNetwork framework, has been deprecated since 2015 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ").  Avoid using it in new code.  If you have existing ",
                      "type": "text"
                    },
                    {
                      "code": "CFHTTPStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": " code, make a plan to migrate to something more modern.  Typically, that’s ",
                      "type": "text"
                    },
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "In some very specific cases, you might find that ",
              "type": "text"
            },
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": " doesn’t meet your needs.  In such cases, you might be able to work around that limitation using ",
              "type": "text"
            },
            {
              "code": "CFHTTPStream",
              "type": "codeVoice"
            },
            {
              "text": ", or perhaps by building a simplistic HTTP client using ",
              "type": "text"
            },
            {
              "code": "CFHTTPMessage",
              "type": "codeVoice"
            },
            {
              "text": " on top of a TCP API.  However, building a general-purpose HTTP client is hard.  If you need a general-purpose HTTP client and ",
              "type": "text"
            },
            {
              "code": "URLSession",
              "type": "codeVoice"
            },
            {
              "text": " doesn’t work for you, look for a third-party HTTP library.  One good option is the ",
              "type": "text"
            },
            {
              "identifier": "https://github.com/swift-server/async-http-client",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " Swift library.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If you need to do some HTTP task that’s not supported by ",
                  "type": "text"
                },
                {
                  "code": "URLSession",
                  "type": "codeVoice"
                },
                {
                  "text": ", let us know by ",
                  "type": "text"
                },
                {
                  "identifier": "https://developer.apple.com/bug-reporting/",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " describing your requirements and why ",
                  "type": "text"
                },
                {
                  "code": "URLSession",
                  "type": "codeVoice"
                },
                {
                  "text": " doesn’t work for you.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "anchor": "WebSocket-alternatives",
          "level": 3,
          "text": "WebSocket alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Both of the recommended WebSocket APIs were introduced in 2015 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ").  If you need to support older OS releases, there are a variety of good quality third-party WebSocket libraries available for Apple platforms.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you’re currently using a third-party WebSocket library, and your deployment target allows for it, consider moving to ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "FTP-alternatives",
          "level": 3,
          "text": "FTP alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple has two FTP APIs:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": " for FTP downloads, deprecated since 2022 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ")",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "code": "CFFTPStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", deprecated since 2016 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ")",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Don’t write new code using them.  If you have existing code, you have two options.  The first, and by far the best, is to switch to a newer protocol, like HTTP.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "In some circumstances that may not be possible.  Perhaps you’re working with an accessory that only supports FTP, and you’re unable to convince the vendor to update its firmware.  In that case, you have two options:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Write your own FTP protocol implementation.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Adopt a third-party FTP library.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "When you evaluate a third-party FTP library, check that it implements FTP directly.  If the library uses ",
                  "type": "text"
                },
                {
                  "code": "CFFTPStream",
                  "type": "codeVoice"
                },
                {
                  "text": " internally, there’s no point adopting it.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "anchor": "TCP-alternatives",
          "level": 3,
          "text": "TCP alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple platforms support a variety of alternative TCP APIs:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "code": "CFSocketStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": " was marked as to-be-deprecated in 2021 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ").  Apple will not enhance it to support new features.  For example, Apple added TLS 1.3 support to Network framework in 2019 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": "), but has not added it to ",
                      "type": "text"
                    },
                    {
                      "code": "CFSocketStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "The TCP networking support in ",
                      "type": "text"
                    },
                    {
                      "code": "NSStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", most notably ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/stream/1414311-getstreamstohost",
                      "isActive": true,
                      "overridingTitle": "getStreamsToHost(withName:port:inputStream:outputStream:)",
                      "overridingTitleInlineContent": [
                        {
                          "code": "getStreamsToHost(withName:port:inputStream:outputStream:)",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ", is layered on top of ",
                      "type": "text"
                    },
                    {
                      "code": "CFSocketStream",
                      "type": "codeVoice"
                    },
                    {
                      "text": " and is on the same deprecation path.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "It’s possible to use ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/filehandle",
                      "isActive": true,
                      "overridingTitle": "FileHandle",
                      "overridingTitleInlineContent": [
                        {
                          "code": "FileHandle",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " for networking in conjunction with BSD Sockets.  While this is still supported, it’s not recommended for all the same reasons that BSD Sockets is not recommended.  See ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices",
                      "isActive": true,
                      "overridingTitle": "BSD Sockets best practices",
                      "overridingTitleInlineContent": [
                        {
                          "text": "BSD Sockets best practices",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfsocket",
                      "isActive": true,
                      "overridingTitle": "CFSocket",
                      "overridingTitleInlineContent": [
                        {
                          "code": "CFSocket",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " is much like ",
                      "type": "text"
                    },
                    {
                      "code": "FileHandle",
                      "type": "codeVoice"
                    },
                    {
                      "text": ": It’s possible to use it to run a TCP connection, but it has all the same limitations as BSD Sockets.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/urlsessionstreamtask",
                      "isActive": true,
                      "overridingTitle": "URLSessionStreamTask",
                      "overridingTitleInlineContent": [
                        {
                          "code": "URLSessionStreamTask",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " is much like ",
                      "type": "text"
                    },
                    {
                      "code": "URLSessionWebSocketTask",
                      "type": "codeVoice"
                    },
                    {
                      "text": ": Unless you have a specific reason to use ",
                      "type": "text"
                    },
                    {
                      "code": "URLSession",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", use Network framework instead.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Network Extension in-provider networking includes ",
                      "type": "text"
                    },
                    {
                      "code": "NWTCPConnection",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".  While there are some very limited circumstances where this is still useful, in most cases it’s better to use Network framework.  For more details, see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/NetworkExtension/in-provider-networking",
                      "isActive": true,
                      "overridingTitle": "In-Provider Networking",
                      "overridingTitleInlineContent": [
                        {
                          "text": "In-Provider Networking",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Foundation has a number of classes, like ",
                      "type": "text"
                    },
                    {
                      "code": "NSConnection",
                      "type": "codeVoice"
                    },
                    {
                      "text": " and ",
                      "type": "text"
                    },
                    {
                      "code": "NSSocketPort",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", that ",
                      "type": "text"
                    },
                    {
                      "inlineContent": [
                        {
                          "text": "seem",
                          "type": "text"
                        }
                      ],
                      "type": "emphasis"
                    },
                    {
                      "text": " like they might be useful for TCP networking.  They are not.  These are part of Foundation’s legacy Distributed Objects (DO) system.  DO was never a good choice for networking; moreover, it was formally deprecated in 2017 (see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
                      "isActive": true,
                      "overridingTitle": "Versions",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Versions",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ").",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "anchor": "UDP-alternatives",
          "level": 3,
          "text": "UDP alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Network Extension in-provider networking includes ",
              "type": "text"
            },
            {
              "code": "NWUDPSession",
              "type": "codeVoice"
            },
            {
              "text": ".  While there are some very limited circumstances where this is still useful, in most cases it’s better to use Network framework.  For more details, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/NetworkExtension/in-provider-networking",
              "isActive": true,
              "overridingTitle": "In-Provider Networking",
              "overridingTitleInlineContent": [
                {
                  "text": "In-Provider Networking",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Bonjour-alternatives",
          "level": 3,
          "text": "Bonjour alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "There are two older Bonjour APIs:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice",
                      "isActive": true,
                      "overridingTitle": "NetService",
                      "overridingTitleInlineContent": [
                        {
                          "code": "NetService",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "identifier": "doc://com.apple.documentation/documentation/CFNetwork/CFNetService",
                      "isActive": true,
                      "overridingTitle": "CFNetService",
                      "overridingTitleInlineContent": [
                        {
                          "code": "CFNetService",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "In 2021 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ") both of these were marked as to-be-deprecated in favor of Network framework.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Peer-to-peer-alternatives",
          "level": 3,
          "text": "Peer-to-peer alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "identifier": "doc://com.apple.documentation/documentation/MultipeerConnectivity",
              "isActive": true,
              "overridingTitle": "Multipeer Connectivity",
              "overridingTitleInlineContent": [
                {
                  "text": "Multipeer Connectivity",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " is a high-level interface to Apple’s peer-to-peer Wi-Fi support.  It includes:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "A very opinionated networking model, where every participant in a session is a symmetric peer",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "User interface components for advertising and joining a session",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Use it when your requirements are aligned with those features.  Don’t use it if your program uses a client/server architecture; Network framework works better in that case.  For an example, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network/building-a-custom-peer-to-peer-protocol",
              "isActive": true,
              "overridingTitle": "Building a custom peer-to-peer protocol",
              "overridingTitleInlineContent": [
                {
                  "text": "Building a custom peer-to-peer protocol",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A common misconception is that Multipeer Connectivity is the only way to use peer-to-peer Wi-Fi.  That’s not the case.  Network framework has opt-in peer-to-peer Wi-Fi support.  For the details, see ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-networking",
                  "isActive": true,
                  "overridingTitle": "Peer-to-Peer networking",
                  "overridingTitleInlineContent": [
                    {
                      "text": "Peer-to-Peer networking",
                      "type": "text"
                    }
                  ],
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "Foundation also has peer-to-peer Wi-Fi support:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "When advertising a service using ",
                      "type": "text"
                    },
                    {
                      "code": "NSNetService",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", set the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/1414086-includespeertopeer",
                      "isActive": true,
                      "overridingTitle": "includesPeerToPeer",
                      "overridingTitleInlineContent": [
                        {
                          "code": "includesPeerToPeer",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " property.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "To accept connections, set the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/options/1414270-listenforconnections",
                      "isActive": true,
                      "overridingTitle": ".listenForConnections",
                      "overridingTitleInlineContent": [
                        {
                          "code": ".listenForConnections",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " flag and implement the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservicedelegate/1407489-netservice",
                      "isActive": true,
                      "overridingTitle": "netService(_:didAcceptConnectionWith:outputStream:)",
                      "overridingTitleInlineContent": [
                        {
                          "code": "netService(_:didAcceptConnectionWith:outputStream:)",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " delegate callback.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "When browsing for services using ",
                      "type": "text"
                    },
                    {
                      "code": "NSNetServiceBrowser",
                      "type": "codeVoice"
                    },
                    {
                      "text": ", set the ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservicebrowser/1413106-includespeertopeer",
                      "isActive": true,
                      "overridingTitle": "includesPeerToPeer",
                      "overridingTitleInlineContent": [
                        {
                          "code": "includesPeerToPeer",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " property.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "After discovering a service with a peer-to-peer enabled browser, connect to that service using ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/1418325-getinputstream",
                      "isActive": true,
                      "overridingTitle": "getInputStream(_:outputStream:)",
                      "overridingTitleInlineContent": [
                        {
                          "code": "getInputStream(_:outputStream:)",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "These APIs were marked as to-be-deprecated in 2021 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ").  If you have existing code that uses them, make a plan to migrate to ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/dnssd",
              "isActive": true,
              "overridingTitle": "dnssd",
              "overridingTitleInlineContent": [
                {
                  "text": "dnssd",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " API supports peer-to-peer Wi-Fi but with an important caveat: If you advertise a service on peer-to-peer Wi-Fi using dnssd, the service’s listener must be run by a peer-to-peer aware API, like ",
              "type": "text"
            },
            {
              "code": "NWListener",
              "type": "codeVoice"
            },
            {
              "text": " or ",
              "type": "text"
            },
            {
              "code": "NSNetService",
              "type": "codeVoice"
            },
            {
              "text": ".  Given that those APIs already have a facility to opt in to peer-to-peer Wi-Fi, there’s very little point using dnssd for this.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "DNS-alternatives",
          "level": 3,
          "text": "DNS alternatives",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "code": "NSHost",
              "type": "codeVoice"
            },
            {
              "text": " supports synchronous DNS name-to-address and address-to-name translation.  It was only ever supported on macOS.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "code": "CFHost",
              "type": "codeVoice"
            },
            {
              "text": " supports DNS name-to-address and address-to-name translation, both synchronously and asynchronously.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Both of these APIs were marked as to-be-deprecated in 2021 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ").  If you have existing code that uses them, make a plan to migrate to a preferred API.  In many cases that means switching to a connect-by-name API.  See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Connect-by-name",
              "isActive": true,
              "overridingTitle": "Connect by name",
              "overridingTitleInlineContent": [
                {
                  "text": "Connect by name",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  For other cases, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS",
              "isActive": true,
              "overridingTitle": "DNS",
              "overridingTitleInlineContent": [
                {
                  "text": "DNS",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Best-practices",
          "level": 2,
          "text": "Best practices",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple’s preferred networking APIs, including ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/urlsession",
              "isActive": true,
              "overridingTitle": "URLSession",
              "overridingTitleInlineContent": [
                {
                  "code": "URLSession",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework, implement various best practices by default.  If you choose to use an alternative API, you take on the responsibility of implementing these best practices yourself.  This section addresses some of the more common issues.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Connect-by-name",
          "level": 3,
          "text": "Connect by name",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Traditionally, you connect to a TCP service using two steps:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Resolve the DNS name to a set of IPv4 and IPv6 addresses.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Connect to one of those addresses.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "orderedList"
        },
        {
          "inlineContent": [
            {
              "text": "This two-step approach is an anti-pattern on Apple platforms for two reasons:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "It doesn’t support on-demand connections, such as VPN On Demand.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "It’s hard to implement the second step correctly.  The industry standard for this is called the ",
                      "type": "text"
                    },
                    {
                      "inlineContent": [
                        {
                          "text": "Happy Eyeballs",
                          "type": "text"
                        }
                      ],
                      "type": "emphasis"
                    },
                    {
                      "text": " algorithm (",
                      "type": "text"
                    },
                    {
                      "identifier": "https://tools.ietf.org/html/rfc8305",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ").  It’s a non-trivial amount of work.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Apple’s preferred networking APIs support connect-by-name semantics, where you pass the API a DNS name and it takes care of all the details.  If you can use a connect-by-name API, do that.  If you can’t—and the prime offender here is BSD Sockets—you’ll have to implement Happy Eyeballs yourself.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Sadly, even with all of that extra code, your program will still be incompatible with VPN On Demand.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "BSD-Sockets-best-practices",
          "level": 3,
          "text": "BSD Sockets best practices",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "BSD Sockets has a number of limitations.  Your life will be easier if you use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework rather than BSD Sockets.  If that’s not possible—say you’re working on a cross-platform codebase that mandates the use of sockets—apply the following best practices:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Implement your own connect-by-name semantics.  If you don’t do this, your program might fail to connect, or connect very slowly, in adverse network conditions.  For more details, see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Connect-by-name",
                      "isActive": true,
                      "overridingTitle": "Connect by name",
                      "overridingTitleInlineContent": [
                        {
                          "text": "Connect by name",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Write code that supports both IPv4 and IPv6.  Test that code on an IPv6-only network.  See ",
                      "type": "text"
                    },
                    {
                      "identifier": "https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW16",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Use the system DNS resolver.  For more on this, see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-best-practices",
                      "isActive": true,
                      "overridingTitle": "DNS best practices",
                      "overridingTitleInlineContent": [
                        {
                          "text": "DNS best practices",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "BSD Sockets does not support TLS directly.  If you want secure connections, and really you should, add your own TLS implementation.  For more on this, see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TLS-best-practices",
                      "isActive": true,
                      "overridingTitle": "TLS best practices",
                      "overridingTitleInlineContent": [
                        {
                          "text": "TLS best practices",
                          "type": "text"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Once you’ve established a connection, use ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/SystemConfiguration/SCNetworkReachabilityCreateWithAddressPair(_:_:_:)",
                      "isActive": true,
                      "overridingTitle": "SCNetworkReachabilityCreateWithAddressPair(_:_:_:)",
                      "overridingTitleInlineContent": [
                        {
                          "code": "SCNetworkReachabilityCreateWithAddressPair(_:_:_:)",
                          "type": "codeVoice"
                        }
                      ],
                      "type": "reference"
                    },
                    {
                      "text": " to monitor its viability.  Without this, your program won’t notice that a connection is stuck due to a TCP/IP stack reconfiguration.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If you don’t follow these best practices your networking code will fail in some specific network environments.  Such environments are hard to replicate at your workplace, so you might only notice the problem when your program fails after it’s been deployed.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "If your primary reason for using BSD Sockets is cross-platform support, consider using a network abstraction layer that adapts to the target platform.  One such option is ",
              "type": "text"
            },
            {
              "identifier": "https://github.com/apple/swift-nio-transport-services",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", which makes it straightforward to use Network framework on Apple platforms and BSD Sockets elsewhere.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Apple’s BSD Sockets implementation is documented in the man pages.  If you’re unfamiliar with that term, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/os/reading-unix-manual-pages",
              "isActive": true,
              "overridingTitle": "Reading UNIX Manual Pages",
              "overridingTitleInlineContent": [
                {
                  "text": "Reading UNIX Manual Pages",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".  Man pages are notoriously succinct.  If you’re getting started with BSD Sockets, take advantage of the wide range of non-Apple resources out there.  A classic work in the field is the book ",
              "type": "text"
            },
            {
              "inlineContent": [
                {
                  "text": "UNIX Network Programming",
                  "type": "text"
                }
              ],
              "type": "emphasis"
            },
            {
              "text": " by Stevens et al.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "One traditional challenge with BSD Sockets is how best to handle nonblocking sockets.  For cross-platform code you have all the usual options (",
              "type": "text"
            },
            {
              "code": "select",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "poll",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "kqueue",
              "type": "codeVoice"
            },
            {
              "text": ").  For Apple-specific code you have one more: a Dispatch read source.  Use this to integrate a nonblocking socket into existing code that uses Dispatch queues.  For more details, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Dispatch/dispatch-source",
              "isActive": true,
              "overridingTitle": "Dispatch Source",
              "overridingTitleInlineContent": [
                {
                  "text": "Dispatch Source",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "If you’re using ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfsocket",
                  "isActive": true,
                  "overridingTitle": "CFSocket",
                  "overridingTitleInlineContent": [
                    {
                      "code": "CFSocket",
                      "type": "codeVoice"
                    }
                  ],
                  "type": "reference"
                },
                {
                  "text": " to handle a nonblocking socket, consider switching to a Dispatch read source.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Note",
          "style": "note",
          "type": "aside"
        },
        {
          "anchor": "DNS-best-practices",
          "level": 3,
          "text": "DNS best practices",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Use the system DNS resolver.  Implementing your own DNS resolver is extra work, wastes resources, and causes problems in specific network environments.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you’re using BSD Sockets, use the ",
              "type": "text"
            },
            {
              "code": "getaddrinfo",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "getnameinfo",
              "type": "codeVoice"
            },
            {
              "text": " APIs.  BSD Sockets has a range of legacy DNS APIs, like ",
              "type": "text"
            },
            {
              "code": "gethostbyname",
              "type": "codeVoice"
            },
            {
              "text": ", that embody known anti-patterns.  For example, ",
              "type": "text"
            },
            {
              "code": "gethostbyname",
              "type": "codeVoice"
            },
            {
              "text": " doesn’t support IPv6 and relies on thread-local storage.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Also use ",
              "type": "text"
            },
            {
              "code": "getaddrinfo",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "getnameinfo",
              "type": "codeVoice"
            },
            {
              "text": " to convert between strings and IP addresses.  Again, the legacy APIs for this have various problems.  For example, ",
              "type": "text"
            },
            {
              "code": "inet_addr",
              "type": "codeVoice"
            },
            {
              "text": " doesn’t support IPv6 and relies on thread-local storage.  When converting an IP address to a string, pass ",
              "type": "text"
            },
            {
              "code": "AI_NUMERICHOST",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "AI_NUMERICSERV",
              "type": "codeVoice"
            },
            {
              "text": " to ",
              "type": "text"
            },
            {
              "code": "getaddrinfo",
              "type": "codeVoice"
            },
            {
              "text": " to ensure that it doesn’t generate any network traffic.  Likewise, when going the other way, pass ",
              "type": "text"
            },
            {
              "code": "NI_NUMERICHOST",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "NI_NUMERICSERV",
              "type": "codeVoice"
            },
            {
              "text": " to ",
              "type": "text"
            },
            {
              "code": "getnameinfo",
              "type": "codeVoice"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you’re using BSD Sockets and want to resolve a DNS address asynchronously, use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/dnssd/DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)",
              "isActive": true,
              "overridingTitle": "DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)",
              "overridingTitleInlineContent": [
                {
                  "code": "DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "TLS-best-practices",
          "level": 3,
          "text": "TLS best practices",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple’s preferred networking APIs, including ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/foundation/urlsession",
              "isActive": true,
              "overridingTitle": "URLSession",
              "overridingTitleInlineContent": [
                {
                  "code": "URLSession",
                  "type": "codeVoice"
                }
              ],
              "type": "reference"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Network",
              "isActive": true,
              "overridingTitle": "Network",
              "overridingTitleInlineContent": [
                {
                  "text": "Network",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " framework, use a built-in, modern TLS stack.  That’s not available if you use BSD Sockets.  To use TLS in that case, add your own TLS implementation.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Make sure your TLS implementation uses Apple’s trust evaluation infrastructure.  If you implement your own trust evaluation, it won’t match that of the built-in apps, like Safari and Mail.  For more about Apple’s trust evaluation APIs, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Security/trust",
              "isActive": true,
              "overridingTitle": "Trust",
              "overridingTitleInlineContent": [
                {
                  "text": "Trust",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Don’t use ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/Security/secure-transport",
              "isActive": true,
              "overridingTitle": "Secure Transport",
              "overridingTitleInlineContent": [
                {
                  "text": "Secure Transport",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": " for your TLS implementation.  It’s been deprecated since 2019 (see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
              "isActive": true,
              "overridingTitle": "Versions",
              "overridingTitleInlineContent": [
                {
                  "text": "Versions",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ") and doesn’t support TLS 1.3.  If you have existing code that uses Secure Transport, make a plan to migrate off it.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Versions",
          "level": 2,
          "text": "Versions",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Networking is fundamental to all Apple platforms.  When Apple introduces a new networking API, or adds new support to an existing API, it typically does so on all platforms.  Likewise when Apple deprecates an API.  When this technote covers such topics, it references the year of the OS release.  The following table maps years to OS version numbers:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "header": "row",
          "rows": [
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "Year",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "macOS",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "iOS, tvOS",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "watchOS",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2013",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.9",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "7",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "-",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2014",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.10",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "8",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "1",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2015",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.11",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "9",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "2",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2016",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.12",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "3",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2017",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.13",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "11",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "4",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2018",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.14",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "12",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "5",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2019",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "10.15",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "13",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "6",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2020",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "11",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "14",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "7",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2021",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "12",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "15",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "8",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ],
            [
              [
                {
                  "inlineContent": [
                    {
                      "text": "2022",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "13",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "16",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ],
              [
                {
                  "inlineContent": [
                    {
                      "text": "9",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            ]
          ],
          "type": "table"
        },
        {
          "anchor": "Revision-History",
          "level": 2,
          "text": "Revision History",
          "type": "heading"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "2023-09-19",
                          "type": "text"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "text": " Added information about ",
                      "type": "text"
                    },
                    {
                      "code": "CFSocket",
                      "type": "codeVoice"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "2023-06-06",
                          "type": "text"
                        }
                      ],
                      "type": "strong"
                    },
                    {
                      "text": " First published.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/BundleResources/Entitlements/com.apple.developer.networking.multicast": {
      "abstract": [
        {
          "text": "A Boolean value that indicates whether an app can send or receive IP multicast traffic.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/BundleResources/Entitlements/com.apple.developer.networking.multicast",
      "kind": "symbol",
      "role": "symbol",
      "title": "com.apple.developer.networking.multicast",
      "type": "topic",
      "url": "/documentation/BundleResources/Entitlements/com.apple.developer.networking.multicast"
    },
    "doc://com.apple.documentation/documentation/BundleResources/Information-Property-List/NSBonjourServices": {
      "abstract": [
        {
          "text": "Bonjour service types browsed by the app.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/BundleResources/Information-Property-List/NSBonjourServices",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSBonjourServices",
      "type": "topic",
      "url": "/documentation/BundleResources/Information-Property-List/NSBonjourServices"
    },
    "doc://com.apple.documentation/documentation/CFNetwork/CFNetService": {
      "abstract": [
        {
          "text": "An opaque reference representing a CFNetService.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "class"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "CFNetService"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/CFNetwork/CFNetService",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFNetService",
      "type": "topic",
      "url": "/documentation/CFNetwork/CFNetService"
    },
    "doc://com.apple.documentation/documentation/CoreWLAN": {
      "abstract": [
        {
          "text": "Query AirPort interfaces and choose wireless networks.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/CoreWLAN",
      "kind": "symbol",
      "role": "collection",
      "title": "Core WLAN",
      "type": "topic",
      "url": "/documentation/CoreWLAN"
    },
    "doc://com.apple.documentation/documentation/DeviceDiscoveryUI": {
      "abstract": [
        {
          "text": "Display an interface that lets users connect a tvOS app to a mobile device over the local network.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/DeviceDiscoveryUI",
      "kind": "symbol",
      "role": "collection",
      "title": "DeviceDiscoveryUI",
      "type": "topic",
      "url": "/documentation/DeviceDiscoveryUI"
    },
    "doc://com.apple.documentation/documentation/Dispatch/dispatch-source": {
      "abstract": [
        {
          "text": "An object that coordinates the processing of specific low-level system events, such as file-system events, timers, and UNIX signals.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Dispatch/dispatch-source",
      "kind": "article",
      "role": "article",
      "title": "Dispatch Source",
      "type": "topic",
      "url": "/documentation/Dispatch/dispatch-source"
    },
    "doc://com.apple.documentation/documentation/MultipeerConnectivity": {
      "abstract": [
        {
          "text": "Support peer-to-peer connectivity and the discovery of nearby devices.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/MultipeerConnectivity",
      "kind": "symbol",
      "role": "collection",
      "title": "Multipeer Connectivity",
      "type": "topic",
      "url": "/documentation/MultipeerConnectivity"
    },
    "doc://com.apple.documentation/documentation/Network": {
      "abstract": [
        {
          "text": "Create network connections to send and receive data using transport and security protocols.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network",
      "kind": "symbol",
      "role": "collection",
      "title": "Network",
      "type": "topic",
      "url": "/documentation/Network"
    },
    "doc://com.apple.documentation/documentation/Network/NWConnection": {
      "abstract": [
        {
          "text": "A bidirectional data connection between a local endpoint and a remote endpoint.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "final"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "class"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "NWConnection"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network/NWConnection",
      "kind": "symbol",
      "role": "symbol",
      "title": "NWConnection",
      "type": "topic",
      "url": "/documentation/Network/NWConnection"
    },
    "doc://com.apple.documentation/documentation/Network/NWConnectionGroup": {
      "abstract": [
        {
          "text": "An object you use to communicate with a group of endpoints, such as an IP multicast group on a local network.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "final"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "class"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "NWConnectionGroup"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network/NWConnectionGroup",
      "kind": "symbol",
      "role": "symbol",
      "title": "NWConnectionGroup",
      "type": "topic",
      "url": "/documentation/Network/NWConnectionGroup"
    },
    "doc://com.apple.documentation/documentation/Network/NWParameters/includePeerToPeer": {
      "abstract": [
        {
          "text": "A Boolean that enables peer-to-peer link technologies for connections and listeners.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "final"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "var"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "includePeerToPeer"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:Sb",
          "text": "Bool"
        },
        {
          "kind": "text",
          "text": " { "
        },
        {
          "kind": "keyword",
          "text": "get"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "keyword",
          "text": "set"
        },
        {
          "kind": "text",
          "text": " }"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network/NWParameters/includePeerToPeer",
      "kind": "symbol",
      "role": "symbol",
      "title": "includePeerToPeer",
      "type": "topic",
      "url": "/documentation/Network/NWParameters/includePeerToPeer"
    },
    "doc://com.apple.documentation/documentation/Network/building-a-custom-peer-to-peer-protocol": {
      "abstract": [
        {
          "text": "Use networking frameworks to create a custom protocol for playing a game across iOS, iPadOS, watchOS, and tvOS devices.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network/building-a-custom-peer-to-peer-protocol",
      "kind": "article",
      "role": "sampleCode",
      "title": "Building a custom peer-to-peer protocol",
      "type": "topic",
      "url": "/documentation/Network/building-a-custom-peer-to-peer-protocol"
    },
    "doc://com.apple.documentation/documentation/Network/nw_connection_t": {
      "abstract": [
        {
          "text": "A bidirectional data connection between a local endpoint and a remote endpoint.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "typealias"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "nw_connection_t"
        },
        {
          "kind": "text",
          "text": " = any "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:objc(pl)OS_nw_connection",
          "text": "OS_nw_connection"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Network/nw_connection_t",
      "kind": "symbol",
      "role": "symbol",
      "title": "nw_connection_t",
      "type": "topic",
      "url": "/documentation/Network/nw_connection_t"
    },
    "doc://com.apple.documentation/documentation/NetworkExtension": {
      "abstract": [
        {
          "text": "Customize and extend core networking features.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/NetworkExtension",
      "kind": "symbol",
      "role": "collection",
      "title": "Network Extension",
      "type": "topic",
      "url": "/documentation/NetworkExtension"
    },
    "doc://com.apple.documentation/documentation/NetworkExtension/in-provider-networking": {
      "abstract": [
        {
          "text": "Network APIs for use by all types of NetworkExtension providers and by hotspot helpers.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/NetworkExtension/in-provider-networking",
      "kind": "article",
      "role": "article",
      "title": "In-Provider Networking",
      "type": "topic",
      "url": "/documentation/NetworkExtension/in-provider-networking"
    },
    "doc://com.apple.documentation/documentation/Security/secure-transport": {
      "abstract": [
        {
          "text": "Secure network communication using standardized transport layer security mechanisms.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Security/secure-transport",
      "kind": "article",
      "role": "article",
      "title": "Secure Transport",
      "type": "topic",
      "url": "/documentation/Security/secure-transport"
    },
    "doc://com.apple.documentation/documentation/Security/trust": {
      "abstract": [
        {
          "text": "Evaluate trust based on a given policy.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Security/trust",
      "kind": "article",
      "role": "article",
      "title": "Trust",
      "type": "topic",
      "url": "/documentation/Security/trust"
    },
    "doc://com.apple.documentation/documentation/SystemConfiguration/SCNetworkReachabilityCreateWithAddressPair(_:_:_:)": {
      "abstract": [
        {
          "text": "Creates a reachability reference to the specified network address.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "SCNetworkReachabilityCreateWithAddressPair"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "allocator"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@CFAllocatorRef",
          "text": "CFAllocator"
        },
        {
          "kind": "text",
          "text": "?, "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "localAddress"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:SP",
          "text": "UnsafePointer"
        },
        {
          "kind": "text",
          "text": "<"
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@S@sockaddr",
          "text": "sockaddr"
        },
        {
          "kind": "text",
          "text": ">?, "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "remoteAddress"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:SP",
          "text": "UnsafePointer"
        },
        {
          "kind": "text",
          "text": "<"
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@S@sockaddr",
          "text": "sockaddr"
        },
        {
          "kind": "text",
          "text": ">?) -> "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@SCNetworkReachabilityRef",
          "text": "SCNetworkReachability"
        },
        {
          "kind": "text",
          "text": "?"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/SystemConfiguration/SCNetworkReachabilityCreateWithAddressPair(_:_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "SCNetworkReachabilityCreateWithAddressPair(_:_:_:)",
      "type": "topic",
      "url": "/documentation/SystemConfiguration/SCNetworkReachabilityCreateWithAddressPair(_:_:_:)"
    },
    "doc://com.apple.documentation/documentation/Technotes/tn3111-ios-wifi-api-overview": {
      "abstract": [
        {
          "text": "Explore the various Wi-Fi APIs available on iOS and their expected use cases.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Technotes/tn3111-ios-wifi-api-overview",
      "kind": "article",
      "role": "article",
      "title": "TN3111: iOS Wi-Fi API overview",
      "type": "topic",
      "url": "/documentation/Technotes/tn3111-ios-wifi-api-overview"
    },
    "doc://com.apple.documentation/documentation/Technotes/tn3135-low-level-networking-on-watchOS": {
      "abstract": [
        {
          "text": "Learn about the supported use cases for low-level networking on watchOS.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/Technotes/tn3135-low-level-networking-on-watchOS",
      "kind": "article",
      "role": "article",
      "title": "TN3135: Low-level networking on watchOS",
      "type": "topic",
      "url": "/documentation/Technotes/tn3135-low-level-networking-on-watchOS"
    },
    "doc://com.apple.documentation/documentation/ThreadNetwork": {
      "abstract": [
        {
          "text": "Share credentials and choose a designated network for each home.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/ThreadNetwork",
      "kind": "symbol",
      "role": "collection",
      "title": "ThreadNetwork",
      "type": "topic",
      "url": "/documentation/ThreadNetwork"
    },
    "doc://com.apple.documentation/documentation/WatchConnectivity": {
      "abstract": [
        {
          "text": "Implement two-way communication between an iOS app and its paired watchOS app.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/WatchConnectivity",
      "kind": "symbol",
      "role": "collection",
      "title": "Watch Connectivity",
      "type": "topic",
      "url": "/documentation/WatchConnectivity"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfsocket": {
      "abstract": [
        {
          "text": "A reference to a CFSocket object.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "CFSocket"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfsocket",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFSocket",
      "type": "topic",
      "url": "/documentation/corefoundation/cfsocket"
    },
    "doc://com.apple.documentation/documentation/dnssd": {
      "abstract": [
        {
          "text": "Discover, publish, and resolve network services on a local area or wide area network.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/dnssd",
      "kind": "symbol",
      "role": "collection",
      "title": "dnssd",
      "type": "topic",
      "url": "/documentation/dnssd"
    },
    "doc://com.apple.documentation/documentation/dnssd/DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)": {
      "abstract": [
        {
          "text": "Queries for the IP address of a hostname by using either Multicast or Unicast DNS.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "DNSServiceGetAddrInfo"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "sdRef"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:Sp",
          "text": "UnsafeMutablePointer"
        },
        {
          "kind": "text",
          "text": "<"
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@DNSServiceRef",
          "text": "DNSServiceRef"
        },
        {
          "kind": "text",
          "text": "?>!, "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "flags"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@DNSServiceFlags",
          "text": "DNSServiceFlags"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "interfaceIndex"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:s6UInt32V",
          "text": "UInt32"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "protocol"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@DNSServiceProtocol",
          "text": "DNSServiceProtocol"
        },
        {
          "kind": "text",
          "text": ", "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "hostname"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:SP",
          "text": "UnsafePointer"
        },
        {
          "kind": "text",
          "text": "<"
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:s5CChara",
          "text": "CChar"
        },
        {
          "kind": "text",
          "text": ">!, "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "callBack"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@DNSServiceGetAddrInfoReply",
          "text": "DNSServiceGetAddrInfoReply"
        },
        {
          "kind": "text",
          "text": "!, "
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "context"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "s:Sv",
          "text": "UnsafeMutableRawPointer"
        },
        {
          "kind": "text",
          "text": "!) -> "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:@T@DNSServiceErrorType",
          "text": "DNSServiceErrorType"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/dnssd/DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)",
      "type": "topic",
      "url": "/documentation/dnssd/DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)"
    },
    "doc://com.apple.documentation/documentation/foundation": {
      "abstract": [
        {
          "text": "Access essential data types, collections, and operating-system services to define the base layer of functionality for your app.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "kind": "symbol",
      "role": "collection",
      "title": "Foundation",
      "type": "topic",
      "url": "/documentation/foundation"
    },
    "doc://com.apple.documentation/documentation/foundation/filehandle": {
      "abstract": [
        {
          "text": "An object-oriented wrapper for a file descriptor.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "FileHandle"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/filehandle",
      "kind": "symbol",
      "role": "symbol",
      "title": "FileHandle",
      "type": "topic",
      "url": "/documentation/foundation/filehandle"
    },
    "doc://com.apple.documentation/documentation/foundation/netservice": {
      "abstract": [
        {
          "text": "A network service that broadcasts its availability using multicast DNS.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "NetService"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice",
      "kind": "symbol",
      "role": "symbol",
      "title": "NetService",
      "type": "topic",
      "url": "/documentation/foundation/netservice"
    },
    "doc://com.apple.documentation/documentation/foundation/netservice/1414086-includespeertopeer": {
      "abstract": [
        {
          "text": "Specifies whether to also publish, resolve, or monitor this service over peer-to-peer Bluetooth and Wi-Fi, if available.  by default.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "includesPeerToPeer"
        },
        {
          "kind": "text",
          "text": ": Bool"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/1414086-includespeertopeer",
      "kind": "symbol",
      "role": "symbol",
      "title": "includesPeerToPeer",
      "type": "topic",
      "url": "/documentation/foundation/netservice/1414086-includespeertopeer"
    },
    "doc://com.apple.documentation/documentation/foundation/netservice/1418325-getinputstream": {
      "abstract": [
        {
          "text": "Creates a pair of input and output streams for the receiver and returns a Boolean value that indicates whether they were retrieved successfully.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "getInputStream"
        },
        {
          "kind": "text",
          "text": "(UnsafeMutablePointer<InputStream?>?, "
        },
        {
          "kind": "identifier",
          "text": "outputStream"
        },
        {
          "kind": "text",
          "text": ": UnsafeMutablePointer<OutputStream?>?) -> Bool"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/1418325-getinputstream",
      "kind": "symbol",
      "role": "symbol",
      "title": "getInputStream(_:outputStream:)",
      "type": "topic",
      "url": "/documentation/foundation/netservice/1418325-getinputstream"
    },
    "doc://com.apple.documentation/documentation/foundation/netservice/options/1414270-listenforconnections": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "static var "
        },
        {
          "kind": "identifier",
          "text": "listenForConnections"
        },
        {
          "kind": "text",
          "text": ": NetService.Options"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservice/options/1414270-listenforconnections",
      "kind": "symbol",
      "role": "symbol",
      "title": "listenForConnections",
      "type": "topic",
      "url": "/documentation/foundation/netservice/options/1414270-listenforconnections"
    },
    "doc://com.apple.documentation/documentation/foundation/netservicebrowser/1413106-includespeertopeer": {
      "abstract": [
        {
          "text": "Whether to browse over peer-to-peer Bluetooth and Wi-Fi, if available. , by default.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "includesPeerToPeer"
        },
        {
          "kind": "text",
          "text": ": Bool"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservicebrowser/1413106-includespeertopeer",
      "kind": "symbol",
      "role": "symbol",
      "title": "includesPeerToPeer",
      "type": "topic",
      "url": "/documentation/foundation/netservicebrowser/1413106-includespeertopeer"
    },
    "doc://com.apple.documentation/documentation/foundation/netservicedelegate/1407489-netservice": {
      "abstract": [
        {
          "text": "Called when a client connects to a service managed by Bonjour.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "netService"
        },
        {
          "kind": "text",
          "text": "(NetService, "
        },
        {
          "kind": "identifier",
          "text": "didAcceptConnectionWith"
        },
        {
          "kind": "text",
          "text": ": InputStream, "
        },
        {
          "kind": "identifier",
          "text": "outputStream"
        },
        {
          "kind": "text",
          "text": ": OutputStream)"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/netservicedelegate/1407489-netservice",
      "kind": "symbol",
      "role": "symbol",
      "title": "netService(_:didAcceptConnectionWith:outputStream:)",
      "type": "topic",
      "url": "/documentation/foundation/netservicedelegate/1407489-netservice"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlconnection": {
      "abstract": [
        {
          "text": "An object that enables you to start and stop URL requests.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "NSURLConnection"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlconnection",
      "kind": "symbol",
      "role": "symbol",
      "title": "NSURLConnection",
      "type": "topic",
      "url": "/documentation/foundation/nsurlconnection"
    },
    "doc://com.apple.documentation/documentation/foundation/stream/1414311-getstreamstohost": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "class func "
        },
        {
          "kind": "identifier",
          "text": "getStreamsToHost"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "identifier",
          "text": "withName"
        },
        {
          "kind": "text",
          "text": ": String, "
        },
        {
          "kind": "identifier",
          "text": "port"
        },
        {
          "kind": "text",
          "text": ": Int, "
        },
        {
          "kind": "identifier",
          "text": "inputStream"
        },
        {
          "kind": "text",
          "text": ": AutoreleasingUnsafeMutablePointer<InputStream?>?, "
        },
        {
          "kind": "identifier",
          "text": "outputStream"
        },
        {
          "kind": "text",
          "text": ": AutoreleasingUnsafeMutablePointer<OutputStream?>?)"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/stream/1414311-getstreamstohost",
      "kind": "symbol",
      "role": "symbol",
      "title": "getStreamsToHost(withName:port:inputStream:outputStream:)",
      "type": "topic",
      "url": "/documentation/foundation/stream/1414311-getstreamstohost"
    },
    "doc://com.apple.documentation/documentation/foundation/url_loading_system": {
      "abstract": [
        {
          "text": "Interact with URLs and communicate with servers using standard Internet protocols. ",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/url_loading_system",
      "kind": "article",
      "role": "article",
      "title": "URL Loading System",
      "type": "topic",
      "url": "/documentation/foundation/url_loading_system"
    },
    "doc://com.apple.documentation/documentation/foundation/url_loading_system/downloading_files_in_the_background": {
      "abstract": [
        {
          "text": "Create tasks that download files while your app is inactive.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/url_loading_system/downloading_files_in_the_background",
      "kind": "article",
      "role": "article",
      "title": "Downloading files in the background",
      "type": "topic",
      "url": "/documentation/foundation/url_loading_system/downloading_files_in_the_background"
    },
    "doc://com.apple.documentation/documentation/foundation/urlsession": {
      "abstract": [
        {
          "text": "An object that coordinates a group of related, network data transfer tasks.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "URLSession"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/urlsession",
      "kind": "symbol",
      "role": "symbol",
      "title": "URLSession",
      "type": "topic",
      "url": "/documentation/foundation/urlsession"
    },
    "doc://com.apple.documentation/documentation/foundation/urlsessionstreamtask": {
      "abstract": [
        {
          "text": "A URL session task that is stream-based.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "URLSessionStreamTask"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/urlsessionstreamtask",
      "kind": "symbol",
      "role": "symbol",
      "title": "URLSessionStreamTask",
      "type": "topic",
      "url": "/documentation/foundation/urlsessionstreamtask"
    },
    "doc://com.apple.documentation/documentation/foundation/urlsessionwebsockettask": {
      "abstract": [
        {
          "text": "A URL session task that communicates over the WebSockets protocol standard.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "class "
        },
        {
          "kind": "identifier",
          "text": "URLSessionWebSocketTask"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/foundation/urlsessionwebsockettask",
      "kind": "symbol",
      "role": "symbol",
      "title": "URLSessionWebSocketTask",
      "type": "topic",
      "url": "/documentation/foundation/urlsessionwebsockettask"
    },
    "doc://com.apple.documentation/documentation/network/3019340-nw_parameters_set_include_peer_t": {
      "abstract": [
        {
          "text": "Enables peer-to-peer link technologies for connections and listeners.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "nw_parameters_set_include_peer_to_peer"
        },
        {
          "kind": "text",
          "text": "(nw_parameters_t, Bool)"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/network/3019340-nw_parameters_set_include_peer_t",
      "kind": "symbol",
      "role": "symbol",
      "title": "nw_parameters_set_include_peer_to_peer(_:_:)",
      "type": "topic",
      "url": "/documentation/network/3019340-nw_parameters_set_include_peer_t"
    },
    "doc://com.apple.documentation/documentation/os/reading-unix-manual-pages": {
      "abstract": [
        {
          "text": "Use the Terminal app to read the documentation for low-level UNIX tools and APIs.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/os/reading-unix-manual-pages",
      "kind": "article",
      "role": "article",
      "title": "Reading UNIX Manual Pages",
      "type": "topic",
      "url": "/documentation/os/reading-unix-manual-pages"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.technotes/documentation/Technotes": {
      "abstract": [
        {
          "text": "Learn about specific development topics through these in-depth technical articles.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes",
      "kind": "article",
      "role": "collection",
      "title": "Technotes",
      "type": "topic",
      "url": "/documentation/technotes"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3111-ios-wifi-api-overview": {
      "abstract": [
        {
          "text": "Explore the various Wi-Fi APIs available on iOS and their expected use cases.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3111-ios-wifi-api-overview",
      "kind": "article",
      "role": "article",
      "title": "TN3111: iOS Wi-Fi API overview",
      "type": "topic",
      "url": "/documentation/technotes/tn3111-ios-wifi-api-overview"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3124-debugging-coordinate-transformations": {
      "abstract": [
        {
          "text": "Learn techniques to help debug any coordinate space issue.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3124-debugging-coordinate-transformations",
      "kind": "article",
      "role": "article",
      "title": "TN3124: Debugging coordinate space issues",
      "type": "topic",
      "url": "/documentation/technotes/tn3124-debugging-coordinate-transformations"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Alternative-APIs": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Alternative-APIs",
      "kind": "section",
      "title": "Alternative APIs",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Alternative-APIs"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices",
      "kind": "section",
      "title": "BSD Sockets best practices",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#BSD-Sockets-best-practices"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Best-practices": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Best-practices",
      "kind": "section",
      "title": "Best practices",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Best-practices"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-alternatives",
      "kind": "section",
      "title": "Bonjour alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Bonjour-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-service-discovery": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Bonjour-service-discovery",
      "kind": "section",
      "title": "Bonjour service discovery",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Bonjour-service-discovery"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Connect-by-name": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Connect-by-name",
      "kind": "section",
      "title": "Connect by name",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Connect-by-name"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS",
      "kind": "section",
      "title": "DNS",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#DNS"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-alternatives",
      "kind": "section",
      "title": "DNS alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#DNS-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-best-practices": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#DNS-best-practices",
      "kind": "section",
      "title": "DNS best practices",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#DNS-best-practices"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP",
      "kind": "section",
      "title": "FTP",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#FTP"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#FTP-alternatives",
      "kind": "section",
      "title": "FTP alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#FTP-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP",
      "kind": "section",
      "title": "HTTP",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#HTTP"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#HTTP-alternatives",
      "kind": "section",
      "title": "HTTP alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#HTTP-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-alternatives",
      "kind": "section",
      "title": "Peer-to-peer alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-networking": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-networking",
      "kind": "section",
      "title": "Peer-to-peer networking",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Peer-to-peer-networking"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#QUIC": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#QUIC",
      "kind": "section",
      "title": "QUIC",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#QUIC"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP",
      "kind": "section",
      "title": "TCP",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#TCP"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TCP-alternatives",
      "kind": "section",
      "title": "TCP alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#TCP-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TLS-best-practices": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#TLS-best-practices",
      "kind": "section",
      "title": "TLS best practices",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#TLS-best-practices"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP",
      "kind": "section",
      "title": "UDP",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#UDP"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#UDP-alternatives",
      "kind": "section",
      "title": "UDP alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#UDP-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Versions",
      "kind": "section",
      "title": "Versions",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Versions"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket",
      "kind": "section",
      "title": "WebSocket",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#WebSocket"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket-alternatives": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#WebSocket-alternatives",
      "kind": "section",
      "title": "WebSocket alternatives",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#WebSocket-alternatives"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Wi-Fi": {
      "abstract": [],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3151-choosing-the-right-networking-api#Wi-Fi",
      "kind": "section",
      "title": "Wi-Fi",
      "type": "topic",
      "url": "/documentation/technotes/tn3151-choosing-the-right-networking-api#Wi-Fi"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3168-making-your-app-clip-available-app-store": {
      "abstract": [
        {
          "text": "Learn how to configure your App Clip to prevent it from being unavailable in the App Store.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3168-making-your-app-clip-available-app-store",
      "kind": "article",
      "role": "article",
      "title": "TN3168: Making your App Clip available in the App Store",
      "type": "topic",
      "url": "/documentation/technotes/tn3168-making-your-app-clip-available-app-store"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3173-troubleshooting-issues-with-your-apple-pay-merchant-id-configuration": {
      "abstract": [
        {
          "text": "Diagnose errors due to invalid Apple Pay merchant identifier configurations by",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "identifying the underlying causes of common errors and explore their",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "potential solutions.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3173-troubleshooting-issues-with-your-apple-pay-merchant-id-configuration",
      "kind": "article",
      "role": "article",
      "title": "TN3173: Troubleshooting issues with your Apple Pay merchant identifier configuration",
      "type": "topic",
      "url": "/documentation/technotes/tn3173-troubleshooting-issues-with-your-apple-pay-merchant-id-configuration"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3174-diagnosing-issues-with-the-apple-pay-payment-sheet-on-your-website": {
      "abstract": [
        {
          "text": "Diagnose errors received while presenting the Apple Pay payment sheet on",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "your website by identifying the underlying causes of common errors and explore",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "their potential solutions.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3174-diagnosing-issues-with-the-apple-pay-payment-sheet-on-your-website",
      "kind": "article",
      "role": "article",
      "title": "TN3174: Diagnosing issues with the Apple Pay payment sheet on your website",
      "type": "topic",
      "url": "/documentation/technotes/tn3174-diagnosing-issues-with-the-apple-pay-payment-sheet-on-your-website"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3175-diagnosing-issues-with-displaying-the-apple-pay-button-on-your-website": {
      "abstract": [
        {
          "text": "Diagnose common errors received while displaying the Apple Pay button on your",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "website by identifying the underlying causes, and explore potential solutions.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3175-diagnosing-issues-with-displaying-the-apple-pay-button-on-your-website",
      "kind": "article",
      "role": "article",
      "title": "TN3175: Diagnosing issues with displaying the Apple Pay button on your website",
      "type": "topic",
      "url": "/documentation/technotes/tn3175-diagnosing-issues-with-displaying-the-apple-pay-button-on-your-website"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3176-troubleshooting-apple-pay-payment-processing-issues": {
      "abstract": [
        {
          "text": "Diagnose errors that occur when processing Apple Pay payments,",
          "type": "text"
        },
        {
          "text": " ",
          "type": "text"
        },
        {
          "text": "identify common causes, and explore potential solutions.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3176-troubleshooting-apple-pay-payment-processing-issues",
      "kind": "article",
      "role": "article",
      "title": "TN3176: Troubleshooting Apple Pay payment processing issues",
      "type": "topic",
      "url": "/documentation/technotes/tn3176-troubleshooting-apple-pay-payment-processing-issues"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3177-understanding-alternate-audio-track-groups-in-movie-files": {
      "abstract": [
        {
          "text": "Learn how alternate groups collect audio tracks, and how to choose which audio track to use in your app.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3177-understanding-alternate-audio-track-groups-in-movie-files",
      "kind": "article",
      "role": "article",
      "title": "TN3177: Understanding alternate audio track groups in movie files",
      "type": "topic",
      "url": "/documentation/technotes/tn3177-understanding-alternate-audio-track-groups-in-movie-files"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3178-checking-for-and-resolving-build-uuid-problems": {
      "abstract": [
        {
          "text": "Ensure that every Mach-O image has a UUID, and that every distinct Mach-O image has its own unique UUID.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3178-checking-for-and-resolving-build-uuid-problems",
      "kind": "article",
      "role": "article",
      "title": "TN3178: Checking for and resolving build UUID problems",
      "type": "topic",
      "url": "/documentation/technotes/tn3178-checking-for-and-resolving-build-uuid-problems"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3179-understanding-local-network-privacy": {
      "abstract": [
        {
          "text": "Learn how local network privacy affects your software.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3179-understanding-local-network-privacy",
      "kind": "article",
      "role": "article",
      "title": "TN3179: Understanding local network privacy",
      "type": "topic",
      "url": "/documentation/technotes/tn3179-understanding-local-network-privacy"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3180-reverting-app-store-server-notifications-v1": {
      "abstract": [
        {
          "text": "Migrate from version 2 to version 1 of App Store Server Notifications using the Modify an App endpoint.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3180-reverting-app-store-server-notifications-v1",
      "kind": "article",
      "role": "article",
      "title": "TN3180: Reverting to App Store Server Notifications V1",
      "type": "topic",
      "url": "/documentation/technotes/tn3180-reverting-app-store-server-notifications-v1"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3181-debugging-invalid-privacy-manifest": {
      "abstract": [
        {
          "text": "Identify common configurations that cause unsuccessful privacy manifest validation with the App Store.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3181-debugging-invalid-privacy-manifest",
      "kind": "article",
      "role": "article",
      "title": "TN3181: Debugging an invalid privacy manifest",
      "type": "topic",
      "url": "/documentation/technotes/tn3181-debugging-invalid-privacy-manifest"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3182-adding-privacy-tracking-keys-to-your-privacy-manifest": {
      "abstract": [
        {
          "text": "Declare the tracking domains you use in your app or third-party SDK in a privacy manifest.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3182-adding-privacy-tracking-keys-to-your-privacy-manifest",
      "kind": "article",
      "role": "article",
      "title": "TN3182: Adding privacy tracking keys to your privacy manifest",
      "type": "topic",
      "url": "/documentation/technotes/tn3182-adding-privacy-tracking-keys-to-your-privacy-manifest"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3183-adding-required-reason-api-entries-to-your-privacy-manifest": {
      "abstract": [
        {
          "text": "Declare the APIs that can potentially fingerprint devices in your app or third-party SDK in a privacy manifest.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3183-adding-required-reason-api-entries-to-your-privacy-manifest",
      "kind": "article",
      "role": "article",
      "title": "TN3183: Adding required reason API entries to your privacy manifest",
      "type": "topic",
      "url": "/documentation/technotes/tn3183-adding-required-reason-api-entries-to-your-privacy-manifest"
    },
    "doc://com.apple.technotes/documentation/Technotes/tn3184-adding-data-collection-details-to-your-privacy-manifest": {
      "abstract": [
        {
          "text": "Declare the data your app or third-party SDK collects in a privacy manifest.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.technotes/documentation/Technotes/tn3184-adding-data-collection-details-to-your-privacy-manifest",
      "kind": "article",
      "role": "article",
      "title": "TN3184: Adding data collection details to your privacy manifest",
      "type": "topic",
      "url": "/documentation/technotes/tn3184-adding-data-collection-details-to-your-privacy-manifest"
    },
    "http://www.ietf.org/rfc/rfc3927.txt": {
      "identifier": "http://www.ietf.org/rfc/rfc3927.txt",
      "title": "RFC 3927",
      "titleInlineContent": [
        {
          "text": "RFC 3927",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "http://www.ietf.org/rfc/rfc3927.txt"
    },
    "http://www.ietf.org/rfc/rfc6762.txt": {
      "identifier": "http://www.ietf.org/rfc/rfc6762.txt",
      "title": "RFC 6762",
      "titleInlineContent": [
        {
          "text": "RFC 6762",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "http://www.ietf.org/rfc/rfc6762.txt"
    },
    "http://www.ietf.org/rfc/rfc6763.txt": {
      "identifier": "http://www.ietf.org/rfc/rfc6763.txt",
      "title": "RFC 6763",
      "titleInlineContent": [
        {
          "text": "RFC 6763",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "http://www.ietf.org/rfc/rfc6763.txt"
    },
    "https://developer.apple.com/bug-reporting/": {
      "identifier": "https://developer.apple.com/bug-reporting/",
      "title": "filing a suggestion",
      "titleInlineContent": [
        {
          "text": "filing a suggestion",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/bug-reporting/"
    },
    "https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW16": {
      "identifier": "https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW16",
      "title": "Test for IPv6 DNS64/NAT64 Compatibility Regularly",
      "titleInlineContent": [
        {
          "text": "Test for IPv6 DNS64/NAT64 Compatibility Regularly",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW16"
    },
    "https://github.com/apple/swift-nio-transport-services": {
      "identifier": "https://github.com/apple/swift-nio-transport-services",
      "title": "SwiftNIO Transport Services",
      "titleInlineContent": [
        {
          "text": "SwiftNIO Transport Services",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://github.com/apple/swift-nio-transport-services"
    },
    "https://github.com/swift-server/async-http-client": {
      "identifier": "https://github.com/swift-server/async-http-client",
      "title": "AsyncHTTPClient",
      "titleInlineContent": [
        {
          "text": "AsyncHTTPClient",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://github.com/swift-server/async-http-client"
    },
    "https://tools.ietf.org/html/rfc8305": {
      "identifier": "https://tools.ietf.org/html/rfc8305",
      "title": "RFC 8305",
      "titleInlineContent": [
        {
          "text": "RFC 8305",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://tools.ietf.org/html/rfc8305"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Latest",
      "generated": true,
      "identifiers": [
        "doc://com.apple.technotes/documentation/Technotes/tn3182-adding-privacy-tracking-keys-to-your-privacy-manifest",
        "doc://com.apple.technotes/documentation/Technotes/tn3183-adding-required-reason-api-entries-to-your-privacy-manifest",
        "doc://com.apple.technotes/documentation/Technotes/tn3184-adding-data-collection-details-to-your-privacy-manifest",
        "doc://com.apple.technotes/documentation/Technotes/tn3181-debugging-invalid-privacy-manifest",
        "doc://com.apple.technotes/documentation/Technotes/tn3180-reverting-app-store-server-notifications-v1",
        "doc://com.apple.technotes/documentation/Technotes/tn3179-understanding-local-network-privacy",
        "doc://com.apple.technotes/documentation/Technotes/tn3178-checking-for-and-resolving-build-uuid-problems",
        "doc://com.apple.technotes/documentation/Technotes/tn3177-understanding-alternate-audio-track-groups-in-movie-files",
        "doc://com.apple.technotes/documentation/Technotes/tn3111-ios-wifi-api-overview",
        "doc://com.apple.technotes/documentation/Technotes/tn3176-troubleshooting-apple-pay-payment-processing-issues",
        "doc://com.apple.technotes/documentation/Technotes/tn3175-diagnosing-issues-with-displaying-the-apple-pay-button-on-your-website",
        "doc://com.apple.technotes/documentation/Technotes/tn3174-diagnosing-issues-with-the-apple-pay-payment-sheet-on-your-website",
        "doc://com.apple.technotes/documentation/Technotes/tn3173-troubleshooting-issues-with-your-apple-pay-merchant-id-configuration",
        "doc://com.apple.technotes/documentation/Technotes/tn3168-making-your-app-clip-available-app-store",
        "doc://com.apple.technotes/documentation/Technotes/tn3124-debugging-coordinate-transformations"
      ],
      "title": "Latest"
    }
  ],
  "variantOverrides": [
    {
      "patch": [
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1CFNetwork~1CFNetService/title",
          "value": "CFNetServiceRef"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1CFNetwork~1CFNetService/fragments",
          "value": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "struct"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@S@__CFNetService",
              "text": "__CFNetService"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "identifier",
              "text": "CFNetServiceRef"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ]
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1netservicedelegate~11407489-netservice/title",
          "value": "netService:didAcceptConnectionWithInputStream:outputStream:"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1netservice/title",
          "value": "NSNetService"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1filehandle/title",
          "value": "NSFileHandle"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1netservice~1options~11414270-listenforconnections/title",
          "value": "NSNetServiceListenForConnections"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1network~13019340-nw_parameters_set_include_peer_t/title",
          "value": "nw_parameters_set_include_peer_to_peer"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1urlsession/title",
          "value": "NSURLSession"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1dnssd~1DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)/title",
          "value": "DNSServiceGetAddrInfo"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1dnssd~1DNSServiceGetAddrInfo(_:_:_:_:_:_:_:)/fragments",
          "value": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@DNSServiceErrorType",
              "text": "DNSServiceErrorType"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "DNSServiceGetAddrInfo"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@DNSServiceRef",
              "text": "DNSServiceRef"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "sdRef"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@DNSServiceFlags",
              "text": "DNSServiceFlags"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "flags"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "interfaceIndex"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@DNSServiceProtocol",
              "text": "DNSServiceProtocol"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "protocol"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:C",
              "text": "char"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "hostname"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@DNSServiceGetAddrInfoReply",
              "text": "DNSServiceGetAddrInfoReply"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "callBack"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:v",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "context"
            },
            {
              "kind": "text",
              "text": ");"
            }
          ]
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1netservice~11418325-getinputstream/title",
          "value": "getInputStream:outputStream:"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1Network~1nw_connection_t/fragments",
          "value": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:Q$objc(cs)NSObjectobjc(pl)OS_nw_connection",
              "text": "NSObject<OS_nw_connection>"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "identifier",
              "text": "nw_connection_t"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ]
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1corefoundation~1cfsocket/title",
          "value": "CFSocketRef"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1SystemConfiguration~1SCNetworkReachabilityCreateWithAddressPair(_:_:_:)/title",
          "value": "SCNetworkReachabilityCreateWithAddressPair"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1SystemConfiguration~1SCNetworkReachabilityCreateWithAddressPair(_:_:_:)/fragments",
          "value": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SCNetworkReachabilityRef",
              "text": "SCNetworkReachabilityRef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SCNetworkReachabilityCreateWithAddressPair"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFAllocatorRef",
              "text": "CFAllocatorRef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "allocator"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "struct"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@S@sockaddr",
              "text": "sockaddr"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "localAddress"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "struct"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@S@sockaddr",
              "text": "sockaddr"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "remoteAddress"
            },
            {
              "kind": "text",
              "text": ");"
            }
          ]
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1stream~11414311-getstreamstohost/title",
          "value": "getStreamsToHostWithName:port:inputStream:outputStream:"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1urlsessionstreamtask/title",
          "value": "NSURLSessionStreamTask"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1foundation~1urlsessionwebsockettask/title",
          "value": "NSURLSessionWebSocketTask"
        }
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
