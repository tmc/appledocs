{
  "abstract": [
    {
      "text": "Prepare your app to request organizational information from a server.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.rosterapi/documentation/RosterAPI"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://com.apple.rosterapi/documentation/RosterAPI/obtaining-information-about-people-and-classes"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "modules": [
      {
        "name": "Roster API"
      }
    ],
    "role": "article",
    "roleHeading": "Article",
    "title": "Obtaining information about people and classes"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Roster API gives you access to information about the people and classes within an Apple School Manager (ASM) organization. To accomplish this, register for access, then perform queries to obtain the users and classes in that organization.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Plan-your-integration-design",
          "level": 3,
          "text": "Plan your integration design",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "When planning the design for the integration, create roles that allow specific accounts to perform the steps for integrating your app with Roster API. Provide only those roles with the privileges to perform create, read, update, and delete operations for the integration. For example, in ASM, only accounts that have administrator or site-manager roles can authorize an app to use Roster API.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Consider that there’s only one configuration at the organizational level. Accounts belonging to the roles with privileges work with this single configuration. This means that any changes that one privileged account makes are visible to other privileged accounts.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Select-the-primary-App-ID",
          "level": 3,
          "text": "Select the primary App ID",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Use your credentials to log in to the ",
              "type": "text"
            },
            {
              "identifier": "http://developer.apple.com/",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", then choose Certificates, IDs & Profiles > Services, and click the Configure button in the Account & Organizational Data Sharing section.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113871",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Click the Add button (+) to the right of Configurations, or click the Configure button in the Get Started with Account & Organizational Data Sharing section.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113870",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Choose the primary App ID from the drop-down menu, then click Continue.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113867",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Set-the-return-URLs",
          "level": 3,
          "text": "Set the return URLs",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Return URLs receive the grant code after successfully authorizing with Apple. From the Organizational Data Sharing Scopes options, select Roster API: User access, Roster API: Class access, and Roster API: Test Data access.  For more information about the test data access scope, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/validating-with-the-roster-api-test-scope",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Add your return URLs in the Return URLs section, then enter a URL for the Server to Server Notification Endpoint so you can receive updates about people and accounts.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113869",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Review your configuration and click Confirm.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113872",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Generate-the-client-secret",
          "level": 3,
          "text": "Generate the client secret",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Before you can generate the access token, you’ll first need to generate the client secret, which you’ll need to create the token. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Next, choose an existing key, or create a new key by clicking the Add button (+).",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113874",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Enter a key name if you’re creating a new key, select Account & Organizational Data Sharing, and click Continue.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113866",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Review the information and then click Register to register the key.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113868",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Click Download, then set up a client secret. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "identifier": "media-4113873",
              "type": "image"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Validate-using-the-test-scope",
          "level": 3,
          "text": "Validate using the test scope",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "To ensure your integration works correctly, test it before providing it to users. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/validating-with-the-roster-api-test-scope",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Receive-revocation-notifications",
          "level": 3,
          "text": "Receive revocation notifications",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "ASM organizations can set up integration with the supported apps to import information about people and classes.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If an organization decides to revoke an app, Apple sends out a revocation notification to the URL you configures as the Server to Server Notification Endpoint. After receiving the  notification, remove all data associated with that organization.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The following is an example revocation notification request:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "{",
            "    \"iss\": \"https://appleid.apple.com/auth/oauth2/v2\"",
            "    \"aud\": \"[CLIENT_ID]\",",
            "    \"iat\": 1508184845,",
            "    \"jti\": \"abede...67890\",",
            "    \"events\": [",
            "        {",
            "            \"type\": \"consent-revoked\",",
            "            \"sub\": \"001273.YVlIczRoMFRGbll4ODIzRUV0M2NLNkFRM0VHUTdQ.RVBY\",",
            "            \"org_id\": \"8e257987-f221-4171-887d-efead972993b\",",
            "            \"scopes\": \"edu.classes.read edu.users.read\"",
            "            \"event_time\": 1508184845",
            "        }",
            "    ]",
            "}"
          ],
          "syntax": "other",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "Information for ",
              "type": "text"
            },
            {
              "code": "org_id",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "scopes",
              "type": "codeVoice"
            },
            {
              "text": " are part of the payload. Use ",
              "type": "text"
            },
            {
              "code": "org_id",
              "type": "codeVoice"
            },
            {
              "text": " to remove all data associated with the organization.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Use the ",
              "type": "text"
            },
            {
              "code": "/rosterapi/v1/organization",
              "type": "codeVoice"
            },
            {
              "text": " endpoint to determine the ",
              "type": "text"
            },
            {
              "code": "org_id",
              "type": "codeVoice"
            },
            {
              "text": " when obtaining user and class information for an organization. The following is a sample response:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "{",
            "    \"id\": \"8e257987-f221-4171-887d-efead972993b\",",
            "    \"type\": \"EDUCATION\",",
            "    \"name\": \"Apple School Manager Test Organization\",",
            "    \"dateCreated\": \"2016-07-26T18:11:51Z\",",
            "    \"dateLastModified\": \"2016-07-26T18:11:51Z\", ",
            "    \"domains\": [{\"name\": \"mytestschool.org\", \"isVerified\": false}]",
            "}"
          ],
          "syntax": "other",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "Use ",
              "type": "text"
            },
            {
              "code": "id",
              "type": "codeVoice"
            },
            {
              "text": " as the identifier to associate records to a certain organization. When the revocation notification arrives, delete those records associated with the organization that matches ",
              "type": "text"
            },
            {
              "code": "org_id",
              "type": "codeVoice"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Synchronize-data-with-Apple-School-Manager",
          "level": 3,
          "text": "Synchronize data with Apple School Manager",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple synchronizes data in ASM with authorized student information systems every 24 hours. Fetch data using Roster API once every 24 hours to have the most up to date data in your app. If you need to reduce your resource usage, consider fetching data less frequently, for example once every 48 hours or once every week.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Design your synchronization to handle class and roster updates. When someone removes a student from a class in ASM, or deletes a class, subsequent requests to ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-users-for-an-Apple-School-Manager-class",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-list-of-classes-for-an-Apple-School-Manager-organization",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " don’t include the removed items. Consider whether to show teachers existing data and give them the option to remove it manually, or automatically remove the deleted records.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret": {
      "abstract": [
        {
          "text": "Generate a signed token to identify your client application.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret",
      "kind": "article",
      "role": "article",
      "title": "Creating a client secret",
      "type": "topic",
      "url": "/documentation/AccountOrganizationalDataSharing/creating-a-client-secret"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.rosterapi/documentation/RosterAPI": {
      "abstract": [
        {
          "text": "Read information about people and classes from an Apple School Manager organization.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI",
      "kind": "symbol",
      "role": "collection",
      "title": "Roster API",
      "type": "topic",
      "url": "/documentation/rosterapi"
    },
    "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-list-of-classes-for-an-Apple-School-Manager-organization": {
      "abstract": [
        {
          "text": "List classes in an Apple School Manager organization.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-list-of-classes-for-an-Apple-School-Manager-organization",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "returns a list of classes for an Apple School Manager organization"
        }
      ],
      "role": "symbol",
      "title": "List classes",
      "type": "topic",
      "url": "/documentation/rosterapi/returns-a-list-of-classes-for-an-apple-school-manager-organization"
    },
    "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-users-for-an-Apple-School-Manager-class": {
      "abstract": [
        {
          "text": "List users in a class of an Apple School Manager organization.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/returns-a-users-for-an-Apple-School-Manager-class",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "returns a users for an Apple School Manager class"
        }
      ],
      "role": "symbol",
      "title": "List users in a class",
      "type": "topic",
      "url": "/documentation/rosterapi/returns-a-users-for-an-apple-school-manager-class"
    },
    "doc://com.apple.rosterapi/documentation/RosterAPI/validating-with-the-roster-api-test-scope": {
      "abstract": [
        {
          "text": "Use test data to ensure your integration with the Roster API works correctly.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.rosterapi/documentation/RosterAPI/validating-with-the-roster-api-test-scope",
      "kind": "article",
      "role": "article",
      "title": "Validating with the Roster API test scope",
      "type": "topic",
      "url": "/documentation/rosterapi/validating-with-the-roster-api-test-scope"
    },
    "http://developer.apple.com/": {
      "identifier": "http://developer.apple.com/",
      "title": "Apple Developer website",
      "titleInlineContent": [
        {
          "text": "Apple Developer website",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "http://developer.apple.com/"
    },
    "media-4113866": {
      "alt": "A screenshot showing the Register a New Key section of the Certificates, Identifiers and Profiles page. There are outlines around the Key Name field, which has an entry of Organizational Data Sharing Key, and the Account and Organizational Data Sharing option, which is selected.",
      "identifier": "media-4113866",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/f6daee9ef9ea7409f129f9b4920f1ba2/media-4113866@2x.png"
        }
      ]
    },
    "media-4113867": {
      "alt": "A screenshot showing the Primary App ID drop-down menu in the Account and Organizational Data Sharing: Configuration section of the Certificates, Identifiers and Profiles page.",
      "identifier": "media-4113867",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/afeeacda4d208f3e3afc3a728441b5f4/media-4113867@2x.png"
        }
      ]
    },
    "media-4113868": {
      "alt": "A screenshot showing the Register a New Key section of the Certificates, Identifiers and Profiles  page. The selected key is enabled and there’s an outline around the Register button.",
      "identifier": "media-4113868",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/aacd1d9026520fef8ebe409034a3709a/media-4113868@2x.png"
        }
      ]
    },
    "media-4113869": {
      "alt": "A screenshot showing the Organizational Data Sharing Scopes and Return URLs areas of the Provide additional configuration details section for the Account and Organizational Data Sharing: Configuration section on the Certificates, Identifiers and Profiles page. In the Organizational Data Sharing Scopes area, the Roster API: User access, Roster API: Class access, and Roster API: Test Data access options are selected. In the Return URLs area, there is an example URL selected for placement in the text field.",
      "identifier": "media-4113869",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/df63cb83754f8edbf49d02d0d96ee0ec/media-4113869@2x.png"
        },
        {
          "traits": [
            "2x",
            "dark"
          ],
          "url": "https://docs-assets.developer.apple.com/published/acb35e5467e6244d4ac454deeaad1061/media-4113869~dark@2x.png"
        }
      ]
    },
    "media-4113870": {
      "alt": "A screenshot of the Certificates, Identifiers and Profiles  page with an outline around Configurations in the Get Started with Account and Organizational Data Sharing section.",
      "identifier": "media-4113870",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/399f868720643f9967d43a42d2818f41/media-4113870@2x.png"
        }
      ]
    },
    "media-4113871": {
      "alt": "A screenshot of the Certificates, Identifiers and Profiles page with an outline around the Account and Organizational Data Sharing section.",
      "identifier": "media-4113871",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/d5dbdf6a52e482d0a43ef91ca688c9b6/media-4113871@2x.png"
        }
      ]
    },
    "media-4113872": {
      "alt": "A screenshot of a confirmation screen with a summary of the primary bundle ID, Server to Server Notification Endpoint URL, and Return URLs. There is an outline around the Confirm button.",
      "identifier": "media-4113872",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/5185a3919d59fc55971b334968fb5c2d/media-4113872@2x.png"
        }
      ]
    },
    "media-4113873": {
      "alt": "A screenshot showing the Download Your Key section of the Certificates, Identifiers and Profiles page. The key is available to download and there’s an outline around the Download button. A warning says “After downloading your key, it cannot be re-downloaded as the server copy is removed. If you are not prepared to download your key at this time, click Done and download it at a later time. Be sure to save a backup of your key in a secure place”.",
      "identifier": "media-4113873",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/6b4aba8ecbe7707bc654cc69fe1b00e0/media-4113873@2x.png"
        }
      ]
    },
    "media-4113874": {
      "alt": "A screenshot showing the Certificates, Identifiers and Profiles page with the Keys item highlighted and two keys named TestKey1 and TestKey2.",
      "identifier": "media-4113874",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x",
            "light"
          ],
          "url": "https://docs-assets.developer.apple.com/published/68bf28ffae2c9bb64d5fdb72ab2912a6/media-4113874@2x.png"
        }
      ]
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Essentials",
      "generated": true,
      "identifiers": [
        "doc://com.apple.rosterapi/documentation/RosterAPI/validating-with-the-roster-api-test-scope"
      ],
      "title": "Essentials"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/rosterapi/obtaining-information-about-people-and-classes"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
