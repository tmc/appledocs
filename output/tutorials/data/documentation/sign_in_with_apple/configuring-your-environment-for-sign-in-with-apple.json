{
  "abstract": [
    {
      "text": "Authenticate users with your web service by associating an existing app with a Services ID and private key.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.signinwithapple/documentation/SigninwithApple"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "swift",
    "url": "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/configuring-your-environment-for-sign-in-with-apple"
  },
  "kind": "article",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "role": "article",
    "roleHeading": "Article",
    "title": "Configuring your environment for Sign in with Apple"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "To support Sign in with Apple on your website, or in your app on another platform, configure your developer account to associate a Sign in with Apple-enabled app with a Services ID and a private key. To support email communication with your users, register your domain names and outbound email sources. Your server can register for notifications for user account changes that affect your developer account. After configuration, use the Services ID as the client identifier when authenticating or validating users with ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.signinwithapple/documentation/SigninwithAppleJS",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.signinwithapple/documentation/SigninwithAppleRESTAPI",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Enable-an-App-ID",
          "level": 3,
          "text": "Enable an App ID",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For users to authenticate with your web service, you must have an existing app in the App Store that uses Sign in with Apple. To enable an existing app, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AuthenticationServices/implementing-user-authentication-with-sign-in-with-apple",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". Enable the Sign in with Apple capability for an app in Xcode, or by editing an App ID configuration in ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/account/resources",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". When configuring your App ID, you have the following options:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Enable the App ID as a primary App ID",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Enable the App ID and group with an existing primary App ID",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Choose to enable as a primary App ID if you’re enabling a new app, or an existing app for the first time. You can use primary App IDs on their own, or to enable identifiers for related apps and websites through app grouping.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Choose to group with an existing primary App ID if you’re associating an App ID with a related app, such as an App ID for the iOS version of your Mac app. App grouping ensures that users need to provide consent to share their information only once for each group of apps and websites. For more information about grouping apps, see ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/group-apps-for-sign-in-with-apple",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Create-a-Services-ID",
          "level": 3,
          "text": "Create a Services ID",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "You must use a unique identifier — a Services ID — to register each web service that supports Sign in with Apple authentication. You configure the Services ID with the registered domains and return URLs for a primary app. When configuring your web service in Certificates, Identifiers & Profiles, you must register and verify all top-level domains and subdomains that incorporate Sign in with Apple. Domains associate with your Apple Developer Team ID. As a result, for each Services ID you enable for Sign in with Apple, the following applies:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Organizations can register up to 100 website URLs",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Individuals can register up to 10 website URLs",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "The Sign in with Apple servers use return URLs, also known as ",
              "type": "text"
            },
            {
              "inlineContent": [
                {
                  "text": "redirect URIs",
                  "type": "text"
                }
              ],
              "type": "emphasis"
            },
            {
              "text": ", to provide your web service with an authorization response, or to validate tokens. Because of this, each registered URL must be absolute and must include the scheme, host, and path. The following is an example return URL:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "https://example.com/path/to/endpoint"
          ],
          "syntax": "console",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "For more information about configuring your Services ID, see ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/configure-sign-in-with-apple-for-the-web",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Create-a-private-key",
          "level": 3,
          "text": "Create a private key",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Apple associates your Sign in with Apple private key with a primary app, and its app group, if available. You use a private key to sign developer tokens when communicating with the Sign in with Apple servers. For example, when generating and validating tokens for user authentication, app transfer, and user migration to a newly transferred developer team, you use the private key ID in the token header, and the private key signs the token. To validate your web service, Sign in with Apple requires you to create a JSON web token (JWT) with the key identifier (",
              "type": "text"
            },
            {
              "code": "kid",
              "type": "codeVoice"
            },
            {
              "text": ") in the header. For information on getting a key identifier, see ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/help/account/manage-keys/get-a-key-identifier",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". For information on generating the JWT, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "Each primary app can have a maximum of two private keys.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "Never share your private keys outside of your developer team. If a private key becomes compromised, create a new private key for the primary app. Then, after transitioning to the new key, revoke the old private key. For more information, see ",
                  "type": "text"
                },
                {
                  "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/create-a-sign-in-with-apple-private-key",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        },
        {
          "anchor": "Register-email-sources-for-communication",
          "level": 3,
          "text": "Register email sources for communication",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "To communicate with users who opt to use an anonymous email address with Sign in with Apple, you must register your outbound email domains, subdomains, or email addresses as email sources for the Private Email Relay Service. Email sources associate with your Apple Developer Team ID, and have the following parameters:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Organizations can register up to 100 outbound email sources",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Individuals can register up to 32 outbound email sources",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "You must authenticate all registered domains with the Sender Policy Framework (SPF), the DomainKeys Identified Mail (DKIM) protocol, or both to deliver your outbound emails. Authenticate outbound emails using both SPF and DKIM whenever possible.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "When the Private Email Relay Service detects undelivered emails from your account, it notifies your developer team account holders and administrators by email. For more information about registering outbound email domains or handling email notifications, see ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/configure-private-email-relay-service",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Register-a-server-to-server-notification-endpoint",
          "level": 3,
          "text": "Register a server-to-server notification endpoint",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "To receive important updates about your users and their accounts, enable the Sign in with Apple server-to-server notification endpoint. Your server must support TLS 1.2 or later to receive notifications. Configure the endpoint by editing your App ID configurations in ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/account/resources",
              "isActive": true,
              "overridingTitle": "Certificates, Identifiers & Profiles",
              "overridingTitleInlineContent": [
                {
                  "text": "Certificates, Identifiers & Profiles",
                  "type": "text"
                }
              ],
              "type": "reference"
            },
            {
              "text": ". Each app group receives a notification when users take any of the following actions:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Change email forwarding preferences",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Delete their app account",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Permanently delete their Apple ID",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Each app group registers one absolute URL that includes the scheme, host, and path. The following is an example endpoint:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "https://example.com/path/to/endpoint"
          ],
          "syntax": "console",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "For more information about server-to-server notifications, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/processing-changes-for-sign-in-with-apple-accounts",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret": {
      "abstract": [
        {
          "text": "Generate a signed token to identify your client application.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AccountOrganizationalDataSharing/creating-a-client-secret",
      "kind": "article",
      "role": "article",
      "title": "Creating a client secret",
      "type": "topic",
      "url": "/documentation/AccountOrganizationalDataSharing/creating-a-client-secret"
    },
    "doc://com.apple.documentation/documentation/AuthenticationServices/implementing-user-authentication-with-sign-in-with-apple": {
      "abstract": [
        {
          "text": "Provide a way for users of your app to set up an account and start using your services.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AuthenticationServices/implementing-user-authentication-with-sign-in-with-apple",
      "kind": "article",
      "role": "sampleCode",
      "title": "Implementing User Authentication with Sign in with Apple",
      "type": "topic",
      "url": "/documentation/AuthenticationServices/implementing-user-authentication-with-sign-in-with-apple"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.signinwithapple/documentation/SigninwithApple": {
      "abstract": [
        {
          "text": "Provide users the ability to sign in to your apps and websites using their Apple ID.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.signinwithapple/documentation/SigninwithApple",
      "kind": "article",
      "role": "collection",
      "title": "Sign in with Apple",
      "type": "topic",
      "url": "/documentation/signinwithapple"
    },
    "doc://com.apple.signinwithapple/documentation/SigninwithAppleJS": {
      "abstract": [
        {
          "text": "Provide users a fast, secure way to sign in to your web service with their Apple ID.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.signinwithapple/documentation/SigninwithAppleJS",
      "kind": "symbol",
      "role": "collection",
      "title": "Sign in with Apple JS",
      "type": "topic",
      "url": "/documentation/signinwithapplejs"
    },
    "doc://com.apple.signinwithapple/documentation/SigninwithAppleRESTAPI": {
      "abstract": [
        {
          "text": "Communicate between your app servers and Apple’s authentication servers.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.signinwithapple/documentation/SigninwithAppleRESTAPI",
      "kind": "symbol",
      "role": "collection",
      "title": "Sign in with Apple REST API",
      "type": "topic",
      "url": "/documentation/signinwithapplerestapi"
    },
    "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/displaying-sign-in-with-apple-buttons-on-the-web": {
      "abstract": [
        {
          "text": "Configure the appearance of Sign in with Apple buttons with CSS styles.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/displaying-sign-in-with-apple-buttons-on-the-web",
      "kind": "article",
      "role": "article",
      "title": "Displaying Sign in with Apple buttons on the web",
      "type": "topic",
      "url": "/documentation/sign_in_with_apple/displaying-sign-in-with-apple-buttons-on-the-web"
    },
    "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/processing-changes-for-sign-in-with-apple-accounts": {
      "abstract": [
        {
          "text": "Manage user-initiated modifications to maintain privacy with server-to-server notifications.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/processing-changes-for-sign-in-with-apple-accounts",
      "kind": "article",
      "role": "article",
      "title": "Processing changes for Sign in with Apple accounts",
      "type": "topic",
      "url": "/documentation/sign_in_with_apple/processing-changes-for-sign-in-with-apple-accounts"
    },
    "https://developer.apple.com/account/resources": {
      "identifier": "https://developer.apple.com/account/resources",
      "title": "Certificates, Identifiers & Profiles",
      "titleInlineContent": [
        {
          "text": "Certificates, Identifiers & Profiles",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/account/resources"
    },
    "https://developer.apple.com/help/account/configure-app-capabilities/configure-private-email-relay-service": {
      "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/configure-private-email-relay-service",
      "title": "Configure Private Email Relay Service",
      "titleInlineContent": [
        {
          "text": "Configure Private Email Relay Service",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/configure-app-capabilities/configure-private-email-relay-service"
    },
    "https://developer.apple.com/help/account/configure-app-capabilities/configure-sign-in-with-apple-for-the-web": {
      "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/configure-sign-in-with-apple-for-the-web",
      "title": "Configure Sign in with Apple for the web",
      "titleInlineContent": [
        {
          "text": "Configure Sign in with Apple for the web",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/configure-app-capabilities/configure-sign-in-with-apple-for-the-web"
    },
    "https://developer.apple.com/help/account/configure-app-capabilities/create-a-sign-in-with-apple-private-key": {
      "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/create-a-sign-in-with-apple-private-key",
      "title": "Create a Sign in with Apple private key",
      "titleInlineContent": [
        {
          "text": "Create a Sign in with Apple private key",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/configure-app-capabilities/create-a-sign-in-with-apple-private-key"
    },
    "https://developer.apple.com/help/account/configure-app-capabilities/group-apps-for-sign-in-with-apple": {
      "identifier": "https://developer.apple.com/help/account/configure-app-capabilities/group-apps-for-sign-in-with-apple",
      "title": "Group Apps for Sign in with Apple",
      "titleInlineContent": [
        {
          "text": "Group Apps for Sign in with Apple",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/configure-app-capabilities/group-apps-for-sign-in-with-apple"
    },
    "https://developer.apple.com/help/account/manage-keys/get-a-key-identifier": {
      "identifier": "https://developer.apple.com/help/account/manage-keys/get-a-key-identifier",
      "title": "Get a key identifier",
      "titleInlineContent": [
        {
          "text": "Get a key identifier",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/help/account/manage-keys/get-a-key-identifier"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Web-support",
      "generated": true,
      "identifiers": [
        "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/displaying-sign-in-with-apple-buttons-on-the-web",
        "doc://com.apple.signinwithapple/documentation/sign_in_with_apple/processing-changes-for-sign-in-with-apple-accounts"
      ],
      "title": "Web support"
    }
  ]
}
