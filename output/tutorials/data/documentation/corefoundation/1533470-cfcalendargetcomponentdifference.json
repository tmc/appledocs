{
  "abstract": [
    {
      "text": "Computes the difference between the two absolute times, in terms of specified calendrical components.",
      "type": "text"
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/corefoundation",
        "doc://com.apple.documentation/documentation/corefoundation/cfcalendar"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.documentation/documentation/corefoundation/1533470-cfcalendargetcomponentdifference"
  },
  "kind": "symbol",
  "legacy_identifier": 1533470,
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@F@CFCalendarGetComponentDifference",
    "modules": [
      {
        "name": "Core Foundation"
      }
    ],
    "platforms": [
      {
        "current": "18.4",
        "introducedAt": "2.0",
        "name": "iOS"
      },
      {
        "current": "18.4",
        "introducedAt": "2.0",
        "name": "iPadOS"
      },
      {
        "current": "18.4",
        "introducedAt": "13.0",
        "name": "Mac Catalyst"
      },
      {
        "current": "15.4",
        "introducedAt": "10.4",
        "name": "macOS"
      },
      {
        "current": "18.4",
        "introducedAt": "9.0",
        "name": "tvOS"
      },
      {
        "current": "2.4",
        "introducedAt": "1.0",
        "name": "visionOS"
      },
      {
        "current": "11.4",
        "introducedAt": "2.0",
        "name": "watchOS"
      }
    ],
    "role": "symbol",
    "roleHeading": "Function",
    "symbolKind": "func",
    "title": "CFCalendarGetComponentDifference"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "macOS",
            "tvOS",
            "visionOS",
            "watchOS"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@Boolean",
              "text": "Boolean"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "CFCalendarGetComponentDifference"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfcalendarref",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFCalendarRef",
              "text": "CFCalendarRef"
            },
            {
              "kind": "text",
              "text": " calendar, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfabsolutetime",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFAbsoluteTime",
              "text": "CFAbsoluteTime"
            },
            {
              "kind": "text",
              "text": " startingAT, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfabsolutetime",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFAbsoluteTime",
              "text": "CFAbsoluteTime"
            },
            {
              "kind": "text",
              "text": " resultAT, "
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfoptionflags",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFOptionFlags",
              "text": "CFOptionFlags"
            },
            {
              "kind": "text",
              "text": " options, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "char"
            },
            {
              "kind": "text",
              "text": " *componentDesc, ...);"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The calendar to use for the computation. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "calendar"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The starting absolute time. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "startingAT"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The result absolute time. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "resultAT"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Options for the calculation. For valid values, see ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfcalendar#1667557",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "options"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A string that describes the components provided in the vararg parameters. ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "componentDesc"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Vararg pointers to storage for each of the desired components. On successful return, the pointers are filled with values of the corresponding components. The type of all units is ",
                  "type": "text"
                },
                {
                  "code": "int",
                  "type": "codeVoice"
                },
                {
                  "text": ". ",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "..."
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "code": "TRUE",
              "type": "codeVoice"
            },
            {
              "text": "—and in the varargs the differences—if it is possible to calculate the difference (result - starting) between ",
              "type": "text"
            },
            {
              "code": "resultAT",
              "type": "codeVoice"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "code": "startingAT",
              "type": "codeVoice"
            },
            {
              "text": " in terms of the calendrical components specified by ",
              "type": "text"
            },
            {
              "code": "componentDesc",
              "type": "codeVoice"
            },
            {
              "text": ". Returns ",
              "type": "text"
            },
            {
              "code": "FALSE",
              "type": "codeVoice"
            },
            {
              "text": " if either absolute time falls outside the defined range of the calendar, or the computation cannot be performed. ",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The result is lossy if there isn’t a small enough unit requested to hold the full precision of the difference. Some operations can be ambiguous, and the behavior of the computation is calendar-specific, but generally larger components will be computed before smaller components; for example, in the Gregorian calendar a result might be ",
              "type": "text"
            },
            {
              "code": "1",
              "type": "codeVoice"
            },
            {
              "text": " month and ",
              "type": "text"
            },
            {
              "code": "5",
              "type": "codeVoice"
            },
            {
              "text": " days, instead of, for example, ",
              "type": "text"
            },
            {
              "code": "0",
              "type": "codeVoice"
            },
            {
              "text": " months and ",
              "type": "text"
            },
            {
              "code": "35",
              "type": "codeVoice"
            },
            {
              "text": " days. The resulting component values may be negative if later is before earlier.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "This computation is roughly the inverse of the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533487-cfcalendaraddcomponents",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " operation, but calendrical arithmetic is invertible only in simple cases. This computation tends to be several times more expensive than the Add operation.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The following example shows how to get the approximate number of days between two absolute times (",
              "type": "text"
            },
            {
              "code": "at1",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "at2",
              "type": "codeVoice"
            },
            {
              "text": ") using an existing calendar (",
              "type": "text"
            },
            {
              "code": "gregorian",
              "type": "codeVoice"
            },
            {
              "text": "):",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "CFCalendarGetComponentDifference(gregorian, at1, at2, 0, \"d\",  &days);"
          ],
          "metadata": {
            "anchor": "2556084",
            "title": "Listing 1"
          },
          "syntax": "occ",
          "type": "codeListing"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/corefoundation": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation",
      "kind": "symbol",
      "role": "collection",
      "title": "Core Foundation",
      "type": "topic",
      "url": "/documentation/corefoundation"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1533470-cfcalendargetcomponentdifference": {
      "abstract": [
        {
          "text": "Computes the difference between the two absolute times, in terms of specified calendrical components.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533470-cfcalendargetcomponentdifference",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFCalendarGetComponentDifference",
      "type": "topic",
      "url": "/documentation/corefoundation/1533470-cfcalendargetcomponentdifference"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1533470-cfcalendargetcomponentdifference#2556084": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533470-cfcalendargetcomponentdifference#2556084",
      "kind": "article",
      "role": "codeListing",
      "title": "Listing 1",
      "type": "section",
      "url": "/documentation/corefoundation/1533470-cfcalendargetcomponentdifference#2556084"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1533487-cfcalendaraddcomponents": {
      "abstract": [
        {
          "text": "Computes the absolute time when specified components are added to a given absolute time.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533487-cfcalendaraddcomponents",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFCalendarAddComponents",
      "type": "topic",
      "url": "/documentation/corefoundation/1533487-cfcalendaraddcomponents"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1533489-cfcalendarcomposeabsolutetime": {
      "abstract": [
        {
          "text": "Computes the absolute time from components in a description string.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533489-cfcalendarcomposeabsolutetime",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFCalendarComposeAbsoluteTime",
      "type": "topic",
      "url": "/documentation/corefoundation/1533489-cfcalendarcomposeabsolutetime"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1533506-cfcalendardecomposeabsolutetime": {
      "abstract": [
        {
          "text": "Computes the components which are indicated by the componentDesc description string for the given absolute time.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1533506-cfcalendardecomposeabsolutetime",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFCalendarDecomposeAbsoluteTime",
      "type": "topic",
      "url": "/documentation/corefoundation/1533506-cfcalendardecomposeabsolutetime"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfabsolutetime": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfabsolutetime",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFAbsoluteTime",
      "type": "topic",
      "url": "/documentation/corefoundation/cfabsolutetime"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfcalendar": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfcalendar",
      "kind": "article",
      "role": "collectionGroup",
      "title": "CFCalendar",
      "type": "topic",
      "url": "/documentation/corefoundation/cfcalendar"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfcalendar#1667557": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfcalendar#1667557",
      "kind": "article",
      "role": "task",
      "title": "Constants",
      "type": "section",
      "url": "/documentation/corefoundation/cfcalendar#1667557"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfcalendarref": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfcalendarref",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFCalendarRef",
      "type": "topic",
      "url": "/documentation/corefoundation/cfcalendarref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfoptionflags": {
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfoptionflags",
      "kind": "symbol",
      "role": "symbol",
      "title": "CFOptionFlags",
      "type": "topic",
      "url": "/documentation/corefoundation/cfoptionflags"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/corefoundation/1533487-cfcalendaraddcomponents",
        "doc://com.apple.documentation/documentation/corefoundation/1533489-cfcalendarcomposeabsolutetime",
        "doc://com.apple.documentation/documentation/corefoundation/1533506-cfcalendardecomposeabsolutetime"
      ],
      "title": "Calendrical Calculations"
    }
  ],
  "variants": [
    {
      "paths": [
        "documentation/corefoundation/1533470-cfcalendargetcomponentdifference"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
