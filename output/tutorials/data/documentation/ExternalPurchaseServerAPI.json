{
  "abstract": [
    {
      "text": "Send and manage reports you send to Apple for tokens you receive when your app provides external purchases for digital goods and services.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI"
  },
  "kind": "symbol",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "ExternalPurchaseServerAPI",
    "modules": [
      {
        "name": "External Purchase Server API"
      }
    ],
    "platforms": [
      {
        "beta": false,
        "introducedAt": "1.0.0",
        "name": "External Purchase Server API"
      }
    ],
    "role": "collection",
    "roleHeading": "Framework",
    "symbolKind": "module",
    "title": "External Purchase Server API"
  },
  "primaryContentSections": [
    {
      "content": [
        {
          "anchor": "Overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Call this REST API from your server to report external purchase tokens and your customers’ transactions related to the tokens. Use this API if your app uses ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/StoreKit/external-purchase",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and provides alternative payment options for digital goods and services, using either or both of the following:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "Payment Service Providers (PSP)",
                          "type": "text"
                        }
                      ],
                      "type": "emphasis"
                    },
                    {
                      "text": ": An alternative payment processor that lets customers complete transactions within your app.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "inlineContent": [
                        {
                          "text": "Linking out to purchase",
                          "type": "text"
                        }
                      ],
                      "type": "emphasis"
                    },
                    {
                      "text": ": Directing customers to complete a transaction for digital goods and services on your external website.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "Report all tokens, including those that didn’t result in a transaction, and report the transactions associated with the tokens.",
              "type": "text"
            },
            {
              "text": " ",
              "type": "text"
            },
            {
              "text": "For more information on the reporting requirements, including scope and report timing expectations, see the ",
              "type": "text"
            },
            {
              "identifier": "https://developer.apple.com/support/apps-using-alternative-payment-providers-in-the-eu#commission-reports-and-payments",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " section of the article Using alternative payment options on the App Store in the European Union.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Authorize-your-API-calls",
          "level": 3,
          "text": "Authorize your API calls",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Calls to the API require JSON Web Tokens (JWTs) for authorization. Get keys to create JWTs from your organization’s App Store Connect account. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/creating-api-keys-to-authorize-api-requests",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to create your keys. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to generate tokens using your keys, and send API requests.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Report-external-purchase-tokens-and-transactions",
          "level": 3,
          "text": "Report external purchase tokens and transactions",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "When customers initiate an external purchase, your app or website receives a token. You need to report the token and the transactions associated with the token. For more information on how you receive tokens, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/StoreKit/receiving-and-decoding-external-purchase-tokens",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            },
            {
              "text": " ",
              "type": "text"
            },
            {
              "text": "To send a report, call the ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Send-External-Purchase-Report",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint for each token. Send reports in all of the following cases:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "To report a token, with line items, when a customer completes one or more transactions.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "To report a token, without line items, when a customer doesn’t complete any transactions.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "To report an unrecognized token, when you receive an App Store Server Notification about a token that you don’t have recorded in your system.",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "inlineContent": [
            {
              "text": "For more information, see ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithtransactions",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithouttransactions",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "If you successfully send a report that you later find to be incorrect, you need to correct your submission. For more information, see ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportcorrections",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Retrieve-reports",
          "level": 3,
          "text": "Retrieve reports",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "Call the ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Retrieve-External-Purchase-Report",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint to get reports you previously sent to Apple. Specify which report to retrieve by using the same ",
              "type": "text"
            },
            {
              "code": "requestIdentifier",
              "type": "codeVoice"
            },
            {
              "text": " value that you provide when you send the report.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Receive-notifications-for-unreported-tokens",
          "level": 3,
          "text": "Receive notifications for unreported tokens",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For external purchase tokens that are unreported after 10 days, Apple sends a server notification to your server configured with the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint. If you receive the ",
              "type": "text"
            },
            {
              "code": "EXTERNAL_PURCHASE_TOKEN",
              "type": "codeVoice"
            },
            {
              "text": " ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/notificationType",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", send a report for the token the notification specifies.",
              "type": "text"
            },
            {
              "text": " ",
              "type": "text"
            },
            {
              "text": "To check for notifications you might have missed — for example, due to a server outage — send a request to the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/POST-v1-notifications-history",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint to get a list of notifications that App Store Server Notifications attempted to send to your server.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "For more information, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ". Configure the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint on your server to receive version 2 notifications.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Test-using-the-sandbox-environment",
          "level": 3,
          "text": "Test using the sandbox environment",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "When you test your app in Xcode or TestFlight, ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/StoreKit/external-purchase",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " returns tokens that are valid only in the sandbox environment. These tokens have an ",
              "type": "text"
            },
            {
              "code": "externalPurchaseId",
              "type": "codeVoice"
            },
            {
              "text": " that starts with the string “",
              "type": "text"
            },
            {
              "code": "SANDBOX",
              "type": "codeVoice"
            },
            {
              "text": "”. To test your server’s token reporting implementation, send reports for sandbox tokens to the Sandbox URL of the ",
              "type": "text"
            },
            {
              "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Send-External-Purchase-Report",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "External purchase tokens generated in the sandbox environment are for testing only. The sandbox tokens and any test transaction data you submit through the sandbox URLs of the External Purchase Server API are not actual transactions.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Important",
          "style": "important",
          "type": "aside"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/AppStoreServerAPI/POST-v1-notifications-history": {
      "abstract": [
        {
          "text": "Get a list of notifications that the App Store server attempted to send to your server.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/POST-v1-notifications-history",
      "kind": "symbol",
      "role": "symbol",
      "title": "Get Notification History",
      "type": "topic",
      "url": "/documentation/AppStoreServerAPI/POST-v1-notifications-history"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerAPI/creating-api-keys-to-authorize-api-requests": {
      "abstract": [
        {
          "text": "Create API keys you use to sign JSON Web Tokens and authorize API requests.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/creating-api-keys-to-authorize-api-requests",
      "kind": "article",
      "role": "article",
      "title": "Creating API keys to authorize API requests",
      "type": "topic",
      "url": "/documentation/AppStoreServerAPI/creating-api-keys-to-authorize-api-requests"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests": {
      "abstract": [
        {
          "text": "Create JSON Web Tokens signed with your private key to authorize requests for App Store Server API and External Purchase Server API.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests",
      "kind": "article",
      "role": "article",
      "title": "Generating JSON Web Tokens for API requests",
      "type": "topic",
      "url": "/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2": {
      "abstract": [
        {
          "text": "Specify your secure server’s URL in App Store Connect to receive version 2 notifications.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2",
      "kind": "symbol",
      "role": "symbol",
      "title": "App Store Server Notifications V2",
      "type": "topic",
      "url": "/documentation/AppStoreServerNotifications/App-Store-Server-Notifications-V2"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications": {
      "abstract": [
        {
          "text": "Configure your server and provide an HTTPS URL to receive notifications about in-app purchase events and unreported external purchase tokens.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications",
      "kind": "article",
      "role": "article",
      "title": "Enabling App Store Server Notifications",
      "type": "topic",
      "url": "/documentation/AppStoreServerNotifications/enabling-app-store-server-notifications"
    },
    "doc://com.apple.documentation/documentation/AppStoreServerNotifications/notificationType": {
      "abstract": [
        {
          "text": "The type that describes the in-app purchase or external purchase event for which the App Store sends the version 2 notification.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "string "
        },
        {
          "kind": "identifier",
          "text": "notificationType"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/AppStoreServerNotifications/notificationType",
      "kind": "symbol",
      "role": "symbol",
      "title": "notificationType",
      "type": "topic",
      "url": "/documentation/AppStoreServerNotifications/notificationType"
    },
    "doc://com.apple.documentation/documentation/StoreKit/external-purchase": {
      "abstract": [
        {
          "text": "Enable qualifying apps to offer external purchases.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/StoreKit/external-purchase",
      "kind": "article",
      "role": "article",
      "title": "External Purchase",
      "type": "topic",
      "url": "/documentation/StoreKit/external-purchase"
    },
    "doc://com.apple.documentation/documentation/StoreKit/receiving-and-decoding-external-purchase-tokens": {
      "abstract": [
        {
          "text": "Receive tokens for external purchases that you use to report transactions to Apple.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/StoreKit/receiving-and-decoding-external-purchase-tokens",
      "kind": "article",
      "role": "article",
      "title": "Receiving and decoding external purchase tokens",
      "type": "topic",
      "url": "/documentation/StoreKit/receiving-and-decoding-external-purchase-tokens"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI": {
      "abstract": [
        {
          "text": "Send and manage reports you send to Apple for tokens you receive when your app provides external purchases for digital goods and services.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI",
      "kind": "symbol",
      "role": "collection",
      "title": "External Purchase Server API",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/ExternalPurchaseReport": {
      "abstract": [
        {
          "text": "The contents of an external purchase report for a single token.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "ExternalPurchaseReport"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/ExternalPurchaseReport",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "ExternalPurchaseReport"
        }
      ],
      "role": "symbol",
      "title": "ExternalPurchaseReport",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/externalpurchasereport"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/OneTimeBuyLineItem": {
      "abstract": [
        {
          "text": "The line item that indicates a one-time charge transaction.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "OneTimeBuyLineItem"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/OneTimeBuyLineItem",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "OneTimeBuyLineItem"
        }
      ],
      "role": "symbol",
      "title": "OneTimeBuyLineItem",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/onetimebuylineitem"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RefundLineItem": {
      "abstract": [
        {
          "text": "The line item that indicates a refund transaction.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "RefundLineItem"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RefundLineItem",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "RefundLineItem"
        }
      ],
      "role": "symbol",
      "title": "RefundLineItem",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/refundlineitem"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Retrieve-External-Purchase-Report": {
      "abstract": [
        {
          "text": "Get an external purchase report by providing its request identifier.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Retrieve-External-Purchase-Report",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "Retrieve External Purchase Report"
        }
      ],
      "role": "symbol",
      "title": "Retrieve External Purchase Report",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/retrieve-external-purchase-report"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RetrieveReportSuccessResponse": {
      "abstract": [
        {
          "text": "A response that indicates success and includes your external purchase report data.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "RetrieveReportSuccessResponse"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RetrieveReportSuccessResponse",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "RetrieveReportSuccessResponse"
        }
      ],
      "role": "symbol",
      "title": "RetrieveReportSuccessResponse",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/retrievereportsuccessresponse"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Send-External-Purchase-Report": {
      "abstract": [
        {
          "text": "Report required information about external purchase tokens and associated transactions.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Send-External-Purchase-Report",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "Send External Purchase Report"
        }
      ],
      "role": "symbol",
      "title": "Send External Purchase Report",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/send-external-purchase-report"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportErrorResponse": {
      "abstract": [
        {
          "text": "An error response that indicates your external purchase report didn’t succeed, including error details for the line items in your report.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "SendReportErrorResponse"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportErrorResponse",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "SendReportErrorResponse"
        }
      ],
      "role": "symbol",
      "title": "SendReportErrorResponse",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/sendreporterrorresponse"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportSuccessResponse": {
      "abstract": [
        {
          "text": "A response that contains the request identifier and indicates the server successfully received your external purchase report.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "SendReportSuccessResponse"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportSuccessResponse",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "SendReportSuccessResponse"
        }
      ],
      "role": "symbol",
      "title": "SendReportSuccessResponse",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/sendreportsuccessresponse"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SubscriptionBuyLineItem": {
      "abstract": [
        {
          "text": "The line item that indicates a subscription-related event or transaction.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "SubscriptionBuyLineItem"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SubscriptionBuyLineItem",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "SubscriptionBuyLineItem"
        }
      ],
      "role": "symbol",
      "title": "SubscriptionBuyLineItem",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/subscriptionbuylineitem"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/changelog": {
      "abstract": [
        {
          "text": "Learn about new features and updates in the External Purchase Server API.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/changelog",
      "kind": "article",
      "role": "article",
      "title": "External Purchase Server API changelog",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/changelog"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/errorcodes": {
      "abstract": [
        {
          "text": "Error messages and codes for reports and endpoints.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/errorcodes",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Error messages and codes",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/errorcodes"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/lineitems": {
      "abstract": [
        {
          "text": "Properties that describe a single transaction or correction in an external purchase report.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/lineitems",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Line item fields",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/lineitems"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportcorrections": {
      "abstract": [
        {
          "text": "Submit a report with corrections if you find errors in, or have adjustments to, a successfully submitted transaction.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportcorrections",
      "kind": "article",
      "role": "article",
      "title": "Reporting corrections",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/reportcorrections"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithouttransactions": {
      "abstract": [
        {
          "text": "Create reports for external purchase tokens that didn’t result in completed transactions, or tokens that you learn of from an App Store server notification.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithouttransactions",
      "kind": "article",
      "role": "article",
      "title": "Reporting unrecognized tokens and tokens without transactions",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/reportwithouttransactions"
    },
    "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithtransactions": {
      "abstract": [
        {
          "text": "Create reports for external purchase tokens that result in completed transactions, including one-time charges, subscriptions and renewals, and refunds.",
          "type": "text"
        }
      ],
      "identifier": "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithtransactions",
      "kind": "article",
      "role": "article",
      "title": "Reporting tokens with transactions",
      "type": "topic",
      "url": "/documentation/externalpurchaseserverapi/reportwithtransactions"
    },
    "https://developer.apple.com/support/apps-using-alternative-payment-providers-in-the-eu#commission-reports-and-payments": {
      "identifier": "https://developer.apple.com/support/apps-using-alternative-payment-providers-in-the-eu#commission-reports-and-payments",
      "title": "Commission, transaction reports, and payments",
      "titleInlineContent": [
        {
          "text": "Commission, transaction reports, and payments",
          "type": "text"
        }
      ],
      "type": "link",
      "url": "https://developer.apple.com/support/apps-using-alternative-payment-providers-in-the-eu#commission-reports-and-payments"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "topicSections": [
    {
      "anchor": "Essentials",
      "identifiers": [
        "doc://com.apple.documentation/documentation/AppStoreServerAPI/creating-api-keys-to-authorize-api-requests",
        "doc://com.apple.documentation/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/changelog"
      ],
      "title": "Essentials"
    },
    {
      "anchor": "External-purchase-tokens",
      "identifiers": [
        "doc://com.apple.documentation/documentation/StoreKit/receiving-and-decoding-external-purchase-tokens"
      ],
      "title": "External purchase tokens"
    },
    {
      "anchor": "External-purchase-reporting",
      "identifiers": [
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Send-External-Purchase-Report",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/ExternalPurchaseReport",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportSuccessResponse",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SendReportErrorResponse"
      ],
      "title": "External purchase reporting"
    },
    {
      "anchor": "External-purchase-report-transactions",
      "identifiers": [
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithtransactions",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportcorrections",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/OneTimeBuyLineItem",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RefundLineItem",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/SubscriptionBuyLineItem",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/lineitems"
      ],
      "title": "External purchase report transactions"
    },
    {
      "anchor": "External-purchase-report-without-transactions",
      "identifiers": [
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/reportwithouttransactions"
      ],
      "title": "External purchase report without transactions"
    },
    {
      "anchor": "External-purchase-report-retrieval",
      "identifiers": [
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/Retrieve-External-Purchase-Report",
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/RetrieveReportSuccessResponse"
      ],
      "title": "External purchase report retrieval"
    },
    {
      "anchor": "Error-handling",
      "identifiers": [
        "doc://org.swift.docc.ExternalPurchaseServerAPI/documentation/ExternalPurchaseServerAPI/errorcodes"
      ],
      "title": "Error handling"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/externalpurchaseserverapi"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
