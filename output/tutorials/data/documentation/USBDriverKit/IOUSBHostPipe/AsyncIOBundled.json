{
  "abstract": [
    {
      "text": "Enqueues a contiguous group of requests from the descriptor ring.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.usbdriverkit/documentation/USBDriverKit",
        "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/AsyncIOBundled"
  },
  "kind": "symbol",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@S@IOUSBHostPipe@F@AsyncIOBundled#i#i#*i#*1i#I#*$@S@OSAction#i#",
    "fragments": [
      {
        "kind": "identifier",
        "text": "AsyncIOBundled"
      }
    ],
    "modules": [
      {
        "name": "USBDriverKit"
      }
    ],
    "navigatorTitle": [
      {
        "kind": "identifier",
        "text": "AsyncIOBundled"
      }
    ],
    "platforms": [
      {
        "beta": false,
        "introducedAt": "19.0",
        "name": "DriverKit"
      }
    ],
    "role": "symbol",
    "roleHeading": "Instance Method",
    "symbolKind": "method",
    "title": "AsyncIOBundled"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "Unsupported OS: driverkit"
          ],
          "tokens": [
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@kern_return_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@kern_return_t",
              "text": "kern_return_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "AsyncIOBundled"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "ioTransferIndex"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "ioTransferCount"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "ioTransferAcceptedCount"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "dataBufferLengthArray"
            },
            {
              "kind": "text",
              "text": "["
            },
            {
              "kind": "number",
              "text": "16"
            },
            {
              "kind": "text",
              "text": "], "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:I",
              "text": "int"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "dataBufferLengthArrayCount"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@S@OSAction",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@S@OSAction",
              "text": "OSAction"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "internalParam",
              "text": "completion"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@uint32_t",
              "text": "uint32_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "completionTimeoutMs"
            },
            {
              "kind": "text",
              "text": ");"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "kind": "parameters",
      "parameters": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The index of the first ring element to transfer.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "ioTransferIndex"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The number of ring elements to transfer.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "ioTransferCount"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A pointer to a variable. On return, this variable contains the number of ring elements that the method enqueued successfully.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "ioTransferAcceptedCount"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An array of integers, each of which contains the amount of data to transfer for an element. The first integer in the array contains the length of the buffer for the element at the index ",
                  "type": "text"
                },
                {
                  "code": "ioTransferIndex",
                  "type": "codeVoice"
                },
                {
                  "text": ". The next integer contains the length of the buffer for the next element in the ring, and so on.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "dataBufferLengthArray"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The number of elements in the ",
                  "type": "text"
                },
                {
                  "code": "dataBufferLengthArray",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter. The value in this parameter must match the value in ",
                  "type": "text"
                },
                {
                  "code": "ioTransferCount",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "dataBufferLengthArrayCount"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The action object containing a completion function to call when the transfers finish. Your callback method must conform to the ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/CompleteAsyncIOBundled",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " method. This parameter must not be ",
                  "type": "text"
                },
                {
                  "code": "NULL",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "completion"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The timeout value in milliseconds. Specify ",
                  "type": "text"
                },
                {
                  "code": "0",
                  "type": "codeVoice"
                },
                {
                  "text": " if you don’t want the request to time out. You must specify ",
                  "type": "text"
                },
                {
                  "code": "0",
                  "type": "codeVoice"
                },
                {
                  "text": " when transferring data on an interrupt endpoint.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "completionTimeoutMs"
        }
      ]
    },
    {
      "content": [
        {
          "anchor": "return-value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " on success, or another value if an error occurs. See ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/driverkit/error_codes",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "Discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "This method performs a bulk transfer of multiple data buffers. Use this method on bulk pipes to reduce the messaging overhead when you need to transfer large amounts of data to or from the device. Don’t use this method with interrupt or isochonous pipes.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "This method requires you to use a memory descriptor ring to store the data buffers involved in the transfer. Create a ring for the current pipe using ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295833-creatememorydescriptorring",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " and populate the buffers for each ring element using the ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295835-setmemorydescriptor",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " method. When sending data to the device, fill several of the ring’s data buffers with content before calling this method. When receiving data, calling this method asks the system to fill the data buffers of the specified ring elements.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "When you enqueue a set of buffers, this method automatically handles wraparound conditions in the ring. For example, if the index of the next element to enqueue is beyond the end of the ring, the method automatically wraps around to the beginning of the ring. However, you are still responsible for keeping track of which data buffers your code has read or written.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "When all transfers are complete, the system executes the callback you provided in the ",
              "type": "text"
            },
            {
              "code": "completion",
              "type": "codeVoice"
            },
            {
              "text": " parameter. In your completion handler, verify that the number of transferred elements matches the number that you requested.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/driverkit/error_codes": {
      "abstract": [
        {
          "text": "Determine the reason an operation fails.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/driverkit/error_codes",
      "kind": "article",
      "role": "article",
      "title": "Error Codes",
      "type": "topic",
      "url": "/documentation/driverkit/error_codes"
    },
    "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess",
      "kind": "symbol",
      "role": "symbol",
      "title": "kIOReturnSuccess",
      "type": "topic",
      "url": "/documentation/driverkit/kioreturnsuccess"
    },
    "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295833-creatememorydescriptorring": {
      "abstract": [
        {
          "text": "Creates a memory descriptor ring for use with bundled I/O calls. ",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295833-creatememorydescriptorring",
      "kind": "symbol",
      "role": "symbol",
      "title": "CreateMemoryDescriptorRing",
      "type": "topic",
      "url": "/documentation/kernel/iousbhostpipe/3295833-creatememorydescriptorring"
    },
    "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295835-setmemorydescriptor": {
      "abstract": [
        {
          "text": "Adds a memory descriptor to the ring.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295835-setmemorydescriptor",
      "kind": "symbol",
      "role": "symbol",
      "title": "SetMemoryDescriptor",
      "type": "topic",
      "url": "/documentation/kernel/iousbhostpipe/3295835-setmemorydescriptor"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.usbdriverkit/documentation/USBDriverKit": {
      "abstract": [
        {
          "text": "Develop drivers for USB-based devices.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit",
      "kind": "symbol",
      "role": "collection",
      "title": "USBDriverKit",
      "type": "topic",
      "url": "/documentation/usbdriverkit"
    },
    "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe": {
      "abstract": [
        {
          "text": "An object you use to transfer data to or from a USB endpoint.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "IOUSBHostPipe"
        }
      ],
      "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe",
      "kind": "symbol",
      "role": "symbol",
      "title": "IOUSBHostPipe",
      "type": "topic",
      "url": "/documentation/usbdriverkit/iousbhostpipe"
    },
    "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/AsyncIOBundled": {
      "abstract": [
        {
          "text": "Enqueues a contiguous group of requests from the descriptor ring.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "AsyncIOBundled"
        }
      ],
      "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/AsyncIOBundled",
      "kind": "symbol",
      "role": "symbol",
      "title": "AsyncIOBundled",
      "type": "topic",
      "url": "/documentation/usbdriverkit/iousbhostpipe/asynciobundled"
    },
    "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/CompleteAsyncIOBundled": {
      "abstract": [
        {
          "text": "Handles the completion of an asynchronous bundled transfer.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "CompleteAsyncIOBundled"
        }
      ],
      "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/CompleteAsyncIOBundled",
      "kind": "symbol",
      "role": "symbol",
      "title": "CompleteAsyncIOBundled",
      "type": "topic",
      "url": "/documentation/usbdriverkit/iousbhostpipe/completeasynciobundled"
    },
    "doc://com.apple.usbdriverkit/documentation/USBDriverKit/bundling_constants-enum": {
      "abstract": [
        {
          "text": "Constants associated with bulk I/O transfers.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.usbdriverkit/documentation/USBDriverKit/bundling_constants-enum",
      "kind": "article",
      "role": "collectionGroup",
      "title": "Bundling Constants",
      "type": "topic",
      "url": "/documentation/usbdriverkit/bundling_constants-enum"
    },
    "doc://com.externally.resolved.symbol/c:@S@OSAction": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.externally.resolved.symbol/c:@S@OSAction",
      "kind": "symbol",
      "role": "symbol",
      "title": "OSAction",
      "type": "topic",
      "url": "/documentation/kernel/osaction"
    },
    "doc://com.externally.resolved.symbol/c:@T@kern_return_t": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.externally.resolved.symbol/c:@T@kern_return_t",
      "kind": "symbol",
      "role": "symbol",
      "title": "kern_return_t",
      "type": "topic",
      "url": "/documentation/kernel/kern_return_t"
    },
    "doc://com.externally.resolved.symbol/c:@T@uint32_t": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.externally.resolved.symbol/c:@T@uint32_t",
      "kind": "symbol",
      "role": "symbol",
      "title": "uint32_t",
      "type": "topic",
      "url": "/documentation/kernel/uint32_t"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Interacting-with-Descriptor-Rings",
      "generated": true,
      "identifiers": [
        "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295833-creatememorydescriptorring",
        "doc://com.apple.documentation/documentation/kernel/iousbhostpipe/3295835-setmemorydescriptor",
        "doc://com.apple.usbdriverkit/documentation/USBDriverKit/IOUSBHostPipe/CompleteAsyncIOBundled",
        "doc://com.apple.usbdriverkit/documentation/USBDriverKit/bundling_constants-enum"
      ],
      "title": "Interacting with Descriptor Rings"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/usbdriverkit/iousbhostpipe/asynciobundled"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
