{
  "abstract": [
    {
      "text": "Initializes the controller in response to a call from the framework.",
      "type": "text"
    }
  ],
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit",
        "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "occ",
    "url": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserInitializeController"
  },
  "kind": "symbol",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "c:@S@IOUserSCSIParallelInterfaceController@F@UserInitializeController#",
    "fragments": [
      {
        "kind": "identifier",
        "text": "UserInitializeController"
      }
    ],
    "modules": [
      {
        "name": "SCSIControllerDriverKit"
      }
    ],
    "navigatorTitle": [
      {
        "kind": "identifier",
        "text": "UserInitializeController"
      }
    ],
    "platforms": [
      {
        "beta": false,
        "name": "DriverKit"
      }
    ],
    "role": "symbol",
    "roleHeading": "Instance Method",
    "symbolKind": "method",
    "title": "UserInitializeController"
  },
  "primaryContentSections": [
    {
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "platforms": [
            "Unsupported OS: driverkit"
          ],
          "tokens": [
            {
              "identifier": "doc://com.externally.resolved.symbol/c:@T@kern_return_t",
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@kern_return_t",
              "text": "kern_return_t"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "UserInitializeController"
            },
            {
              "kind": "text",
              "text": "();"
            }
          ]
        }
      ],
      "kind": "declarations"
    },
    {
      "content": [
        {
          "anchor": "return-value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "A value that indicates the result of initialization. ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " indicates success. For error definitions, see ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.documentation/documentation/iokit/iokit_constants",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        }
      ],
      "kind": "content"
    },
    {
      "content": [
        {
          "anchor": "Discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The first method in the dext that the framework calls is ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserInitializeController",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ", which it only calls once per instantiation. Use this method to perform all necessary initialization that the hardware requires before it can accept requests to execute. Make all necessary resource allocations during this method call.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "anchor": "Queuing-Considerations",
          "level": 3,
          "text": "Queuing Considerations",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "For best results, use a model with three dispatch queues. DriverKit creates a default queue for you, and youâ€™ll also need to create interrupt auxiliary queues. Because DriverKit dispatch queues are serial, this arrangement prevents calls from DriverKit, interrupts, and I/O work from competing with one another on the same thread.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The following example shows how to implement ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserInitializeController",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " to set up the queues. After opening the PCI device session, it creates the auxiliary and interrupt queues, and then uses the interrupt queue to register for interrupts.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "IMPL ( ExampleSCSIDext, UserInitializeController )",
            "{",
            "    kern_return_t    ret;",
            "    ",
            "    // Perform any needed initialization here",
            "",
            "    // Open a new PCI session.",
            "    ret = ivars->fPCIDevice->Open ( this, 0 );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "",
            "    // Create and set dispatch queues.",
            "    ret = SetDispatchQueue ( \"AuxiliaryQueue\", ivars->fAuxQueue );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "",
            "    ret = SetDispatchQueue ( \"InterruptQueue\", ivars->fIntQueue );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "",
            "    // Register for interrupts.",
            "    ret = IOInterruptDispatchSource::Create ( ivars->fPCIDevice,",
            "                                             index,",
            "                                             ivars->fIntQueue,",
            "                                             &ivars->fIntSource );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "",
            "    ret = CreateActionInterruptOccurred ( sizeof ( void  * ),",
            "                                          &ivars->fInterruptCompletion );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "    ",
            "    ret = ivars->fIntSource->SetHandler ( ivars->fInterruptCompletion );",
            "    __Require ( ( kIOReturnSuccess == ret ), Exit );",
            "",
            "    // Perform any further initialization here.",
            "",
            "}"
          ],
          "syntax": "objc",
          "type": "codeListing"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/driverkit/kioreturnsuccess",
      "kind": "symbol",
      "role": "symbol",
      "title": "kIOReturnSuccess",
      "type": "topic",
      "url": "/documentation/driverkit/kioreturnsuccess"
    },
    "doc://com.apple.documentation/documentation/iokit/iokit_constants": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/iokit/iokit_constants",
      "kind": "article",
      "role": "article",
      "title": "IOKit Constants",
      "type": "topic",
      "url": "/documentation/iokit/iokit_constants"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    },
    "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit": {
      "abstract": [
        {
          "text": "Develop drivers for SCSI protocol-based devices.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit",
      "kind": "symbol",
      "role": "collection",
      "title": "SCSIControllerDriverKit",
      "type": "topic",
      "url": "/documentation/scsicontrollerdriverkit"
    },
    "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController": {
      "abstract": [
        {
          "text": "A DriverKit provider object that manages communications with SCSI-based devices.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "IOUserSCSIParallelInterfaceController"
        }
      ],
      "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController",
      "kind": "symbol",
      "role": "symbol",
      "title": "IOUserSCSIParallelInterfaceController",
      "type": "topic",
      "url": "/documentation/scsicontrollerdriverkit/iouserscsiparallelinterfacecontroller"
    },
    "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserInitializeController": {
      "abstract": [
        {
          "text": "Initializes the controller in response to a call from the framework.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "UserInitializeController"
        }
      ],
      "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserInitializeController",
      "kind": "symbol",
      "role": "symbol",
      "title": "UserInitializeController",
      "type": "topic",
      "url": "/documentation/scsicontrollerdriverkit/iouserscsiparallelinterfacecontroller/userinitializecontroller"
    },
    "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserStartController": {
      "abstract": [
        {
          "text": "Starts the controller in response to a call from the framework.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "identifier",
          "text": "UserStartController"
        }
      ],
      "identifier": "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserStartController",
      "kind": "symbol",
      "role": "symbol",
      "title": "UserStartController",
      "type": "topic",
      "url": "/documentation/scsicontrollerdriverkit/iouserscsiparallelinterfacecontroller/userstartcontroller"
    },
    "doc://com.externally.resolved.symbol/c:@T@kern_return_t": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.externally.resolved.symbol/c:@T@kern_return_t",
      "kind": "symbol",
      "role": "symbol",
      "title": "kern_return_t",
      "type": "topic",
      "url": "/documentation/kernel/kern_return_t"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "Managing-Controllers",
      "generated": true,
      "identifiers": [
        "doc://com.apple.scsicontrollerdriverkit/documentation/SCSIControllerDriverKit/IOUserSCSIParallelInterfaceController/UserStartController"
      ],
      "title": "Managing Controllers"
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/scsicontrollerdriverkit/iouserscsiparallelinterfacecontroller/userinitializecontroller"
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ]
}
