{
  "abstract": [
    {
      "text": "Get a customer’s in-app purchase transaction history for your app, except finished consumable in-app purchases.",
      "type": "text"
    }
  ],
  "deprecationSummary": [
    {
      "inlineContent": [
        {
          "text": "Use ",
          "type": "text"
        },
        {
          "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v2-history-_transactionId_",
          "isActive": true,
          "type": "reference"
        },
        {
          "text": " instead, which gets the history for all product types, including consumable in-app purchases in the finished state.",
          "type": "text"
        }
      ],
      "type": "paragraph"
    }
  ],
  "diffAvailability": {
    "major": {
      "change": "deprecated",
      "platform": "App Store Server API",
      "versions": [
        "1.0 beta 1",
        "1.13"
      ]
    }
  },
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI"
      ]
    ]
  },
  "identifier": {
    "interfaceLanguage": "data",
    "url": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v1-history-_transactionId_"
  },
  "kind": "symbol",
  "legalNotices": {
    "copyright": "Copyright &copy; 2025 Apple Inc. All rights reserved.",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html"
  },
  "metadata": {
    "externalID": "rest:app_store_server_api:get:v1-history-{}",
    "modules": [
      {
        "name": "App Store Server API"
      }
    ],
    "navigatorTitle": [
      {
        "kind": "identifier",
        "text": "GET /v1/history/{transactionId}"
      }
    ],
    "platforms": [
      {
        "beta": false,
        "deprecatedAt": "1.12",
        "introducedAt": "1.0",
        "name": "App Store Server API"
      }
    ],
    "role": "symbol",
    "roleHeading": "Web Service Endpoint",
    "symbolKind": "httpRequest",
    "title": "Get Transaction History V1"
  },
  "primaryContentSections": [
    {
      "kind": "restEndpoint",
      "title": "URL",
      "tokens": [
        {
          "kind": "method",
          "text": "GET"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "baseURL",
          "text": "https://api.storekit.itunes.apple.com/inApps/"
        },
        {
          "kind": "path",
          "text": "v1/history/"
        },
        {
          "kind": "parameter",
          "text": "{transactionId}"
        }
      ]
    },
    {
      "kind": "restEndpoint",
      "title": "Sandbox URL",
      "tokens": [
        {
          "kind": "method",
          "text": "GET"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "baseURL",
          "text": "https://api.storekit-sandbox.itunes.apple.com/inApps/"
        },
        {
          "kind": "path",
          "text": "v1/history/"
        },
        {
          "kind": "parameter",
          "text": "{transactionId}"
        }
      ]
    },
    {
      "items": [
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The identifier of a transaction that belongs to the customer, and which may be an original transaction identifier (",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/originalTransactionId",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ").",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "transactionId",
          "required": true,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/transactionId",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:transactionId",
              "text": "transactionId"
            }
          ]
        }
      ],
      "kind": "restParameters",
      "source": "path",
      "title": "Path Parameters"
    },
    {
      "items": [
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "A token you provide to get the next set of up to 20 transactions. All responses include a ",
                  "type": "text"
                },
                {
                  "code": "revision",
                  "type": "codeVoice"
                },
                {
                  "text": " token. Use the ",
                  "type": "text"
                },
                {
                  "code": "revision",
                  "type": "codeVoice"
                },
                {
                  "text": " token from the previous ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            },
            {
              "inlineContent": [
                {
                  "text": "Note: The ",
                  "type": "text"
                },
                {
                  "code": "revision",
                  "type": "codeVoice"
                },
                {
                  "text": " token is required in all requests except the initial request. For requests that use the ",
                  "type": "text"
                },
                {
                  "code": "revision",
                  "type": "codeVoice"
                },
                {
                  "text": " token, include the same query parameters from the initial request.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "revision",
          "required": false,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/revision",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:revision",
              "text": "revision"
            }
          ]
        },
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional start date of the timespan for the transaction history records you’re requesting. The ",
                  "type": "text"
                },
                {
                  "code": "startDate",
                  "type": "codeVoice"
                },
                {
                  "text": " needs to precede the ",
                  "type": "text"
                },
                {
                  "code": "endDate",
                  "type": "codeVoice"
                },
                {
                  "text": " if you specify both dates. The results include a transaction if its ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/purchaseDate",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " is equal to or greater than the ",
                  "type": "text"
                },
                {
                  "code": "startDate",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "startDate",
          "required": false,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/startDate",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:startDate",
              "text": "startDate"
            }
          ]
        },
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional end date of the timespan for the transaction history records you’re requesting. Choose an ",
                  "type": "text"
                },
                {
                  "code": "endDate",
                  "type": "codeVoice"
                },
                {
                  "text": " that’s later than the ",
                  "type": "text"
                },
                {
                  "code": "startDate",
                  "type": "codeVoice"
                },
                {
                  "text": " if you specify both dates. Using an ",
                  "type": "text"
                },
                {
                  "code": "endDate",
                  "type": "codeVoice"
                },
                {
                  "text": " in the future is valid. The results include a transaction if its ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/purchaseDate",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " is less than the ",
                  "type": "text"
                },
                {
                  "code": "endDate",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "endDate",
          "required": false,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/endDate",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:endDate",
              "text": "endDate"
            }
          ]
        },
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional filter that indicates the product identifier to include in the transaction history. Your query may specify more than one ",
                  "type": "text"
                },
                {
                  "code": "productID",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "productId",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "["
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/productId",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:productId",
              "text": "productId"
            },
            {
              "kind": "text",
              "text": "]"
            }
          ]
        },
        {
          "attributes": [
            {
              "kind": "allowedValues",
              "values": [
                "AUTO_RENEWABLE",
                "NON_RENEWABLE",
                "CONSUMABLE",
                "NON_CONSUMABLE"
              ]
            }
          ],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional filter that indicates the product type to include in the transaction history. Your query may specify more than one ",
                  "type": "text"
                },
                {
                  "code": "productType",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "productType",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "[string]"
            }
          ]
        },
        {
          "attributes": [
            {
              "kind": "allowedValues",
              "values": [
                "ASCENDING",
                "DESCENDING"
              ]
            }
          ],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional sort order for the transaction history records. The response sorts the transaction records by their recently modified date. The default value is ",
                  "type": "text"
                },
                {
                  "code": "ASCENDING",
                  "type": "codeVoice"
                },
                {
                  "text": ", so you receive the oldest records first.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "sort",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "string"
            }
          ]
        },
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional filter that indicates the subscription group identifier to include in the transaction history. Your query may specify more than one ",
                  "type": "text"
                },
                {
                  "code": "subscriptionGroupIdentifier",
                  "type": "codeVoice"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "subscriptionGroupIdentifier",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "["
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/subscriptionGroupIdentifier",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:subscriptionGroupIdentifier",
              "text": "subscriptionGroupIdentifier"
            },
            {
              "kind": "text",
              "text": "]"
            }
          ]
        },
        {
          "attributes": [],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional filter that limits the transaction history by the in-app ownership type.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "inAppOwnershipType",
          "required": false,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/inAppOwnershipType",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:inAppOwnershipType",
              "text": "inAppOwnershipType"
            }
          ]
        },
        {
          "attributes": [
            {
              "kind": "allowedValues",
              "values": [
                "true",
                "false"
              ]
            }
          ],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "An optional Boolean value that indicates whether the response includes only revoked transactions when the value is ",
                  "type": "text"
                },
                {
                  "code": "true",
                  "type": "codeVoice"
                },
                {
                  "text": ", or contains only nonrevoked transactions when the value is ",
                  "type": "text"
                },
                {
                  "code": "false",
                  "type": "codeVoice"
                },
                {
                  "text": ". By default, the request doesn’t include this parameter.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "revoked",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "boolean"
            }
          ]
        },
        {
          "attributes": [
            {
              "kind": "allowedValues",
              "values": [
                "true",
                "false"
              ]
            }
          ],
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Set ",
                  "type": "text"
                },
                {
                  "code": "revoked",
                  "type": "codeVoice"
                },
                {
                  "text": " to ",
                  "type": "text"
                },
                {
                  "code": "false",
                  "type": "codeVoice"
                },
                {
                  "text": " to exclude revoked transactions instead.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "deprecated": true,
          "name": "excludeRevoked",
          "required": false,
          "type": [
            {
              "kind": "text",
              "text": "boolean"
            }
          ]
        }
      ],
      "kind": "restParameters",
      "source": "query",
      "title": "Query Parameters"
    },
    {
      "items": [
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Request succeeded.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "mimeType": "application/json",
          "reason": "OK",
          "status": 200,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:HistoryResponse",
              "text": "HistoryResponse"
            }
          ]
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Invalid request.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "mimeType": "application/json",
          "reason": "Bad Request",
          "status": 400,
          "type": [
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidAppIdentifierError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidAppIdentifierError",
              "text": "InvalidAppIdentifierError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRequestRevisionError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidRequestRevisionError",
              "text": "InvalidRequestRevisionError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidTransactionIdError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidTransactionIdError",
              "text": "InvalidTransactionIdError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSortError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidSortError",
              "text": "InvalidSortError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidStartDateError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidStartDateError",
              "text": "InvalidStartDateError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidEndDateError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidEndDateError",
              "text": "InvalidEndDateError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductTypeError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidProductTypeError",
              "text": "InvalidProductTypeError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductIdError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidProductIdError",
              "text": "InvalidProductIdError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSubscriptionGroupIdentifierError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidSubscriptionGroupIdentifierError",
              "text": "InvalidSubscriptionGroupIdentifierError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidInAppOwnershipTypeError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidInAppOwnershipTypeError",
              "text": "InvalidInAppOwnershipTypeError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidExcludeRevokedError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidExcludeRevokedError",
              "text": "InvalidExcludeRevokedError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRevokedError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:InvalidRevokedError",
              "text": "InvalidRevokedError"
            },
            {
              "kind": "text",
              "text": ")"
            }
          ]
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The JSON Web Token (JWT) in the authorization header is invalid. For more information, see ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": ".",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "reason": "Unauthorized",
          "status": 401,
          "type": []
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "mimeType": "application/json",
          "reason": "Not Found",
          "status": 404,
          "type": [
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:AccountNotFoundError",
              "text": "AccountNotFoundError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundRetryableError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:AccountNotFoundRetryableError",
              "text": "AccountNotFoundRetryableError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:AppNotFoundError",
              "text": "AppNotFoundError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundRetryableError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:AppNotFoundRetryableError",
              "text": "AppNotFoundRetryableError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/TransactionIdNotFoundError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:TransactionIdNotFoundError",
              "text": "TransactionIdNotFoundError"
            },
            {
              "kind": "text",
              "text": ")"
            }
          ]
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "The request exceeded the rate limit.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "mimeType": "application/json",
          "status": 429,
          "type": [
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/RateLimitExceededError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:RateLimitExceededError",
              "text": "RateLimitExceededError"
            }
          ]
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "Server error. Try again later.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "mimeType": "application/json",
          "reason": "Internal Server Error",
          "status": 500,
          "type": [
            {
              "kind": "text",
              "text": "("
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:GeneralInternalError",
              "text": "GeneralInternalError"
            },
            {
              "kind": "text",
              "text": " | "
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalRetryableError",
              "kind": "typeIdentifier",
              "preciseIdentifier": "data:app_store_server_api:GeneralInternalRetryableError",
              "text": "GeneralInternalRetryableError"
            },
            {
              "kind": "text",
              "text": ")"
            }
          ]
        }
      ],
      "kind": "restResponses",
      "title": "Response Codes"
    },
    {
      "kind": "mentions",
      "mentions": [
        "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/app-store-server-api-changelog",
        "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/identifying-rate-limits"
      ]
    },
    {
      "content": [
        {
          "anchor": "Discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v1-history-_transactionId_",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": " endpoint returns results for the following product types:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "items": [
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Auto-renewable subscriptions",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Non-renewing subscriptions",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Non-consumable in-app purchases",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            },
            {
              "content": [
                {
                  "inlineContent": [
                    {
                      "text": "Consumable in-app purchases if the transaction is refunded or revoked, or if the app hasn’t finished processing the transaction. The results don’t include consumable in-app purchases that the app marks as finished. For more information about finishing transactions, see ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/StoreKit/Transaction/finish()",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": " and ",
                      "type": "text"
                    },
                    {
                      "identifier": "doc://com.apple.documentation/documentation/StoreKit/SKPaymentQueue/finishTransaction(_:)",
                      "isActive": true,
                      "type": "reference"
                    },
                    {
                      "text": ".",
                      "type": "text"
                    }
                  ],
                  "type": "paragraph"
                }
              ]
            }
          ],
          "type": "unorderedList"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "Use ",
                  "type": "text"
                },
                {
                  "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v2-history-_transactionId_",
                  "isActive": true,
                  "type": "reference"
                },
                {
                  "text": " instead to get all the product types, including consumable in-app purchases in the finished state.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Note",
          "style": "note",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "You can customize your request by including query parameters that filter the transaction history. The query parameters limit the scope of the request by dates, product IDs, product types, and subscription group identifiers. You can also exclude revoked or nonrevoked transactions, and limit the transactions by in-app ownership type. If you provide multiple filters in the query, the transactions that return match all the filters.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "You can also specify a sort order. The App Store sorts the transactions based on their recently modified dates. Use a ",
              "type": "text"
            },
            {
              "code": "DESCENDING",
              "type": "codeVoice"
            },
            {
              "text": " order to get the most recent transactions first. The App Store updates the recently modified date if the customer upgrades a subscription or the App Store revokes an in-app purchase. If a transaction updates while you’re receiving transaction history and the response is sorted in ",
              "type": "text"
            },
            {
              "code": "ASCENDING",
              "type": "codeVoice"
            },
            {
              "text": " order, you may receive the transaction again with updated data.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "inlineContent": [
            {
              "text": "The ",
              "type": "text"
            },
            {
              "code": "productId",
              "type": "codeVoice"
            },
            {
              "text": ", ",
              "type": "text"
            },
            {
              "code": "productType",
              "type": "codeVoice"
            },
            {
              "text": ", and ",
              "type": "text"
            },
            {
              "code": "subscriptionGroupIdentifier",
              "type": "codeVoice"
            },
            {
              "text": " query parameters allow you to specify multiple values. To specify more than one value for a query parameter, include it in the request multiple times. For example, to filter the transaction history by non-consumable and auto-renewable product types, include the following within your request:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "GET https://api.storekit.itunes.apple.com/inApps/v1/history/{transactionId}?productType=NON_CONSUMABLE&productType=AUTO_RENEWABLE"
          ],
          "syntax": "javascript",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "When you specify multiple values for a single query parameter, the response contains transactions that match any of the values.",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "content": [
            {
              "inlineContent": [
                {
                  "text": "",
                  "type": "text"
                },
                {
                  "text": " ",
                  "type": "text"
                },
                {
                  "text": "If you use optional query parameters, be sure to use the same query parameters on subsequent requests that include the ",
                  "type": "text"
                },
                {
                  "code": "revision",
                  "type": "codeVoice"
                },
                {
                  "text": " parameter.",
                  "type": "text"
                }
              ],
              "type": "paragraph"
            }
          ],
          "name": "Note",
          "style": "note",
          "type": "aside"
        },
        {
          "inlineContent": [
            {
              "text": "To request a full transaction history in ascending order for your app, start by calling the endpoint without any query parameters, as follows:",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "GET https://api.storekit.itunes.apple.com/inApps/v1/history/{transactionId}"
          ],
          "syntax": "javascript",
          "type": "codeListing"
        },
        {
          "inlineContent": [
            {
              "text": "For subsequent requests, include the ",
              "type": "text"
            },
            {
              "code": "revision",
              "type": "codeVoice"
            },
            {
              "text": " token from the previous ",
              "type": "text"
            },
            {
              "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse",
              "isActive": true,
              "type": "reference"
            },
            {
              "text": ".",
              "type": "text"
            }
          ],
          "type": "paragraph"
        },
        {
          "code": [
            "GET https://api.storekit.itunes.apple.com/inApps/v1/history/{transactionId}?revision={revision}"
          ],
          "syntax": "javascript",
          "type": "codeListing"
        }
      ],
      "kind": "content"
    }
  ],
  "references": {
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI": {
      "abstract": [
        {
          "text": "Manage your customers’ App Store transactions from your server.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI",
      "kind": "symbol",
      "role": "collection",
      "title": "App Store Server API",
      "type": "topic",
      "url": "/documentation/appstoreserverapi"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundError": {
      "abstract": [
        {
          "text": "An error that indicates the App Store account wasn’t found.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "AccountNotFoundError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "AccountNotFoundError"
        }
      ],
      "role": "symbol",
      "title": "AccountNotFoundError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/accountnotfounderror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundRetryableError": {
      "abstract": [
        {
          "text": "An error response that indicates the App Store account wasn’t found, but you can try again.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "AccountNotFoundRetryableError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AccountNotFoundRetryableError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "AccountNotFoundRetryableError"
        }
      ],
      "role": "symbol",
      "title": "AccountNotFoundRetryableError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/accountnotfoundretryableerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundError": {
      "abstract": [
        {
          "text": "An error that indicates the app wasn’t found.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "AppNotFoundError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "AppNotFoundError"
        }
      ],
      "role": "symbol",
      "title": "AppNotFoundError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/appnotfounderror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundRetryableError": {
      "abstract": [
        {
          "text": "An error response that indicates the app wasn’t found, but you can try again.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "AppNotFoundRetryableError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/AppNotFoundRetryableError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "AppNotFoundRetryableError"
        }
      ],
      "role": "symbol",
      "title": "AppNotFoundRetryableError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/appnotfoundretryableerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v1-history-_transactionId_": {
      "abstract": [
        {
          "text": "Get a customer’s in-app purchase transaction history for your app, except finished consumable in-app purchases.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v1-history-_transactionId_",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "GET /v1/history/{transactionId}"
        }
      ],
      "role": "symbol",
      "title": "Get Transaction History V1",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/get-v1-history-_transactionid_"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v2-history-_transactionId_": {
      "abstract": [
        {
          "text": "Get a customer’s in-app purchase transaction history for your app.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v2-history-_transactionId_",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "GET /v2/history/{transactionId}"
        }
      ],
      "role": "symbol",
      "title": "Get Transaction History",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/get-v2-history-_transactionid_"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalError": {
      "abstract": [
        {
          "text": "An error that indicates a general internal error.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "GeneralInternalError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "GeneralInternalError"
        }
      ],
      "role": "symbol",
      "title": "GeneralInternalError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/generalinternalerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalRetryableError": {
      "abstract": [
        {
          "text": "An error response that indicates an unknown error occurred, but you can try again.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "GeneralInternalRetryableError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GeneralInternalRetryableError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "GeneralInternalRetryableError"
        }
      ],
      "role": "symbol",
      "title": "GeneralInternalRetryableError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/generalinternalretryableerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse": {
      "abstract": [
        {
          "text": "A response that contains the customer’s transaction history for an app.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "HistoryResponse"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "HistoryResponse"
        }
      ],
      "role": "symbol",
      "title": "HistoryResponse",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/historyresponse"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidAppIdentifierError": {
      "abstract": [
        {
          "text": "An error that indicates an invalid app identifier.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidAppIdentifierError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidAppIdentifierError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidAppIdentifierError"
        }
      ],
      "role": "symbol",
      "title": "InvalidAppIdentifierError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidappidentifiererror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidEndDateError": {
      "abstract": [
        {
          "text": "An error that indicates the end date is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidEndDateError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidEndDateError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidEndDateError"
        }
      ],
      "role": "symbol",
      "title": "InvalidEndDateError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidenddateerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidExcludeRevokedError": {
      "abstract": [
        {
          "text": "An error that indicates the query parameter exclude-revoked is invalid.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidExcludeRevokedError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidExcludeRevokedError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidExcludeRevokedError"
        }
      ],
      "role": "symbol",
      "title": "InvalidExcludeRevokedError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidexcluderevokederror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidInAppOwnershipTypeError": {
      "abstract": [
        {
          "text": "An error that indicates an invalid in-app ownership type parameter.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidInAppOwnershipTypeError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidInAppOwnershipTypeError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidInAppOwnershipTypeError"
        }
      ],
      "role": "symbol",
      "title": "InvalidInAppOwnershipTypeError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidinappownershiptypeerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductIdError": {
      "abstract": [
        {
          "text": "An error that indicates the product ID parameter is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidProductIdError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductIdError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidProductIdError"
        }
      ],
      "role": "symbol",
      "title": "InvalidProductIdError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidproductiderror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductTypeError": {
      "abstract": [
        {
          "text": "An error that indicates the product type parameter is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidProductTypeError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidProductTypeError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidProductTypeError"
        }
      ],
      "role": "symbol",
      "title": "InvalidProductTypeError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidproducttypeerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRequestRevisionError": {
      "abstract": [
        {
          "text": "An error that indicates an invalid request revision.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidRequestRevisionError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRequestRevisionError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidRequestRevisionError"
        }
      ],
      "role": "symbol",
      "title": "InvalidRequestRevisionError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidrequestrevisionerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRevokedError": {
      "abstract": [
        {
          "text": "An error that indicates the revoked parameter contains an invalid value.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidRevokedError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidRevokedError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidRevokedError"
        }
      ],
      "role": "symbol",
      "title": "InvalidRevokedError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidrevokederror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSortError": {
      "abstract": [
        {
          "text": "An error that indicates the sort parameter is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidSortError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSortError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidSortError"
        }
      ],
      "role": "symbol",
      "title": "InvalidSortError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidsorterror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidStartDateError": {
      "abstract": [
        {
          "text": "An error that indicates the start date is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidStartDateError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidStartDateError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidStartDateError"
        }
      ],
      "role": "symbol",
      "title": "InvalidStartDateError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidstartdateerror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSubscriptionGroupIdentifierError": {
      "abstract": [
        {
          "text": "An error that indicates the subscription group identifier is invalid.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidSubscriptionGroupIdentifierError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidSubscriptionGroupIdentifierError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidSubscriptionGroupIdentifierError"
        }
      ],
      "role": "symbol",
      "title": "InvalidSubscriptionGroupIdentifierError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidsubscriptiongroupidentifiererror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidTransactionIdError": {
      "abstract": [
        {
          "text": "An error that indicates an invalid transaction identifier.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "InvalidTransactionIdError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/InvalidTransactionIdError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "InvalidTransactionIdError"
        }
      ],
      "role": "symbol",
      "title": "InvalidTransactionIdError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/invalidtransactioniderror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/RateLimitExceededError": {
      "abstract": [
        {
          "text": "An error that indicates the request exceeded the rate limit.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "RateLimitExceededError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/RateLimitExceededError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "RateLimitExceededError"
        }
      ],
      "role": "symbol",
      "title": "RateLimitExceededError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/ratelimitexceedederror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/TransactionIdNotFoundError": {
      "abstract": [
        {
          "text": "An error that indicates a transaction identifier wasn’t found.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "object "
        },
        {
          "kind": "identifier",
          "text": "TransactionIdNotFoundError"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/TransactionIdNotFoundError",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "TransactionIdNotFoundError"
        }
      ],
      "role": "symbol",
      "title": "TransactionIdNotFoundError",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/transactionidnotfounderror"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/app-store-server-api-changelog": {
      "abstract": [
        {
          "text": "Learn about new features and updates in the App Store Server API.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/app-store-server-api-changelog",
      "kind": "article",
      "role": "article",
      "title": "App Store Server API changelog",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/app-store-server-api-changelog"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/endDate": {
      "abstract": [
        {
          "text": "The end date of a timespan, expressed in UNIX time, in milliseconds.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "endDate"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/endDate",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "endDate"
        }
      ],
      "role": "symbol",
      "title": "endDate",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/enddate"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests": {
      "abstract": [
        {
          "text": "Create JSON Web Tokens signed with your private key to authorize requests for App Store Server API and External Purchase Server API.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/generating-json-web-tokens-for-api-requests",
      "kind": "article",
      "role": "article",
      "title": "Generating JSON Web Tokens for API requests",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/generating-json-web-tokens-for-api-requests"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/identifying-rate-limits": {
      "abstract": [
        {
          "text": "Recognize the rate limits that apply to App Store Server API endpoints and handle them in your code.",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/identifying-rate-limits",
      "kind": "article",
      "role": "article",
      "title": "Identifying rate limits",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/identifying-rate-limits"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/inAppOwnershipType": {
      "abstract": [
        {
          "text": "A string that describes whether the transaction was purchased by the customer, or is available to them through Family Sharing.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "inAppOwnershipType"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/inAppOwnershipType",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "inAppOwnershipType"
        }
      ],
      "role": "symbol",
      "title": "inAppOwnershipType",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/inappownershiptype"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/originalTransactionId": {
      "abstract": [
        {
          "text": "The original transaction identifier of a purchase.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "originalTransactionId"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/originalTransactionId",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "originalTransactionId"
        }
      ],
      "role": "symbol",
      "title": "originalTransactionId",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/originaltransactionid"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/productId": {
      "abstract": [
        {
          "text": "The unique identifier of the product, which you create in App Store Connect.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "productId"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/productId",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "productId"
        }
      ],
      "role": "symbol",
      "title": "productId",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/productid"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/purchaseDate": {
      "abstract": [
        {
          "text": "The time that the App Store charged the customer’s account for an In-App Purchase, a restored In-App Purchase, a subscription, or a subscription renewal after a lapse.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "purchaseDate"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/purchaseDate",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "purchaseDate"
        }
      ],
      "role": "symbol",
      "title": "purchaseDate",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/purchasedate"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/revision": {
      "abstract": [
        {
          "text": "A token you use in a query to request the next set of transactions for the customer.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "revision"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/revision",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "revision"
        }
      ],
      "role": "symbol",
      "title": "revision",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/revision"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/startDate": {
      "abstract": [
        {
          "text": "The start date of a timespan, expressed in UNIX time, in milliseconds.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "startDate"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/startDate",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "startDate"
        }
      ],
      "role": "symbol",
      "title": "startDate",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/startdate"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/subscriptionGroupIdentifier": {
      "abstract": [
        {
          "text": "The identifier of the subscription group that the subscription belongs to.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "subscriptionGroupIdentifier"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/subscriptionGroupIdentifier",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "subscriptionGroupIdentifier"
        }
      ],
      "role": "symbol",
      "title": "subscriptionGroupIdentifier",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/subscriptiongroupidentifier"
    },
    "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/transactionId": {
      "abstract": [
        {
          "text": "The unique identifier for a transaction, such as an In-App Purchase, restored In-App Purchase, or subscription renewal.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "type "
        },
        {
          "kind": "identifier",
          "text": "transactionId"
        }
      ],
      "identifier": "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/transactionId",
      "kind": "symbol",
      "navigatorTitle": [
        {
          "kind": "identifier",
          "text": "transactionId"
        }
      ],
      "role": "symbol",
      "title": "transactionId",
      "type": "topic",
      "url": "/documentation/appstoreserverapi/transactionid"
    },
    "doc://com.apple.documentation/documentation/StoreKit/SKPaymentQueue/finishTransaction(_:)": {
      "abstract": [
        {
          "text": "Notifies the App Store that the app finished processing the transaction.",
          "type": "text"
        }
      ],
      "deprecated": true,
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "finishTransaction"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "externalParam",
          "text": "_"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "internalParam",
          "text": "transaction"
        },
        {
          "kind": "text",
          "text": ": "
        },
        {
          "kind": "typeIdentifier",
          "preciseIdentifier": "c:objc(cs)SKPaymentTransaction",
          "text": "SKPaymentTransaction"
        },
        {
          "kind": "text",
          "text": ")"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/StoreKit/SKPaymentQueue/finishTransaction(_:)",
      "kind": "symbol",
      "role": "symbol",
      "title": "finishTransaction(_:)",
      "type": "topic",
      "url": "/documentation/StoreKit/SKPaymentQueue/finishTransaction(_:)"
    },
    "doc://com.apple.documentation/documentation/StoreKit/Transaction/finish()": {
      "abstract": [
        {
          "text": "Indicates to the App Store that the app delivered the purchased content or enabled the service to finish the transaction.",
          "type": "text"
        }
      ],
      "fragments": [
        {
          "kind": "keyword",
          "text": "func"
        },
        {
          "kind": "text",
          "text": " "
        },
        {
          "kind": "identifier",
          "text": "finish"
        },
        {
          "kind": "text",
          "text": "() "
        },
        {
          "kind": "keyword",
          "text": "async"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/StoreKit/Transaction/finish()",
      "kind": "symbol",
      "role": "symbol",
      "title": "finish()",
      "type": "topic",
      "url": "/documentation/StoreKit/Transaction/finish()"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "abstract": [
        {
          "text": "",
          "type": "text"
        }
      ],
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "kind": "technologies",
      "role": "overview",
      "title": "Technologies",
      "type": "topic",
      "url": "/documentation/technologies"
    }
  },
  "schemaVersion": {
    "major": 0,
    "minor": 3,
    "patch": 0
  },
  "sections": [],
  "seeAlsoSections": [
    {
      "anchor": "In-app-purchase-history",
      "generated": true,
      "identifiers": [
        "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/GET-v2-history-_transactionId_",
        "doc://com.apple.appstoreserverapi/documentation/AppStoreServerAPI/HistoryResponse"
      ],
      "title": "In-app purchase history"
    }
  ],
  "variantOverrides": [
    {
      "patch": [
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1StoreKit~1SKPaymentQueue~1finishTransaction(_:)/title",
          "value": "finishTransaction:"
        },
        {
          "op": "replace",
          "path": "/references/doc:~1~1com.apple.documentation~1documentation~1StoreKit~1SKPaymentQueue~1finishTransaction(_:)/fragments",
          "value": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:v",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ") "
            },
            {
              "kind": "identifier",
              "text": "finishTransaction:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)SKPaymentTransaction",
              "text": "SKPaymentTransaction"
            },
            {
              "kind": "text",
              "text": " *) "
            },
            {
              "kind": "internalParam",
              "text": "transaction"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ]
        }
      ],
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ]
    }
  ],
  "variants": [
    {
      "paths": [
        "/documentation/appstoreserverapi/get-v1-history-_transactionid_"
      ],
      "traits": [
        {
          "interfaceLanguage": "data"
        }
      ]
    }
  ]
}
